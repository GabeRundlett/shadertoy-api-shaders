{
    "Shader": {
        "info": {
            "date": "1651675504",
            "description": "I just wanted to try something new that I've never done before.",
            "flags": 8,
            "hasliked": 0,
            "id": "7tlBDl",
            "likes": 11,
            "name": "Tiny speaker with sound",
            "published": 3,
            "tags": [
                "speaker"
            ],
            "usePreview": 0,
            "username": "yasuo",
            "viewed": 324
        },
        "renderpass": [
            {
                "code": "#define antialiasing(n) n/min(iResolution.y,iResolution.x)\n#define Rot(a) mat2(cos(a),-sin(a),sin(a),cos(a))\n#define S(d,b) smoothstep(antialiasing(1.0),b,d)\n#define B(p,s) max(abs(p).x-s.x,abs(p).y-s.y)\n#define PI 3.1415\n#define PI_2 PI*2.0\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 p = (fragCoord-0.5*iResolution.xy)/iResolution.y;\n    vec2 prevP = p;\n\n    vec3 col = vec3(1.0);\n    \n    p*=Rot(radians(37.0));\n    float d = B(p-vec2(0.7,0.0),vec2(0.7,0.25));\n    col = mix(col,vec3(0.9),S(d,0.0));\n    p = prevP;\n    d = B(p,vec2(0.15,0.2));\n    col = mix(col,vec3(0.2,0.3,0.5),S(d,0.0));\n    d = B(p-vec2(0.0,-0.21),vec2(0.12,0.01));\n    col = mix(col,vec3(0.3),S(d,0.0));\n    \n    d = length(p-vec2(0.0,0.06))-0.06;\n    col = mix(col,vec3(1.0),S(d,0.0));\n    d = length(p-vec2(0.0,0.06))-0.05;\n    col = mix(col,vec3(0.4),S(d,0.0));\n    d = length(p-vec2(0.0,0.06))-0.03;\n    col = mix(col,vec3(0.2),S(d,0.0));\n        \n    d = length(p-vec2(0.0,-0.1))-0.08;\n    col = mix(col,vec3(1.0),S(d,0.0));\n    d = length(p-vec2(0.0,-0.1))-0.07;\n    col = mix(col,vec3(0.4),S(d,0.0));\n    d = length(p-vec2(0.0,-0.1))-0.05;\n    col = mix(col,vec3(0.2),S(d,0.0));\n    d = length(p-vec2(0.0,-0.1))-0.02;\n    col = mix(col,vec3(0.5,0.0,0.0),S(d,0.0));\n    \n    p.x = abs(p.x)-0.11;\n    d = length(p-vec2(0.0,-0.15))-0.02;\n    col = mix(col,vec3(0.5),S(d,0.0));\n    \n    p = prevP;\n    d = B(p-vec2(0.0,0.16),vec2(0.06,0.02));\n    col = mix(col,vec3(0.5),S(d,0.0));\n    \n    d = length(p-vec2(0.0,0.16))-0.01;\n    col = mix(col,vec3(0.9),S(d,0.0));\n    p.x = abs(p.x)-0.035;\n    d = length(p-vec2(0.0,0.16))-0.01;\n    col = mix(col,vec3(0.9),S(d,0.0));\n    \n    // react with sound\n    p = prevP;\n    float wave = fract(cos(2.*iTime*6.0)*sin(iTime*0.3));\n    d = length(p-vec2(0.0,-0.1))-clamp(wave*0.1,0.02,0.09);\n    col = mix(col,vec3(0.8),S(abs(d)-0.002,0.0));\n    \n    wave = fract(sin(2.*iTime*6.0)*cos(iTime*0.2));\n    d = length(p-vec2(0.0,0.06))-clamp(wave*0.1,0.02,0.07);\n    col = mix(col,vec3(0.8),S(abs(d)-0.002,0.0));\n    \n    fragColor = vec4(col,1.0);\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            },
            {
                "code": "#define PI 3.1415\n#define PI_2 PI*2.0\nconst float C = 261.63;\nconst float D = 293.66;\nconst float E = 329.63;\nconst float F = 349.23;\nconst float G = 392.00;\nconst float A = 440.00;\nconst float B = 493.88;\nconst float C2 = 523.25;\n\nvec2 mainSound( in int samp,float time) {\n    float t = fract(time*6.0);\n\n    float wave = fract(cos(2.*time)*sin(time*0.3));\n    float wave2 = fract(sin(2.*time)*cos(time*0.2));\n    vec2 result = vec2(sin(PI_2 * wave*E * t) * exp(-30.0 * t));\n    result += vec2(sin(PI_2 * wave2*B * t) * exp(-50.0 * t));\n\n    float volume = 0.03;    \n    return result*volume;\n}",
                "description": "",
                "inputs": [],
                "name": "Sound",
                "outputs": [],
                "type": "sound"
            }
        ],
        "ver": "0.1"
    }
}