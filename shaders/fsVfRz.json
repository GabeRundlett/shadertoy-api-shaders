{
    "Shader": {
        "info": {
            "date": "1657568087",
            "description": "LEFT: actual angle: acos(dot()) < thresh\nRIGHT: just dot: dot() > thresh.\n\nComparing two methods of deciding if a point is within an angle from another point.",
            "flags": 0,
            "hasliked": 0,
            "id": "fsVfRz",
            "likes": 2,
            "name": "in-angle test: angle vs. dot",
            "published": 3,
            "tags": [
                "angle"
            ],
            "usePreview": 0,
            "username": "elenzil",
            "viewed": 217
        },
        "renderpass": [
            {
                "code": "const float pi         = 3.14159265359;\nconst float deg_to_rad = pi * 2.0 / 360.0;\n\n\nvoid mainImage( out vec4 RGBA, in vec2 XY )\n{\n    const float pixelSize = 5.0;\n    \n    bool useDotProductInsteadOfActualAngle = false;\n    \n    if (XY.x > iResolution.x / 2.0) {\n        XY.x -= iResolution.x / 2.0;\n        useDotProductInsteadOfActualAngle = true;\n    }\n    \n    vec2 xy = XY;\n    xy.x = xy.x - iResolution.x / 4.0;\n    xy.y = xy.y - iResolution.y / 2.0;\n    xy = floor(xy / pixelSize + 0.5) * pixelSize;\n    \n    float coneAngle = (sin(iTime * 0.3) * 0.5 + 0.5) * 180.0 * deg_to_rad;\n    float cosConeAngle = cos(coneAngle);\n    \n    vec2 forward = vec2(0.0, -1.0);\n\n    float d = clamp(dot(forward, normalize(xy)), -1.0, 1.0);\n    float a = acos(d);\n    \n    RGBA = vec4(0.0, 0.0, 0.0, 1.0);\n    \n    bool inAngle = a < coneAngle;\n    if (useDotProductInsteadOfActualAngle) {\n        inAngle = d > cosConeAngle;\n    }\n    \n    RGBA.rgb = vec3(inAngle ? 0.6 : 0.0);\n    \n    if (length(xy) > min(iResolution.x / 4.0, iResolution.y / 2.0)) {\n        RGBA.rgb *= 0.0;\n    }\n    \n    RGBA.rgb = abs(XY.x - iResolution.x / 2.0) < 1.0 ? vec3(0.2) : RGBA.rgb;    \n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}