{
    "Shader": {
        "info": {
            "date": "1492390070",
            "description": "An early version of an effect from SVatG's demo \"Soap Washing Itself\".",
            "flags": 0,
            "hasliked": 0,
            "id": "4s2cWm",
            "likes": 68,
            "name": "CUTE & POP",
            "published": 3,
            "tags": [
                "cute",
                "tunnel",
                "pop",
                "fabric"
            ],
            "usePreview": 0,
            "username": "WAHa_06x36",
            "viewed": 1236
        },
        "renderpass": [
            {
                "code": "float distfunc(vec3 p)\n{\n\tp=sin(p);\n\tp-=0.5;\n\treturn length(p)-0.4;\n}\n\nfloat rand(vec2 co){\n    return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n    float time=iTime;\n\tvec2 p=(2.0*fragCoord.xy-iResolution.xy)/min(iResolution.x,iResolution.y)*0.5;\n\n\tfloat z0=time*28.0/1.0;\n\tfloat i=floor(z0);\n\tfloat offs=fract(z0);\n\tfloat shadow=1.0;\n\n\tfor(float z=1.0;z<150.0;z+=1.0)\n\t{\n\t\tfloat z2=z-offs;\n\t\tfloat randz=z+i;\n\t\tfloat dadt=(rand(vec2(randz,1.0))*2.0-1.0)*0.5;\n\t\tfloat a=rand(vec2(randz,1.0))*2.0*3.141592+dadt*time;\n\t\tfloat pullback=rand(vec2(randz,3.0))*4.0+1.0;\n\t\tfloat r=rand(vec2(randz,4.0))*0.5+1.4;\n\t\tfloat g=rand(vec2(randz,5.0))*0.5+0.7;\n\t\tfloat b=rand(vec2(randz,6.0))*0.5+0.7;\n\n\t\tvec2 origin=vec2(sin(randz*0.005)+sin(randz*0.002),cos(randz*0.005)+cos(randz*0.002))*z2*0.002;\n\t\t\n\t\tvec2 dir=vec2(cos(a),sin(a));\n\t\tfloat dist=dot(dir,p-origin)*z2;\n\t\tfloat xdist=dot(vec2(-dir.y,dir.x),p-origin)*z2;\n\t\tfloat wobble=dist-pullback+sin(xdist*20.0)*0.05;\n\t\tif(wobble>0.0)\n\t\t{\n\t\t\tfloat dotsize=rand(vec2(randz,7.0))*0.5+0.1;\n\t\t\tfloat patternsize=rand(vec2(randz,8.0))*2.0+2.0;\n\t\t\tfloat pattern=step(dotsize,length(fract(vec2(dist,xdist)*patternsize)-0.5))*0.1+0.9;\n\n\t\t\tfloat bright;\n\t\t\tif(wobble<0.2) bright=1.2;\n\t\t\telse if(wobble<0.22) bright=0.9;\n\t\t\telse bright=1.0*pattern;\n\n\t\t\tfragColor=vec4(30.0*vec3(r,g,b)*shadow/(z2+30.0)*bright,1.0);\n\t\t\treturn;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tshadow*=1.0-exp((dist-pullback)*2.0)*0.2;\n\t\t}\n\t}\n\tfragColor=vec4(vec3(0.0),1.0);\n}\n",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}