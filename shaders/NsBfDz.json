{
    "Shader": {
        "info": {
            "date": "1645967207",
            "description": "https://parawave-audio.com/index.php?route=product/rapid\nI like making these",
            "flags": 0,
            "hasliked": 0,
            "id": "NsBfDz",
            "likes": 18,
            "name": "Parawave RAPID Knob",
            "published": 3,
            "tags": [
                "knob"
            ],
            "usePreview": 0,
            "username": "Lastminute",
            "viewed": 461
        },
        "renderpass": [
            {
                "code": "precision lowp float;\n\nuniform vec2 u_resolution;\nuniform vec2 u_mouse;\n\n#define PI 3.1415926\n\nvec4 overlay(vec4 a,vec4 b)\n{\n\tfloat f=a.a+b.a*(1.-a.a);\n\treturn vec4((a.rgb*a.a+b.rgb*b.a*(1.-a.a))/f,f);\n}\n\nfloat sdCircle(vec2 p,float r)\n{\n\treturn length(p)-r;\n}\n\nfloat sdBox(in vec2 p,in vec2 b)\n{\n\tvec2 d=abs(p)-b;\n\treturn length(max(d,0.))+min(max(d.x,d.y),0.);\n}\n\nvec4 vertical_gradient(vec2 uv,vec4 c1,vec4 c2)\n{\n\treturn mix(c1,c2,uv.y*1.5+.5);\n}\n\nmat2 rotate2d(float angle)\n{\n\treturn mat2(-cos(angle),sin(angle),-sin(angle),-cos(angle));\n}\n\nfloat random(vec2 uv)\n{\n\treturn fract(sin(dot(uv.xy,vec2(12.9898,78.233)))*43758.5453123);\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n\t//Colours\n\tvec4 bg_c=vec4(.200,.200,.239,1.);\n\tvec3 bg_bot_c=vec3(.129,.129,.153);\n\tvec3 bg_top_c=vec3(.153,.153,.176);\n\tvec3 light_c=vec3(.337,.639,.878);\n\tvec3 light_glw_c=vec3(.506,.753,.949);\n\tvec4 cap_grad_top_c=vec4(.333,.333,.353,1.);\n\tvec4 cap_grad_bot_c=vec4(.227,.227,.259,1.);\n\tvec3 cap_line_c=vec3(.855,.859,.871);\n\tvec4 black=vec4(0.,0.,0.,1.);\n    \n    vec2 uv = (fragCoord.xy - iResolution.xy * 0.5) / iResolution.y * 1.25;\n\n\tfloat aa=1./((iResolution.x+iResolution.y)/2.) * 1.25;\n\t\n\tfloat range=.75;\n\tfloat val=(iMouse.x/iResolution.x);\n\tfloat angle_val=(1.-range)*PI+val*2.*PI*range;\n\t\n\tfloat a_range=fract((atan(uv.x,uv.y)+PI*range)/(2.*PI));\n\tfloat bg_shape=smoothstep(a_range,a_range,range)*smoothstep(sdCircle(uv,.5)-aa,sdCircle(uv,.5)+aa,0.);\n\tvec4 bg_bot=vec4(bg_bot_c,clamp(bg_shape,0.,1.));\n\t\n\tfloat a_range2=fract((atan(uv.x,uv.y)+PI*range*.98)/(2.*PI))*1.02;\n\tfloat bg_top_shape=smoothstep(a_range2,a_range2,range)*smoothstep(sdCircle(uv,.48)-aa,sdCircle(uv,.48)+aa,0.)*smoothstep(-sdCircle(uv,.4)-aa,-sdCircle(uv,.4)+aa,0.);\n\tvec4 bg_top=vec4(bg_top_c,clamp(bg_top_shape,0.,1.));\n\t\n\tvec4 bg_shadow=vec4(vec3(0.),smoothstep(sdCircle(uv,.45),sdCircle(uv,.5),0.))*bg_shape*.2;\n\tvec4 cap_bot_shadow=vec4(vec3(0.),smoothstep(sdCircle(uv+vec2(0.,.05),.45),sdCircle(uv+vec2(0.,.05),.2),0.));\n\t\n\tfloat bg_light_shape=bg_top_shape*smoothstep(a_range,a_range,range*val);\n\tvec4 bg_light=vec4(light_c,clamp(bg_light_shape,0.,1.));\n\t\n\tfloat bg_light_glw_shape=smoothstep(a_range2,a_range2,range)*smoothstep(sdCircle(uv,.48),sdCircle(uv,.44),0.)*smoothstep(-sdCircle(uv,.4),-sdCircle(uv,.44),0.)*smoothstep(a_range,a_range,range*val);\n\tvec4 bg_light_glw=vec4(light_glw_c,1.)*clamp(bg_light_glw_shape,0.,1.)*(val/2.+.25);\n\t\n\tfloat a=atan(uv.x,uv.y)-angle_val;\n\tfloat cap_shape_bot=smoothstep(sdCircle(uv,.34)-aa,sdCircle(uv,.34)+aa,0.);\n\tvec4 cap_grad=vertical_gradient(uv,cap_grad_bot_c,cap_grad_top_c);\n\tvec4 cap_bot=vec4(cap_grad.rgb,cap_shape_bot);\n\t\n\tfloat cap_shape_bot_glw=smoothstep(-sdCircle(uv,.33)-aa,-sdCircle(uv,.34)+aa,0.)*cap_shape_bot;\n\tvec4 cap_bot_glw=vec4(cap_grad.rgb*1.5,clamp(cap_shape_bot_glw*uv.y,0.,1.));\n\t\n\tvec4 cap_shadow1=mix(vec4(0.,0.,0.,(sin(-angle_val)+1.)/2.*.75),vec4(0.),clamp((clamp(uv*rotate2d(angle_val),0.,1.).x)*1.5,0.,1.))*step((-uv*rotate2d(angle_val)).x,0.)*cap_shape_bot;\n\tvec4 cap_shadow2=mix(vec4(0.,0.,0.,(sin(angle_val)+1.)/2.*.75),vec4(0.),clamp((clamp(-uv*rotate2d(angle_val),0.,1.).x)*1.5,0.,1.))*step((uv*rotate2d(angle_val)).x,0.)*cap_shape_bot;\n\tvec4 cap_shadow3=mix(vec4(0.,0.,0.,1.)*.1,vec4(0.),clamp((clamp(abs(uv*rotate2d(angle_val)),0.,1.).x)*4.,0.,1.))*cap_shape_bot;\n\t\n\tfloat cap_shape_top=smoothstep(sdBox(uv*rotate2d(angle_val),vec2(.12,.5))-aa,sdBox(uv*rotate2d(angle_val),vec2(.12,.5))+aa,0.)*cap_shape_bot;\n\tvec4 cap_top=vec4(cap_grad.rgb,cap_shape_top);\n\t\n\tfloat cap_shape_top_glw=smoothstep(-sdBox(uv*rotate2d(angle_val),vec2(.11,.5))-aa,-sdBox(uv*rotate2d(angle_val),vec2(.12,.5))+aa,0.)*cap_shape_top+smoothstep(-sdCircle(uv,.33)-aa,-sdCircle(uv,.34)+aa,0.)*cap_shape_bot*cap_shape_top;\n\tvec4 cap_top_glw=vec4(cap_grad.rgb*1.5,clamp(cap_shape_top_glw*uv.y,0.,1.));\n\t\n\tfloat line_shape=smoothstep(sdBox(uv*rotate2d(angle_val)-vec2(0.,.25),vec2(.02,.2))-aa,sdBox(uv*rotate2d(angle_val)-vec2(0.,.25),vec2(.02,.2))+aa,0.)*cap_shape_bot;\n\t\n\tvec4 colour=bg_c;\n\tcolour=overlay(bg_bot,colour);\n\tcolour=overlay(bg_top,colour);\n\tcolour=overlay(bg_shadow,colour);\n\tcolour=overlay(cap_bot_shadow,colour);\n\tcolour=overlay(bg_light,colour);\n\tcolour+=bg_light_glw;\n\tcolour=overlay(cap_bot,colour);\n\tcolour=overlay(cap_bot_glw,colour);\n\tcolour=overlay(cap_shadow1,colour);\n\tcolour=overlay(cap_shadow2,colour);\n\tcolour=overlay(cap_shadow3,colour);\n\tcolour=overlay(cap_top,colour);\n\tcolour=overlay(cap_top_glw,colour);\n\tcolour=overlay(vec4(line_shape),colour);\n\t\n\tfragColor=colour;\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}