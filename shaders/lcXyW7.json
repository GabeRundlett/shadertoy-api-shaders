{
    "Shader": {
        "info": {
            "date": "1721184204",
            "description": "... for Folk ... hmmm",
            "flags": 0,
            "hasliked": 0,
            "id": "lcXyW7",
            "likes": 1,
            "name": "fuzzy halo shader",
            "published": 3,
            "tags": [
                "fuzzy",
                "folk"
            ],
            "usePreview": 0,
            "username": "cwervo",
            "viewed": 88
        },
        "renderpass": [
            {
                "code": "// Define the four points of the box\n#define P1 vec2(-0.5, -0.5)\n#define P2 vec2(0.5, -0.5)\n#define P3 vec2(0.5, 0.5)\n#define P4 vec2(-0.5, 0.5)\n\nfloat sdSegment(vec2 p, vec2 a, vec2 b)\n{\n    vec2 pa = p - a;\n    vec2 ba = b - a;\n    float h = clamp(dot(pa, ba) / dot(ba, ba), 0.0, 1.0);\n    return length(pa - ba * h);\n}\n\n\nfloat sdBox(vec2 p, float radius, float fuzzy, vec3 haloColor, out vec3 outColor)\n{\n    // Calculate distances to each line segment\n    float d1 = sdSegment(p, P1, P2);\n    float d2 = sdSegment(p, P2, P3);\n    float d3 = sdSegment(p, P3, P4);\n    float d4 = sdSegment(p, P4, P1);\n    \n    // Get the minimum distance\n    float d = min(min(d1, d2), min(d3, d4));\n    \n    // Apply radius and fuzziness\n    float sdf = smoothstep(radius, radius * (1.0 + fuzzy), d);\n    \n    // Calculate halo color based on distance\n    outColor = mix(haloColor, vec3(0.0), sdf);\n    \n    return sdf;\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n    vec2 uv = (fragCoord - 0.5 * iResolution.xy) / iResolution.y;\n    \n    float radius = 0.05;\n    float fuzzy = 0.25 + sin(iTime * 0.01);\n    vec3 haloColor = vec3(1.0, 0.5, 0.2);\n    \n    vec3 color;\n    float d = sdBox(uv, radius, fuzzy, haloColor, color);\n    \n    fragColor = vec4(color, 1.0);\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}