{
    "Shader": {
        "info": {
            "date": "1522845079",
            "description": "Simple experiment based on Artic Monkeys video\nhttps://www.youtube.com/watch?v=bpOSxM0rNPM&list=RDEMThYJ2VcXXNp3GM7AwT24UQ\n",
            "flags": 64,
            "hasliked": 0,
            "id": "MsKyRc",
            "likes": 1,
            "name": "Articmon demo",
            "published": 3,
            "tags": [
                "sound",
                "demo",
                "curve",
                "monkeys"
            ],
            "usePreview": 0,
            "username": "josemorval",
            "viewed": 583
        },
        "renderpass": [
            {
                "code": "//Distance estimation \n//https://iquilezles.org/articles/distance\n\nfloat f(vec2 p)                                 \n{\n    float st = texture(iChannel0,vec2(0.0,0.0)).r;\n    \n    float damp = mix(0.0,2.0,st);\n    damp *= p.x;\n    float freq = mix(0.,20.0,st);\n    \n    float amp = mix(0.0,3.0,st);\n    \n\n    float t = mod(iTime+0.001*amp*iTime,2.0)-1.0;\n    float v = exp(-10.*t*t);\n    v = smoothstep(0.,0.5,v);\n    \n\n    p.y-=1.*(amp-1.5);\n\tp.x-=0.5*(amp-1.5)*p.y;\n    \n    damp -= 5.*(amp-1.5);\n    float f1 =p.y- amp * exp(-damp*damp) * cos(freq * p.x);\n    float f2 = p.y - 0.5*amp*(amp-1.0)*cos(0.05*freq*p.x*t+0.5*iTime*amp)+0.01*t*sin(freq*p.x-t);\n    \n    \n    //State 1\n    //return f1;\n    //State 2\n    //return f2;\n    \n    //Two states based on frequency\n\treturn mix(f1,f2,smoothstep(0.5,1.0,st));\n    //or time\n    //return mix(f1,f2,clamp(st,0.,1.));\n}                                                   \n\nvec2 grad( in vec2 x )\n{\n    vec2 h = vec2( 0.01, 0.0 );\n    return vec2( f(x+h.xy) - f(x-h.xy),\n                 f(x+h.yx) - f(x-h.yx) )/(2.0*h.x);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\n    vec2 uv = fragCoord/iResolution.xy;\n\tvec2 p = 7.* ( fragCoord - .5*iResolution.xy ) /iResolution.y;\n    \n    float v = f( p );\n    vec2  g = grad( p );\n    float de = abs(v)/length(g);\n    \n    float val = smoothstep(0.03,0.0,de);\n    \n    \n    fragColor = vec4(val);\n}",
                "description": "",
                "inputs": [
                    {
                        "channel": 0,
                        "ctype": "musicstream",
                        "id": 14196,
                        "published": 0,
                        "sampler": {
                            "filter": "linear",
                            "internal": "byte",
                            "srgb": "false",
                            "vflip": "true",
                            "wrap": "clamp"
                        },
                        "src": "https://soundcloud.com/g-jsupereo383/starfew-mashupmarshmello-v-marshmello-x-ookay-ft-lele-pons-noah-cyrus"
                    }
                ],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}