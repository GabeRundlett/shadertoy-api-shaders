{
    "Shader": {
        "info": {
            "date": "1440631540",
            "description": "Mouse paint; color shifts over time as shown on border. Number keys to toggle textures and colors. Q,W change brush size. Uses a variation on the scanline render technique ( https://www.shadertoy.com/view/XtsSDH ) using discard to avoid drawing pixels.",
            "flags": 16,
            "hasliked": 0,
            "id": "4llXWl",
            "likes": 13,
            "name": "Shadertoy Paint",
            "published": 3,
            "tags": [
                "paint",
                "userinput"
            ],
            "usePreview": 0,
            "username": "Alway_PanicButton",
            "viewed": 3689
        },
        "renderpass": [
            {
                "code": "const float KEY_1 = 49.5/256.0;\nconst float KEY_2 = 50.5/256.0;\nconst float KEY_3 = 51.5/256.0;\nconst float KEY_4 = 52.5/256.0;\n\nconst float KEY_Q = 81.5/256.0;\nconst float KEY_W = 87.5/256.0;\nconst float KEY_E = 69.5/256.0;\nconst float KEY_R = 82.5/256.0;\n\nvec3 HSVtoRGB(vec3 hsv);\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    vec2 pointer = iMouse.xy / iResolution.xy;\n    \n    \n    float Q = texture( iChannel3, vec2( KEY_Q, 0.75 )).r;\n    float W = texture( iChannel3, vec2( KEY_W, 0.75 )).r;\n    \n    vec2 brush = vec2(1.) * iResolution.xy / iResolution.xx;\n    if( Q > .5 )\n        brush.x *= 8.;\n    if( W > .5 )\n        brush.y *= 8.;\n    \n    if( (length( (uv - pointer) * brush ) > 0.1 || iMouse.z < 0.) && (uv.x < 0.95 && uv.y < 0.95) )\n        discard;\n    pointer.x = dFdx( fragColor.x ) *1000.;\n    float pallette = mod( iTime, 8. );\n    vec2 localuv = uv - pointer + .1;\n    \n    float tex1 = texture( iChannel3, vec2( KEY_1, 0.75 )).r;\n    float tex2 = texture( iChannel3, vec2( KEY_2, 0.75 )).r;\n    float tex3 = texture( iChannel3, vec2( KEY_3, 0.75 )).r;\n    float tex4 = texture( iChannel3, vec2( KEY_4, 0.75 )).r;\n    \n    if( tex2 > .5 )\n        fragColor.rgb += texture( iChannel0, localuv ).rgb;\n    if( tex3 > .5 )\n        fragColor.rgb += texture( iChannel1, localuv ).rgb;\n    if( tex4 > .5 )\n        fragColor.rgb += texture( iChannel2, localuv ).rgb;\n    \n    if( !(tex1 > .5) )\n    {\n        vec3 hsv = vec3(mod(iTime, 10.) / 10., 0.5, 0.5 );\n        fragColor.rgb += HSVtoRGB( hsv ) / 255.;\n    }\n    fragColor.rgb *= abs(2.0 - mod( iTime, 4. ));\n\tfragColor.a = 1.;\n}\n\n\n\nvec3 HSVtoRGB(vec3 hsv)\n{\n\tfloat R, G, B;\n\tfloat H = hsv.x;\n\tfloat S = hsv.y;\n\tfloat V = hsv.z;\n\tif( S == 0.0 )\n    {\n        R = G = B = floor(V * 255.0);\n    }\n    else\n    {\n        float vH = H * 6.0;\n        float vI = floor( vH );\n        float   v = floor(V * 255.0);\n        float  v1 = floor(V * (1.0 - S) * 255.0);\n        float  v2 = floor(V * (1.0 - S * (vH - vI)) * 255.0);\n        float  v3 = floor(V * (1.0 - S * (1.0 - (vH - vI))) * 255.0);\n\n        if     ( vI == 0.0 ) { R =  v; G = v3; B = v1; }\n        else if( vI == 1.0 ) { R = v2; G =  v; B = v1; }\n        else if( vI == 2.0 ) { R = v1; G =  v; B = v3; }\n        else if( vI == 3.0 ) { R = v1; G = v2; B =  v; }\n        else if( vI == 4.0 ) { R = v3; G = v1; B =  v; }\n        else               { R =  v; G = v1; B = v2; }\n    }\n\treturn vec3(R,G,B);\n}",
                "description": "",
                "inputs": [
                    {
                        "channel": 0,
                        "ctype": "texture",
                        "id": 4,
                        "published": 1,
                        "sampler": {
                            "filter": "mipmap",
                            "internal": "byte",
                            "srgb": "false",
                            "vflip": "false",
                            "wrap": "repeat"
                        },
                        "src": "/media/a/e6e5631ce1237ae4c05b3563eda686400a401df4548d0f9fad40ecac1659c46c.jpg"
                    },
                    {
                        "channel": 1,
                        "ctype": "texture",
                        "id": 8,
                        "published": 1,
                        "sampler": {
                            "filter": "mipmap",
                            "internal": "byte",
                            "srgb": "false",
                            "vflip": "false",
                            "wrap": "repeat"
                        },
                        "src": "/media/a/52d2a8f514c4fd2d9866587f4d7b2a5bfa1a11a0e772077d7682deb8b3b517e5.jpg"
                    },
                    {
                        "channel": 2,
                        "ctype": "texture",
                        "id": 10,
                        "published": 1,
                        "sampler": {
                            "filter": "mipmap",
                            "internal": "byte",
                            "srgb": "false",
                            "vflip": "false",
                            "wrap": "repeat"
                        },
                        "src": "/media/a/92d7758c402f0927011ca8d0a7e40251439fba3a1dac26f5b8b62026323501aa.jpg"
                    },
                    {
                        "channel": 3,
                        "ctype": "keyboard",
                        "id": 33,
                        "published": 1,
                        "sampler": {
                            "filter": "nearest",
                            "internal": "byte",
                            "srgb": "false",
                            "vflip": "false",
                            "wrap": "clamp"
                        },
                        "src": "/presets/tex00.jpg"
                    }
                ],
                "name": "",
                "outputs": [],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}