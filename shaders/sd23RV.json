{
    "Shader": {
        "info": {
            "date": "1617705020",
            "description": "this might be my favorite shader I've made. ",
            "flags": 0,
            "hasliked": 0,
            "id": "sd23RV",
            "likes": 6,
            "name": "Chaos Condenser",
            "published": 3,
            "tags": [
                "2d",
                "invert",
                "spinning",
                "spikes"
            ],
            "usePreview": 0,
            "username": "Tater",
            "viewed": 341
        },
        "renderpass": [
            {
                "code": "#define rot(a) mat2( cos(a),-sin(a),sin(a),cos(a) )\n#define pi 3.14159265359\nfloat sts(float x){ return x-sin(x); }\nfloat rotation (float t){\n    float r = sin(t*2.)*sin(t);\n    r += t;\n    r+=2.0*abs(t*0.2);\n    r+=smoothstep(0.0,1.0,sin(t*0.25))*15.0;\n    r+=tan(sin(t)*0.4);\n    r+=smoothstep(0.5,1.0,sin(t*0.25+2.0))*sin(floor(t*10.0)/10.0);\n    if(mod(t,20.)>10.){ r=-r; }\n    r -= sts(sts(sts(t*2.0)))*pi/8.;\n    return r;\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 R = iResolution.xy;\n    vec2 uv = (fragCoord-.5*R.xy)/R.y;\n    float t = iTime*0.5;\n    \n    float aa = 1.0/R.y;\n    float th = atan(-uv.y,-uv.x)/(2.0*pi)+0.5;\n    float spks = 15.0;\n    float thin = 2.5;\n    float rt = 3.3; \n    float r = 0.2;\n    vec3 col =vec3(0);\n    t*=3.0;\n\n    vec3 glowc = vec3(0);\n    vec3 glowc1= vec3(0.875,0.000,0.000);\n    vec3 glowc2 = vec3(0.200,0.133,1.000);\n    float num =250.0+50.0*sin(t);\n    \n    for(float i = 0.0; i <spks; i++){\n        r=rotation(t+0.1*i);\n        vec2 tuv = uv*rot(((r*rt)*pi/spks));\n        \n        glowc = glowc1;\n        for(int j = 0; j<2;j++){\n            tuv*=2.0-((i)/spks);\n            aa=(1.0/R.y)*(2.0-((i)/spks));\n            float edge = abs(tuv.x)+(tuv.y+0.5)*(0.4/thin);\n            float glow = abs(1.0 / (num * edge));\n            col = mix(col,vec3(0.4),smoothstep(edge-aa,edge+aa,0.1/thin)*smoothstep(tuv.x-aa,tuv.x+aa,0.0));\n            col = mix(col,vec3(0.5),smoothstep(edge-aa,edge+aa,0.1/thin)*smoothstep(0.0-aa,0.0+aa,tuv.x));\n            col +=vec3(0.2) * smoothstep(edge-aa,edge+aa,0.1/thin) * smoothstep(edge-aa,edge+aa,0.01/thin);\n            col += glowc*smoothstep(edge-aa,edge+aa,0.1/thin) * smoothstep(-0.35-aa,-0.35+aa,tuv.y);\n            col = clamp(col,0.,1.);\n            col+= mix(col,glow*(glowc+0.2),1.0-step(length(col),0.0));\n            tuv = uv*rot(pi+((r*rt)*pi/spks));\n            glowc=glowc2;\n        }\n        col = col - 0.05;\n    }\n    col = clamp(col,0.,1.);\n    vec2 tuv = uv;\n    uv.x+=sin(uv.y*200.0+t)*0.0035;\n    uv.y+=sin(tuv.x*200.0+t)*0.0035;\n    float glow = abs(1.0 / (85.0 * length(uv)));\n    float smst= 0.0025;\n    float cscale = (sin(t)*0.5+0.5)*0.035;\n    col+=(1.0-(vec3(0.208,1.000,0.267)+1.0)*(glow))\n    *smoothstep(cscale+0.905-smst,cscale+0.905+smst,1.0-length(uv));\n    if(mod(t,8.0)>4.0)col=(1.0-col);\n    if(mod(t,3.5)>3.2)col=(1.0-col);\n    if(mod(t,4.0)>3.8+sin(t)){\n        float ring = smoothstep(1.0-0.275-aa,1.0-0.275+aa,1.0-length(tuv))\n        -smoothstep(1.0-0.175-aa,1.0-0.175+aa,1.0-length(tuv));\n        col = mix(col,1.0-col,ring);}\n    if(mod(t,5.0)>4.3+sin(t)){\n        float ring = smoothstep(1.0-0.4-aa,1.0-0.4+aa,1.0-length(tuv))\n        -smoothstep(1.0-0.35-aa,1.0-0.35+aa,1.0-length(tuv));\n        col = mix(col,1.0-col,ring);}\n    if(mod(t,8.0)>7.0+sin(t+0.3)){\n        vec2 tuv2 = tuv*3.0; tuv2.y*=1.5; tuv2.y+=0.35;\n        tuv2=fract(tuv2*1.0+0.275);\n        float inv = clamp(step(tuv2.y,0.25)-step(tuv2.x,0.55),0.0,1.0);\n        col = mix(col,1.0-col,inv);\n    }\n    \n    fragColor = vec4(col,1.0);\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}