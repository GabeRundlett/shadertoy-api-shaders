{
    "Shader": {
        "info": {
            "date": "1619085300",
            "description": "potvato",
            "flags": 0,
            "hasliked": 0,
            "id": "NdlXzs",
            "likes": 23,
            "name": "Day 490",
            "published": 3,
            "tags": [
                "tv",
                "glitch",
                "static",
                "mdtmjvm"
            ],
            "usePreview": 0,
            "username": "jeyko",
            "viewed": 977
        },
        "renderpass": [
            {
                "code": "\n#define rot(a) mat2(cos(a),-sin(a),sin(a),cos(a))\n#define pmod(p,a) mod(p,a) - 0.5*a\nvec3 pal(float m){\n    vec3 c = 0.5 + 0.5*sin(vec3(\n        m + 0.5,\n        m + 0.3,\n        m - 0.5\n    ));\n    \n    c = pow(c,vec3(14.));\n    \n    return c;\n}\n\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord - 0.5*iResolution.xy)/iResolution.y;\n\n    vec3 col = vec3(1);\n    \n    \n    {\n        vec2 p = uv;\n        \n        float md = 0.02;\n        float m =p.x*6. + iTime + sin(p.x + cos(iTime) + iTime);\n        \n        if(uv.y < 0.)\n            m += iTime;\n        p.x += sin(m)*0.1;\n        float id = floor(p.x/md);\n        p.y = abs(p.y);\n        p.x = pmod(p.x,md);\n        \n        float d = abs(p.x) - md*(0.1 + sin(id + m)*0.05)*2.;\n        d = max(d,abs(p.y - 0.45) -0.05);\n        \n        //col = mix(col,1.-col,smoothstep(fwidth(d),0.,d));\n        \n        md = 0.001;\n        float oid = floor(uv.y/md);\n        \n        float om =uv.x*6. + iTime + cos(oid) + sin(uv.x + cos(iTime + oid*5.) + iTime + oid);\n        \n        col = mix(col,pal(id),smoothstep(fwidth(d) + abs(sin(om))*0.005,0.,d));\n        \n        d = abs(p.y - 0.4) - 0.015;\n        col = mix(col,1.-col,smoothstep(fwidth(d) + 0.01*(0.5+0.5*sin(iTime +m)),0.,d));\n        \n        \n    }\n    {\n         vec2 p = uv;\n        \n        float md = 0.01;\n        float id = floor(p.y/md);\n        \n        float m =p.x*6. + iTime + cos(id) + sin(p.x + cos(iTime + id*5.) + iTime + id);\n        \n        if(uv.y < 0.)\n\n\n            m += iTime;\n        p.x += sin(m)*0.1 + m + cos(id + iTime);\n        p.y = pmod(p.y,md);\n        p.x = pmod(p.x,0.4);\n        \n        \n        float d = abs(p.y) - md*0.2;\n        d = max(d,abs(p.x) - 0.1);\n        d = max(d,abs(uv.y - 0.3 + sin(m*20000.)*sin( + id*md + iTime*1. + cos(id*md + iTime))*0.15) -0.25);\n        \n        col = mix(col,1.-col,smoothstep(fwidth(d) + 0.04*(0.5+0.5*sin(iTime + cos(20.*m))),0.,d));\n        \n    }\n    \n    {\n        // haha pp\n        vec2 pp = uv;\n        \n        float md = 0.0142;\n        float id = floor(pp.y/md);\n        \n        float m =pp.x*6. + iTime + cos(id) + sin(pp.x + cos(iTime*10.*sin(iTime) + id*5.) + iTime + id);\n        \n    \n        vec3 rd = normalize(vec3(uv + sin(m)*0.14,1));\n        vec3 ro = vec3(0,0,-2);\n        vec3 p = ro;\n        \n        float t = 0.; bool hit = false;\n        \n        for(int i = 0; i < 10; i++){\n            vec3 q = p;\n            q -= 0.2;\n            q.xy *= rot(-sin(m+iTime)*.01*sin(iTime) + 0.4*iTime);\n            float d = mix(length(q.yz),q.y,0.5+0.5*sin(iTime)) - 0.1 + sin(iTime + m*0.01)*0.1;\n            \n            if(d < 0.001){\n                hit = true; break;\n            }\n            \n            p = ro + rd*(t+=d);\n        }\n        \n        if(hit){\n            \n            col = mix(col,1. - col*pow(pal(m*10.1  + iTime*5.),vec3(22,1.4,0.4)),col + sin(m));\n            //col = 1.-col;\n        }\n        \n    }\n    \n    float m;\n    {\n        vec2 pp = uv;\n        \n        float md = 0.01;\n        float id = floor(pp.y/md);\n        \n        \n        m =pp.x*6. + iTime + cos(id) + sin(pp.x + cos(iTime + id*5.) + iTime + id);\n        \n        if(uv.x < 0.)\n            m = sin(m);\n        \n        \n        vec2 p = abs(uv);\n        \n        float d = length(p.x -(+ sin(m*120.4)*0.01 + 0.9 + sin(iTime + id*md*0.2)*0.04*sin(iTime))) - 0.0;\n    \n        \n    \n        col = mix(col,0.7-col*0.4,smoothstep(fwidth(d)*(5. + sin(m)*3.),0.,d));\n    }\n    \n     {\n         \n        vec2 p = uv;\n        p.x += m;\n        p = pmod(p,0.01);\n        \n        float d = abs(p.x);\n    \n        col = mix(col,0.2-col*1.,(1.-col)*smoothstep(fwidth(d)*(2. + sin(m*20.)*1.),0.,d));\n    }\n    {\n        vec2 pp = uv;\n        \n        float md = 0.01;\n        float id = floor(pp.y/md);\n        \n        \n        m =pp.x*6. + iTime + cos(id) + sin(pp.x + cos(iTime + id*5.) + iTime + id);\n        \n        col = mix(col, 1. - col, smoothstep(0.7,0.8,sin((iTime+ uv.x + sin(m*120. + iTime*20.)*0.4)/7. )));\n    \n    }\n    \n\n    col = max(col,0.03*(0.5+0.5*sin(iTime*2.)));\n    \n    col = pow(col,vec3(0.4545));\n    fragColor = vec4(col,1.0);\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}