{
    "Shader": {
        "info": {
            "date": "1564460300",
            "description": "Given a list of colors and edges, generate a gradient with arbitrary number of gradient areas.",
            "flags": 0,
            "hasliked": 0,
            "id": "ttfXWX",
            "likes": 2,
            "name": "Vertical n-gradient",
            "published": 3,
            "tags": [
                "gradient"
            ],
            "usePreview": 0,
            "username": "dandymcgee",
            "viewed": 571
        },
        "renderpass": [
            {
                "code": "// Gradient area colors\nconst vec3 colors[] = vec3[]\n(\n    vec3(1.0, 0.0, 0.0),\n    vec3(0.0, 1.0, 0.0),\n    vec3(0.0, 0.0, 1.0),\n    vec3(1.0, 1.0, 0.0)\n);\n\n// Edges for each gradient area, in 0.0 - 1.0 range\nconst float edges[] = float[](0.1, 0.2, 0.4, 0.9);\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;  // Normalized pixel coordinates (from 0 to 1)\n    float y = 1.0 - uv.y;  // y from top of screen\n    \n    vec3 color = vec3(0);\n    \n    // Add up all of the gradient areas affecting the current fragment\n    // (Currently, only 1 area has an effect at a time because mask is based on y position)\n    for (int i = 0; i < 4; i++)\n    {\n        // Mask the current area by min and max edge\n        float mask = (1.0 - step(y, edges[i])) * step(y, edges[i+1]);\n        \n        // Calculate gradient within current area\n        float gradient = (y - edges[i]) / (edges[i+1] - edges[i]);\n        \n        // Mix colors at the two edges of this area, then mask it to prevent leaking colors\n        color += mask * mix(colors[i], colors[i+1], gradient);    \n    }\n\n    fragColor = vec4(color, 1.0);\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}