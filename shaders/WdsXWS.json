{
    "Shader": {
        "info": {
            "date": "1553083735",
            "description": "loop",
            "flags": 64,
            "hasliked": 0,
            "id": "WdsXWS",
            "likes": 6,
            "name": "drop",
            "published": 3,
            "tags": [
                "loop"
            ],
            "usePreview": 0,
            "username": "nabehide",
            "viewed": 481
        },
        "renderpass": [
            {
                "code": "#define time iTime\n\n/*\nconst float speed = 3.0;\nconst float MAX =  0.5;\nconst float MIN = -0.5;\nconst float circleSize = 0.3;\nconst int Ncircle = 3;\n*/\nconst float speed = 1.0;\nconst float MAX =  1.5;\nconst float MIN = -1.5;\nconst float circleSize = 0.1;\nconst int Ncircle = 15;\n\nconst float period = 6.0*speed;\n// const vec3 color = vec3(188, 163, 82)/255.;\n// const vec3 color = vec3(160, 128, 160)/255.;\nconst vec3 color = vec3(0, 134, 204)/255.;\nconst vec3 bg = vec3(1.);\n\nfloat rand(vec2 co){\n    return fract(sin(dot(co, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvec2 rand2(in vec2 p)\n{\n\treturn fract(vec2(sin(p.x * 591.32 + p.y * 154.077), cos(p.x * 391.32 + p.y * 49.077)));\n}\n\nvec2 loopRand2(vec2 co, float t){\n    if(0.0 < t && t < period - 1.){\n    \treturn rand2(co);\n    }else{\n        return vec2(0.5);\n    }\n}\n\nfloat circle(vec2 p){\n    return 1.-length(p);\n}\n\nfloat morphing(vec2 p, float i){\n    float t = mod(rand(vec2(i))*period+time*speed,period);\n    vec2 pa1=vec2(loopRand2(vec2(floor(t-1.),0.1*i),t-1.))*(MAX-MIN)+MIN;\n    vec2 pa2=vec2(loopRand2(vec2(floor(t-0.),0.1*i),t   ))*(MAX-MIN)+MIN;\n\n    return mix(circle(p-pa1), circle(p-pa2), pow(fract(t),0.3));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 p = (fragCoord*2.-iResolution.xy)/min(iResolution.x,iResolution.y);\n    \n    vec3 draw = bg;\n    \n    for(int i=0; i<Ncircle; i++){\n\t    float d = morphing(p, float(i+1));\n        vec3 c = vec3(\n            color.r+rand(vec2(float(i),0.1))*0.5,\n            color.g+rand(vec2(float(i),0.2))*0.5,\n            color.b+rand(vec2(float(i),0.3))*0.5\n        );\n        if(1.-circleSize<d){\n            draw += c-draw;\n        }\n    }\n    \n    fragColor = vec4(draw,1.0);\n}",
                "description": "",
                "inputs": [
                    {
                        "channel": 0,
                        "ctype": "musicstream",
                        "id": 18138,
                        "published": 0,
                        "sampler": {
                            "filter": "linear",
                            "internal": "byte",
                            "srgb": "false",
                            "vflip": "true",
                            "wrap": "clamp"
                        },
                        "src": "https://soundcloud.com/nabehide/dmwtrp"
                    }
                ],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}