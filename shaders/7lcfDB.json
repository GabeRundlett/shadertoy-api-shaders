{
    "Shader": {
        "info": {
            "date": "1663605695",
            "description": "golfed version of 2340 chars  \"BuckleUp\" by dila. https://shadertoy.com/view/MltXzN\n",
            "flags": 0,
            "hasliked": 0,
            "id": "7lcfDB",
            "likes": 9,
            "name": "BuckleUp (golfed)",
            "published": 3,
            "tags": [
                "raymarch",
                "golf"
            ],
            "usePreview": 0,
            "username": "FabriceNeyret2",
            "viewed": 1062
        },
        "renderpass": [
            {
                "code": "// golfed version of 2340 chars  \"BuckleUp\" by dila. https://shadertoy.com/view/MltXzN\n\nvec4    A =      vec4(0,11,33,0);\n#define R(x)     mat2(cos(x+A))                                // rotation\n#define Q(v)     v * v\n#define T(c,p) ( Q( texture(c, p.xy) ) + Q( texture(c, p.xz) ) +Q ( texture(c, p.yz) ) ) / 3.   \n#define W        length\n\nvoid mainImage( out vec4 O, vec2 u ) {\n\tvec3  R = iResolution,\n          r = vec3( u+u, 0 ) - R,    o,p,P,s,a,q; \n    r.z = R.y - dot(r,r)/3. /R.y; \n    r /= W(r);\n    float h = .5, l = 0.,L,d,f, i=l, j=i, n=9., m,w,I=1., // Windows want init\n          t = o.z  = iTime * 4.; \n    o.xy =  - sin(t * h + A.xz );                              // origin o, direction r\n    r.xy *= R(sin(t * h/2.) * 1.57);\n    r.xz *= R(-o.x * .78);\n    r.yz *= R(-o.y * .78);\n    \n    for ( ; j++ < 32.; ) {                                     // --- trace\n        P = p = o + .6*r*l; \n        P.xy += sin(P.z*h +A.xz );                             // map - sdf to scene\n        m = 1e3; \n        s = 1./vec3(2,8,8);\n        q = a = vec3( mod( atan(P.x,P.y)/.39 + P.z/2. , 4.) - 2.,\n                      W(P.xy) - 3.,\n                      fract(P.z) - .5 \n                    );\n        for ( int k=0 ; k++ < 4; s = s.yzx * .75 ) {\n            q = abs(q) - .3,\n            q.xy *= R(.4), // pi/8\n            P = abs(q) - s,\n            w = min(max(P.x,max(P.y,P.z)),0.) + W(max(P,0.));  // sdBox\n         // w < m ?  m = w, I = k < 4 ? 4. : 1. : I;           // Windows get it wrong\n         // w < m ?  I = k < 4 ? 4. : 1. , m = w: I;           // differently wrong\n            if ( w < m )  m = w, I = k < 4 ? 4. : 1.;\n          }\n\n        l += d = max(m, -1.-a.y);\n      }\n\n    for ( O*=0.; ++i < n; ) {\n        for (j = L = 0.; j++ < 5.;  L += 5. - W(P) )           // --- trace2\n            P = o + r * L, \n            P.z -= floor( f = o.z + 4.*i/n );\n        P.xz *= R( 6.28 * i/n ); \n        f = fract(f);\n        O += T(iChannel1, .5*P) * f*(1.-f); // fract(f)*fract(-f); // bug on Windows\n    }  \n    l = 1. + l * l * .0036;  // fog\n    O += ( T(iChannel0, p) / I / ( l + l* d * 1e2 ) - O ) /l;\n\tO = sqrt( dot(O, vec4(.6,1.2,.2,0)) +O.zyxw /vec4(1,2,.67,1) );\n}",
                "description": "",
                "inputs": [
                    {
                        "channel": 0,
                        "ctype": "texture",
                        "id": 3,
                        "published": 1,
                        "sampler": {
                            "filter": "mipmap",
                            "internal": "byte",
                            "srgb": "false",
                            "vflip": "true",
                            "wrap": "repeat"
                        },
                        "src": "/media/a/95b90082f799f48677b4f206d856ad572f1d178c676269eac6347631d4447258.jpg"
                    },
                    {
                        "channel": 1,
                        "ctype": "texture",
                        "id": 4,
                        "published": 1,
                        "sampler": {
                            "filter": "mipmap",
                            "internal": "byte",
                            "srgb": "false",
                            "vflip": "true",
                            "wrap": "repeat"
                        },
                        "src": "/media/a/e6e5631ce1237ae4c05b3563eda686400a401df4548d0f9fad40ecac1659c46c.jpg"
                    }
                ],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}