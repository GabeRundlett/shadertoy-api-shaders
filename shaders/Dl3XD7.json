{
    "Shader": {
        "info": {
            "date": "1685455980",
            "description": "pac-land",
            "flags": 0,
            "hasliked": 0,
            "id": "Dl3XD7",
            "likes": 11,
            "name": "pac-land",
            "published": 3,
            "tags": [
                "pacland"
            ],
            "usePreview": 0,
            "username": "jorge2017a2",
            "viewed": 198
        },
        "renderpass": [
            {
                "code": "//por jorge2017a2\n//30-may-2023\n//pac-land\n\n#define antialiasing(n) n/min(iResolution.y,iResolution.x)\n#define S(d,b) smoothstep(antialiasing(0.8),b,d)\n#define S2(d,b) smoothstep(5.0*antialiasing(1.0),b,d)\n#define PI 3.141516\n\nfloat opRep1D( float p, float c )\n\t{ float q = mod(p+0.5*c,c)-0.5*c; return  q ;}    \n\nvec3 DrawFigBorde(vec3 pColObj, vec3 colOut, float distObj )\n{ colOut = mix(colOut,pColObj ,S2( distObj,0.0));\ncolOut = mix(colOut,vec3(0.0) ,S2(abs( distObj)-0.001,0.0));\nreturn colOut;\n}\nvec3 DrawFigBordeCoL(vec3 pColObj, vec3 colOut, float distObj , vec3 colBorde )\n{ colOut = mix(colOut,pColObj ,S2( distObj,0.0));\n  colOut = mix(colOut,colBorde ,S2(abs( distObj)-0.01,0.0));\n  return colOut;\n}\n\nvec3 DrawFigDelgado(vec3 pColObj, vec3 colOut, float distObj )\n{ colOut = mix(colOut,pColObj ,S2( distObj-0.001,0.0)); return colOut; }\n\nfloat intersectSDF(float distA, float distB)\n\t{ return max(distA, distB);}\nfloat unionSDF(float distA, float distB)\n\t{ return min(distA, distB);}\nfloat differenceSDF(float distA, float distB)\n\t{ return max(distA, -distB);}\n\n///oneshade    \nvec2 Rotate(in vec2 p, in vec2 o, in float r) \n{ float c = cos(r), s = sin(r); return (p - o) * mat2(c, -s, s, c) + o; }\n\nfloat sdCircle( vec2 p, float r )\n{return length(p) - r; }\n\nfloat sdBox( in vec2 p, in vec2 b )\n{ vec2 d = abs(p)-b; return length(max(d,0.0)) + min(max(d.x,d.y),0.0); }\n\nfloat sdSegment( in vec2 p, in vec2 a, in vec2 b )\n{\nvec2 pa = p-a, ba = b-a;\nfloat h = clamp( dot(pa,ba)/dot(ba,ba), 0.0, 1.0 );\nreturn length( pa - ba*h );\n}\n\nfloat dot2( in vec2 v ) { return dot(v,v); }\nfloat dot2( in vec3 v ) { return dot(v,v); }\nfloat ndot( in vec2 a, in vec2 b ) { return a.x*b.x - a.y*b.y; }\n\nfloat sdTrapezoid( in vec2 p, in float r1, float r2, float he )\n{\n    vec2 k1 = vec2(r2,he);\n    vec2 k2 = vec2(r2-r1,2.0*he);\n    p.x = abs(p.x);\n    vec2 ca = vec2(p.x-min(p.x,(p.y<0.0)?r1:r2), abs(p.y)-he);\n    vec2 cb = p - k1 + k2*clamp( dot(k1-p,k2)/dot2(k2), 0.0, 1.0 );\n    float s = (cb.x<0.0 && ca.y<0.0) ? -1.0 : 1.0;\n    return s*sqrt( min(dot2(ca),dot2(cb)) );\n}\n\nvec3 MarcoCasa(vec2 p,vec2 pPos,vec3  col)\n{ vec2 pos, med;\nfloat d1cu;\nvec3 cmorado, crosa, cazul, crojizo;\n\ncmorado = vec3(0.41, 0.42, 0.87);\ncrosa = vec3(0.85, 0.63, 0.8);\ncazul = vec3(0.18, 0.73, 0.95);\ncrojizo = vec3(0.62, 0.18, 0.18);\n\npos = vec2(0.77, 0.92);;\npos+= pPos;\nmed = vec2(0.495, 0.53);\nd1cu = sdBox(p- pos, med);\ncol = DrawFigBorde(cmorado, col, d1cu);\n//-----------;\nfloat d2cu;\npos = vec2(0.78, 0.92);;\npos+= pPos;\nmed = vec2(0.435, 0.475);\nd2cu = sdBox(p- pos, med);\ncol = DrawFigBorde(crosa, col, d2cu);\n//-----------;\nfloat d3cu;\npos = vec2(0.78, 0.92);;\npos+= pPos;\nmed = vec2(0.31, 0.355);\nd3cu = sdBox(p- pos, med);\ncol = DrawFigBorde(cmorado, col, d3cu);\n//-----------;\nfloat d4cu;\npos = vec2(0.77, 0.93);;\npos+= pPos;\nmed = vec2(0.24, 0.275);\nd4cu = sdBox(p- pos, med);\ncol = DrawFigBorde(cazul, col, d4cu);\n//-----------;\nreturn col;\n}\n\nvec3 PuertaInter(vec2 p,vec3 col)\n{ vec2 pos,med;\nfloat d1cu;\nvec3 cmorado,crosa,cazul,crojizo;\n    cmorado = vec3(0.41, 0.42, 0.87);\n    crosa = vec3(0.85, 0.63, 0.8);\n    cazul = vec3(0.18, 0.73, 0.95);\n    crojizo = vec3(0.62, 0.18, 0.18);\n////superior marco A;\n//superior marco;\npos = vec2(1.76, 1.86);;\nmed = vec2(0.505, 0.16);\nd1cu = sdBox(p- pos, med);\ncol = DrawFigBorde(cmorado, col, d1cu);\n\nfloat d1cua;\npos = vec2(1.77, 1.87);;\nmed = vec2(0.43, 0.12);\nd1cua = sdBox(p- pos, med);\ncol = DrawFigBorde(crosa, col, d1cua);\n////--------;\n//----- puerta;\nfloat d2cu;\npos = vec2(1.56, 2.51);;\nmed = vec2(0.21, 0.48);\nd2cu = sdBox(p- pos, med);\ncol = DrawFigBorde(crojizo, col, d2cu);\n//-----\nfloat d3cu;\npos = vec2(1.99, 2.51);;\nmed = vec2(0.21, 0.48);\nd3cu = sdBox(p- pos, med);\ncol = DrawFigBorde(crojizo, col, d3cu);\n//-----\npos = vec2(1.54, 2.3);;\nmed = vec2(0.14, 0.195);\nd1cu = sdBox(p- pos, med);\ncol = DrawFigBorde(cazul, col, d1cu);\n//-----\npos = vec2(1.99, 2.31);;\nmed = vec2(0.14, 0.195);\nd2cu = sdBox(p-pos, med);\ncol = DrawFigBorde(cazul, col, d2cu);\n//-----------;\nreturn col;\n}\n\nvec3 posIntermedio(vec2 p,vec3 col)\n{vec2 pos, med;\nfloat d2cu;\nvec3 crosa;\n    crosa = vec3(0.85, 0.63, 0.8);\n    pos = vec2(1.76, 1.58);\n    med = vec2(1.42, 0.12);\n    d2cu = sdBox(p- pos, med);\n    col = DrawFigBorde(crosa, col, d2cu);\nreturn col;\n}\n\n\n\nvec3 ladrillo(vec2 p )\n{\n    //https://www.shadertoy.com/view/4tyGzz    \n    vec2 BRICK_SIZE = vec2(0.08, 0.06);\n    vec2 BRICK_PCT = vec2(0.95, 0.9)*0.75;\n\tvec2 uv =p;\n    vec2 position = uv / BRICK_SIZE;\n    if(fract(position.y * 0.5) > 0.5)\n    { position.x += 0.5;}\n    position = fract(position);\n    vec2 useBrick = step(position, BRICK_PCT);\n    vec3 color = mix(vec3(0.2), vec3(1.0,0.0,.0), useBrick.x * useBrick.y) ;\n    return color;\n}\n\n\nvec3 pared02(vec2 p,vec3 col,vec3 cladrillo )\n{//ladrillos\nvec2 pos;\nvec2 med;\nfloat d3cu;\nvec3 colc=cladrillo;\npos = vec2(2.76, 2.89);\nmed = vec2(0.485, 0.115);\nd3cu = sdBox(p- pos, med);\ncol = DrawFigBorde(colc, col, d3cu);\n//------\nfloat d4cu;\npos = vec2(0.78, 2.89);;\nmed = vec2(0.485, 0.115);\nd4cu = sdBox(p- pos, med);\ncol = DrawFigBorde(colc, col, d4cu);\n//------\nreturn col;\n}\n\nvec3 pared03(vec2 p,vec3 col)\n{vec2 pos;\nvec2 med;\nfloat d5cu;\nvec3 cmorado;\n    cmorado = vec3(0.41, 0.42, 0.87);\npos = vec2(1.31, 2.52);\nmed = vec2(0.038, 0.49);\nd5cu = sdBox(p- pos, med);\ncol = DrawFigBorde(cmorado, col, d5cu);\n//------\nfloat d6cu;\npos = vec2(2.23, 2.52);;\nmed = vec2(0.038, 0.49);\nd6cu = sdBox(p- pos, med);\ncol = DrawFigBorde(cmorado, col, d6cu);\n//------\nfloat d7cu;\npos = vec2(0.31, 1.58);;\nmed = vec2(0.025, 0.12);\nd7cu = sdBox(p- pos, med);\ncol = DrawFigBorde(cmorado, col, d7cu);\n//------\nfloat d8cu;\npos = vec2(3.2, 1.58);;\nmed = vec2(0.03, 0.12);\nd8cu = sdBox(p- pos, med);\ncol = DrawFigBorde(cmorado, col, d8cu);\nreturn col;\n}\n\nvec3 ParedLateral(vec2 p,vec3 col)\n{\nfloat r1, r2, he, d9;\nvec2 pos;\nvec3 colc;\ncolc = vec3(0.25, 0.26, 0.51);\nr1 = 1.07;r2 = 1.29;he = 0.245;\n\npos = vec2(3.9, 1.025);\nfloat ang;\nvec2 pr;\nang = -90.0 * PI / 180.0;\npr = Rotate(p, vec2(pos.x - r1 / 2.0, pos.y + he / 2.0), ang);\nd9 = sdTrapezoid(pr- pos, r1, r2, he);\ncol = DrawFigBorde(colc, col, d9);\nreturn col;\n}\n\nvec3 piso(vec2 p,vec3 col)\n{vec2 pos, med;\nfloat d1cu;\nvec3 colc;\n//color piso;\ncolc = vec3(0.82, 0.5, 0.28);\n//pos = vec2(1.99, 2.99);;\n//med = vec2(1.975, 0.325);\n//d1cu = sdBox(p- pos, med);\nd1cu=2.65-p.y;\n\ncol = DrawFigBorde(colc, col, d1cu);\nreturn col;\n}\n\nvec3 llervas(vec2 p,vec3 col)\n{float r1,r2,he,d1;\nvec2 pos;\nvec3 colc;\ncolc = vec3(0.2, 0.84, 0.19); //verde fuerte;\nr1 = 0.015;\nr2 = 0.85;\nhe = 0.175;\npos = vec2(0.37, 2.465);\nd1 = sdTrapezoid(p-pos, r1, r2, he);\ncol = DrawFigBorde(colc, col, d1);\n//------\nfloat d2;\nr1 = 0.015;\nr2 = 0.85;\nhe = 0.175;\ncolc = vec3(0.05, 0.64, 0.04); //verde menos;\npos = vec2(3.62, 2.495);\nd2 = sdTrapezoid(p- pos, r1, r2, he);\ncol = DrawFigBorde(colc, col, d2);\n//-----\nreturn col;\n}\n\nvec3 cuadritos(vec2 p, vec3 col)\n{\nvec3 colc=vec3(0.4,0.4,0.4);\nvec2 pos=vec2(1.35,1.96);\nvec2 med=vec2(0.03,0.03);\nfloat d1cu= sdBox(p-pos, med );\ncol=DrawFigBorde(colc, col, d1cu);\n//----\npos=vec2(1.42,1.89);\nmed=vec2(0.03,0.03);\nfloat d2cu= sdBox(p-pos, med );\ncol=DrawFigBorde(colc, col, d2cu);\n//----\npos=vec2(1.49,1.84);\nmed=vec2(0.03,0.03);\nfloat d3cu= sdBox(p-pos, med );\nd3cu= sdBox( p-pos, med );\ncol=DrawFigBorde(colc, col, d3cu);\n//----\npos=vec2(1.53,1.8);\nmed=vec2(0.03,0.03);\nfloat d4cu= sdBox(p-pos, med );\nd4cu= sdBox( p-pos, med );\ncol=DrawFigBorde(colc, col, d4cu);\n//----\npos=vec2(1.61,1.86);\nmed=vec2(0.03,0.03);\nfloat d5cu= sdBox(p-pos, med );\nd5cu= sdBox( p-pos, med );\ncol=DrawFigBorde(colc, col, d5cu);\n//----\npos=vec2(1.67,1.9);\nmed=vec2(0.03,0.03);\nfloat d6cu= sdBox(p-pos, med );\nd6cu= sdBox( p-pos, med );\ncol=DrawFigBorde(colc, col, d6cu);\n//----\npos=vec2(1.71,1.96);\nmed=vec2(0.03,0.03);\nfloat d7cu= sdBox(p-pos, med );\nd7cu= sdBox( p-pos, med );\ncol=DrawFigBorde(colc, col, d7cu);\n \nreturn col; \n}\n\nvec3 casaPac(vec2 uv,vec3 col)\n{ vec3 cazul;\n    vec3 coll=col;\n    cazul=vec3(0.18, 0.73, 0.95);\n    col=cazul;\n    col=llervas(uv, col);\n    col=piso(uv, col);\n    col=MarcoCasa(uv, vec2(0.0), col);\n    col=MarcoCasa(uv, vec2(1.0, 0.0), col);\n    col=MarcoCasa(uv, vec2(2.0, 0.0), col);\n    col=posIntermedio(uv, col);\n    col=MarcoCasa(uv, vec2(0.0, 1.32), col);\n    \n    col=MarcoCasa(uv, vec2(2.0, 1.32), col);\n    col=PuertaInter(uv, col);\n    col=pared02(uv, col,coll); //ladrillos;\n    col=pared03(uv, col);\n    col=ParedLateral(uv, col);\n    col=cuadritos(uv,col);\n    col=cuadritos(uv-vec2(0.45,0.0),col);\n    \n    col=cuadritos(uv-vec2(-0.95,-0.29),col);//sup\n    col=cuadritos(uv-vec2(-0.5,-0.29),col);\n    col=cuadritos(uv-vec2(-0.05,-0.29),col);\n    col=cuadritos(uv-vec2(0.35,-0.29),col);\n    col=cuadritos(uv-vec2(0.8,-0.29),col);\n    col=cuadritos(uv-vec2(1.25,-0.29),col);    \n    return col;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{   vec2 uv = -1.0 + 2.0 * fragCoord.xy/iResolution.xy;\n    uv.x *= iResolution.x/iResolution.y;\n    float py=sin(iTime*0.5);\n    uv.x+=py;\n    uv.y=-uv.y;\n    vec2 uv0=uv;\n    uv-=vec2(-0.5,-0.75); uv*=2.5;\n    vec3 col=ladrillo(uv);\n    col= casaPac(uv,col);\n    fragColor = vec4(col,1.0);\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}