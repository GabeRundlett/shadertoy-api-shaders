{
    "Shader": {
        "info": {
            "date": "1593108468",
            "description": "A generative recreation of the piece Eridan III, Victor Vasarely. \nMore on my insta: https://instagram.com/ciphrd",
            "flags": 0,
            "hasliked": 0,
            "id": "WllcWj",
            "likes": 3,
            "name": "Generative Vasarely, Eridan",
            "published": 3,
            "tags": [
                "vasarely",
                "eridan"
            ],
            "usePreview": 0,
            "username": "ciphered",
            "viewed": 560
        },
        "renderpass": [
            {
                "code": "#define DIVS 20.0\n#define SMOOTH 0.02\n\n\n\nvec2 r2d (vec2 v, float a)\n{\n\tfloat s = sin(a);\n\tfloat c = cos(a);\n\tmat2 m = mat2(c, -s, s, c);\n\treturn m * v;\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy - .5;\n    uv.x*= iResolution.x / iResolution.y;\n    \n    // space is divided into a grid\n    vec2 div = uv * DIVS;\n    vec2 sq = fract(div) - .5;\n    vec2 id = floor(div);\n    \n    // rotation of some squares given their distance to 2 moving points\n    float rot = 0.0;\n    \n    vec2 p1 = vec2(cos(iTime*1.) * sin(iTime*1.4) * .2, sin(iTime*1.) * .5);\n    vec2 dr = p1 - id/DIVS;\n    float lp1 = smoothstep(0.4, -.01, abs(dr.x));\n    lp1*= smoothstep(0.4, -.01, abs(dr.y));\n    rot+= lp1 * cos(iTime) * cos(iTime*2.+4.) * cos(iTime*8.-0.2) * 4.;\n    \n    \n    vec2 p2 = vec2(cos(iTime*1.3 + 2.) * cos(iTime*.2+6.) * .3, sin(iTime*2. + 1.) * .35);\n    dr = p2 - id/DIVS;\n    float lp2 = smoothstep(0.4, -.01, abs(dr.x));\n    lp2*= smoothstep(0.4, -.01, abs(dr.y));\n    rot+= lp2 * cos(iTime) * cos(iTime*1.+4.6) * cos(iTime*12.+.7) * 2.;\n\n    \n    // rotate some of the divs\n    sq = r2d(sq, rot);\n    \n    // the inner rectangle\n    vec2 asq = abs(sq);\n    float s = sqrt(2. * pow(.5*.5, 2.));\n    float rect = smoothstep(s+SMOOTH, s-SMOOTH, asq.x) * smoothstep(s+SMOOTH, s-SMOOTH, asq.y);\n    \n\n    // half is inverted\n    rect = mix(rect, 1. - rect, sign(p2.y) * sign(p1.y) * sign(uv.y)*.5+.5);\n    vec3 col = vec3(rect, rect, rect);\n    \n    // we step on x to only have a visible square\n    float visible = step(uv.x, .5) * step(-.5, uv.x);\n    // and the outer cells\n    visible*= step(abs(id.x), DIVS*.5 - 3.);\n    visible*= step(abs(id.y+.5), DIVS*.5 - 1.);\n    \n    col*= visible;\n    \n    // the background\n    col+= 1. - visible;\n    col*= clamp(pow(max(0., (1.-length(uv))), .2)* 1.1, .2, 1.) + visible;\n\n    col.b*= 0.92;\n    \n    \n    // we add the dots\n    col.b+= smoothstep(0.04, 0.03, length(p1 - uv));\n    col.b+= smoothstep(0.04, 0.03, length(p2 - uv));\n    \n    // Output to screen\n    fragColor = vec4(col,1.0);\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}