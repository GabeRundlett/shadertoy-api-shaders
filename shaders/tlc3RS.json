{
    "Shader": {
        "info": {
            "date": "1576678811",
            "description": "Huaji Emoji",
            "flags": 0,
            "hasliked": 0,
            "id": "tlc3RS",
            "likes": 5,
            "name": "Huaji Emoji",
            "published": 3,
            "tags": [
                "emoji"
            ],
            "usePreview": 0,
            "username": "hswangrui",
            "viewed": 486
        },
        "renderpass": [
            {
                "code": "\n\n#define clamp01(x) clamp(x,0.0f,1.0f);\nvec2 within(vec2 uv,vec4 bound){\n\n    return clamp01((uv-bound.xy)/(bound.zw-bound.xy));\n}\n\nvec4 Eye(vec2 uv){\n\n\tuv-=0.5f;\n\tuv.y+=(uv.x*uv.x)*1.2f;\n\n\tvec4 col=vec4(1.0f);\n\tcol.rgb=mix(col.rgb,vec3(0.42f,0.42f,0.69f),smoothstep(0.3f,0.54f,length(uv+vec2(0.f,0.1f))));\n\tcol.a=smoothstep(0.45f,0.47f,length(uv));\n\tfloat mask =1.0f-smoothstep(0.45f,0.47f,length(uv+vec2(0.0f,0.66f)));\n\t col.a=clamp01(col.a+mask);\n\n\t //eyes outline\n\t col.rgb=mix(col.rgb,vec3(0.3f,0.14f,0.12f),smoothstep(0.428f,0.44f,length(uv)));\n\t col.rgb=mix(col.rgb,vec3(0.3f,0.14f,0.12f),smoothstep(0.424f,0.43f,1.0f-length(uv+vec2(0.0f,0.74f))));\n\n\n\treturn col;\n}\n\nvec4 EyeBall(vec2 uv){\n\tuv-=0.5f;\n\n\tvec4 col=vec4(0.3f,0.14f,0.12f,1.0f);\n\tcol.a=smoothstep(0.45f,0.46f,length(uv));\n\treturn col;\n}\n\nvec4 Mouth(vec2 uv){\n\n\t\tvec4 col=vec4(0.3f,0.14f,0.12f,1.0f);\n\t\t//mouth\n\n\t\tfloat mask1=1.0f-smoothstep(0.38f,0.37f,length(uv+vec2(0.0f,-0.04f)));\n\t\tfloat mask2=smoothstep(0.38f,0.37f,length(uv));\n\t\tcol.a=1.0f-mask1*mask2;\n\t\tvec3 mouth_col=mix(col.rgb,vec3(0.7f,0.54f,0.08f),smoothstep(0.35f,0.39f,length(uv)));\n\t\tcol.rgb=mix(col.rgb,mouth_col.rgb,smoothstep(0.38f,0.37f,length(uv)));\n\t\treturn col;\n\n}\n\nvec4 Brow(vec2 uv){\n\tuv-=0.5f;\n\t\tvec4 col=vec4(0.3f,0.14f,0.12f,1.0f);\n\t\t//mouth\n\t\tuv.y+=uv.x*uv.x*1.8f;\n\t\tfloat mask1=smoothstep(0.38f,0.375f,length(uv+vec2(0.0f,-0.12f)));\n\t\tfloat mask2=1.0f-smoothstep(0.37f,0.344f,length(uv));\n\t\tcol.a=1.0f-abs(mask1*mask2);\n\t\tvec3 mouth_col=mix(col.rgb,vec3(0.7f,0.54f,0.08f),smoothstep(-1.0f,1.0f,length(uv)));\n\t\tcol.rgb=mix(col.rgb,mouth_col.rgb,smoothstep(0.38f,0.37f,length(uv)));\n\t\treturn col;\n\n}\n\nvec4 Head(vec2 uv){\n\n\tvec4 col=vec4(1.0f,0.7f,0.2f,1.0f); //head base color\n\tcol.a=smoothstep(0.48f,0.49f,length(uv));\n\n\tcol.rgb=mix(col.rgb,vec3(0.9f,0.45f,0.05f),pow(smoothstep(0.15f,0.5f,length(uv)),2.0f)*abs(1.2f-uv.y-uv.x*0.75f));\n\n\n\tfloat hightlight=smoothstep(0.49f,0.44f,length(uv))*smoothstep(-0.23f,0.25f,uv.y);\n\tvec3 hightlight_col=mix(vec3(1.0f,0.95f,0.52f),vec3(0.9f,0.45f,0.2f),pow(smoothstep(0.17f,0.67f,length(uv)),2.0f));\n\tcol.rgb=mix(col.rgb,hightlight_col,hightlight);\n\n\n\tvec4 chest_col=vec4(0.98f,0.3f,0.29f,1.0f);\n\tchest_col.a=smoothstep(0.27f,0.04f,length(vec2(uv.x-0.29f,uv.y*2.7f-0.38f)));\n\tcol.rgb=mix(col.rgb,chest_col.rgb,chest_col.a);\n\n\n\n\treturn col;\n\n\n}\n\nvec4 Huaji(vec2 uv){\n\n\tvec4 col=vec4(.8f,.8f,.8f,0.0f);\n\tvec4 head=Head(vec2(abs(uv.x),uv.y));\n\tcol.a=head.a;\n\tcol.rgb=mix(head.rgb,col.rgb,head.a);\n\n\tvec4 eye=Eye(within(vec2(abs(uv.x),uv.y),vec4(0.04f,0.18f,0.45f,0.33f)));\n\tcol.rgb=mix(eye.rgb,col.rgb,eye.a);\n\tvec4 eyeball_r=EyeBall(within(uv,vec4(0.11f,0.21f,0.21f,0.31f)));\n\tvec4 eyeball_l=EyeBall(within(uv,vec4(-0.28f,0.21f,-0.38f,0.31f)));\n\tcol.rgb=mix(eyeball_r.rgb,col.rgb,eyeball_r.a);\n\tcol.rgb=mix(eyeball_l.rgb,col.rgb,eyeball_l.a);\n\n\tvec4 mouth=Mouth(uv);\n\tcol.rgb=mix(mouth.rgb,col.rgb,mouth.a);\n\n\tvec4 brow=Brow(within(vec2(abs(uv.x),uv.y),vec4(0.12f,0.3f,0.45f,0.46f)));\n\tcol.rgb=mix(brow.rgb,col.rgb,brow.a);\n\treturn col;\n\n\n\n}\n\n\n\nvoid mainImage(out vec4 fragcolor,in vec2 fragcoord){\n\n\tvec2 uv=fragcoord.xy/iResolution.xy;\n\tuv.x*=iResolution.x/iResolution.y;\n\tuv-=.5f;\n\tvec4 huaji=Huaji(uv);\n\n\tfragcolor=huaji;\n}\n\n\n\n",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}