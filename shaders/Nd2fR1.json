{
    "Shader": {
        "info": {
            "date": "1645705929",
            "description": "This was the effect I wanted, smokey and kinda neon",
            "flags": 0,
            "hasliked": 0,
            "id": "Nd2fR1",
            "likes": 1,
            "name": "Fork Gold Agate d4tocchini 920",
            "published": 3,
            "tags": [
                "fbm",
                "smoke",
                "agate"
            ],
            "usePreview": 0,
            "username": "d4tocchini",
            "viewed": 324
        },
        "renderpass": [
            {
                "code": "mat2 rot( float a ){ return mat2( sin(a),  cos(a), -cos(a),  sin(a) ); }\n\nfloat noise( in vec2 x ){ return smoothstep(0.,1.,sin(1.5*x.x)*sin(1.5*x.y)); }\n\nfloat fbm( vec2 p ){\n    \n    mat2 m = rot(.4);\n    float f = 0.0;\n    f += 0.500000*(0.5+0.5*noise( p )); p = m*p*2.02;\n    f += 0.250000*(0.5+0.5*noise( p )); p = m*p*2.03;\n    f += 0.125000*(0.5+0.5*noise( p )); p = m*p*2.01;\n    f += 0.015625*(0.5+0.5*noise( p ));\n    return f/0.96875;\n}\n\n\nfloat pattern (in vec2 p, out vec2 q, out vec2 r, float t){\n   \n    \n\tq.x = fbm( 2.0*p + vec2(0.0,0.0) + 2.*t );\n    q.y = fbm( 1.5*p + vec2(5.2,1.3) + 1.*t );\n\n    r.x = fbm( p + 4.*q + vec2(1.7,9.2) + sin(t) + .9*sin(30.*length(q)));\n    r.y = fbm( p + 8.*q + vec2(8.3,2.8) + cos(t) + .9*sin(20.*length(q)));\n\n    return fbm( p + 7.*r*rot(t) );\n    \n}\n\nvoid mainImage(out vec4 C, in vec2 U){\n    \n    vec2 uv = (U.xy-iMouse.xy)/iResolution.xy * 2.;\n    uv.x *= iResolution.x/iResolution.y;\n\t\n    vec2 q,r;\n    vec3 col1 = vec3(.9,.7,.5);\n    vec3 col2 = vec3(.3,.5,.4);\n    vec3 c;\n    \n    float f = pattern(uv, q, r, 0.1*iTime);\n    \n    //mix colours\n    c = mix(col1, vec3(0), pow(smoothstep(.0,.9,f), 2.));\n    c += col2 * pow(smoothstep(0., .8, dot(q,r)*.6), 3.) * 1.5;\n    //add contrast\n    c *= pow(dot(q,r) + .3, 3.);\n    //soften the bright parts\n    c *= f*1.5;\n    \n    //c += vec3(1.7,1.2,1.2) * dot(q,r);\n    //c += vec3(.2) * smoothstep(0., .2,pow(length(q),3.));\n    //c += dot(q,r);\n    //c += smoothstep(0.,3.,pow(length(df),0.12));\n    \n\n    C = vec4( c, 1. );\n}\n",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}