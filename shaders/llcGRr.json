{
    "Shader": {
        "info": {
            "date": "1467716858",
            "description": "Entry for https://www.shadertoy.com/events/competition2016 .\nReference shader: https://www.shadertoy.com/view/MdKXD3 .",
            "flags": 0,
            "hasliked": 0,
            "id": "llcGRr",
            "likes": 0,
            "name": "[SH16A] <750>",
            "published": 3,
            "tags": [
                "sh16a"
            ],
            "usePreview": 0,
            "username": "mlkn",
            "viewed": 517
        },
        "renderpass": [
            {
                "code": "#define V vec3\n#define N normalize\n#define F for (int j = 0; j < 64; j++) { r = (z = d*k + o).y; c = 14.; q = E; for (int i = 0; i < 25; i++)r = (v = length(R = z - V(i/5 - 2, f = i - i/2*2 > 0 ? .25 : .4, i-i/5*5 - 2)) - f) < r ? q = R, c = float(i/2), v : r;k += r;}\n\n/*void F()\n{\n    for (int j = 0; j < 64; j++) {\n        r = (z = d*k + o).y; c = 14.; q = E;\n        for (int i = 0; i < 25; i++)\n            r = (v = length(R = z - V(i/5 - 2, f = i - i/2*2 > 0 ? .25 : .4, i-i/5*5 - 2)) - f) < r\n            \t? q = R, c = float(i/2), v : r;\n        k += r;\n    }\n}*/\n\nvoid mainImage( out vec4 O, vec2 C )\n{\n    float g, k, f, y = .5, r, v, c;\n\tV R = iResolution,\n      E = V(0, 1, 0), q,\n      o = V(cos(5.), 1, sin(5.))*3. - E, \n      n = -N(.2*E + o),\n      d = N(cross(n, E)),\n      z = 2.*V(C, 1.5)/R - 1.;\n\tz.x *= R.x/R.y;\n\td = mat3( d, cross(d, n), n ) * N( z );\n    \n    F\n\to += k*d;\n    g = c;\n    n = N(q);\n    V D = d;\n\t\n    k = .01;\n    d = N( V(-6, 7, -5) );\n\n\tF\n    f = float(k > 20.) * dot( n, d );\n    R = o*o;\n\n    O.rgb = sqrt(\n        (g < 13. ? E.yzz + V(-8, 3, 6)*.01*g :\n    \t(mod(floor(o.x)+floor(o.z), 2.) > 0. ?\n            V(y) * texture(iChannel3, .1*o.xz).x\n            : V(.4))\n            *\n            (max( R.x, R.z ) < 2.3 ?\n            smoothstep( 0., y, length(fract(o.xz + y) - y) )\n            : 1.))\n        * (f*V(1.2,1.02,.66) + (1. + n.y)*V(y, .7, 1) / 4.) + \n        f*V(pow(max( dot(reflect( D, n ), d ), 0. ), 16.))\n    );\n}",
                "description": "",
                "inputs": [
                    {
                        "channel": 3,
                        "ctype": "texture",
                        "id": 30,
                        "published": 1,
                        "sampler": {
                            "filter": "nearest",
                            "internal": "byte",
                            "srgb": "false",
                            "vflip": "false",
                            "wrap": "repeat"
                        },
                        "src": "/media/a/f735bee5b64ef98879dc618b016ecf7939a5756040c2cde21ccb15e69a6e1cfb.png"
                    }
                ],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}