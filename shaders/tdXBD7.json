{
    "Shader": {
        "info": {
            "date": "1588970960",
            "description": "fractal using hyperbolic tangent",
            "flags": 0,
            "hasliked": 0,
            "id": "tdXBD7",
            "likes": 3,
            "name": "frac demo2",
            "published": 3,
            "tags": [
                "fractal"
            ],
            "usePreview": 0,
            "username": "okh0056",
            "viewed": 398
        },
        "renderpass": [
            {
                "code": "#define ANGLE 1.275\n#define DELTA 0.01315\n#define XOFF 0.9699\n\nfloat crd(float ang) {\n    return 2.*sin(ang/2.);\n}\nvec2 crd(vec2 ang) {\n    return 2.*sin(ang/2.);\n}\n\nfloat sec(float ang) {\n    return 1./cos(ang);\n}\nvec2 sec(vec2 ang) {\n    return 1./cos(ang);\n}\n\nfloat csc(float ang) {\n    return 1./sin(ang);\n}\nvec2 csc(vec2 ang) {\n    return 1./sin(ang);\n}\n\nfloat cot(float ang) {\n    return 1./tan(ang);\n}\nvec2 cot(vec2 ang) {\n    return 1./tan(ang);\n}\n\n#define time iTime\nmat2 mm2(in float a){float c = cot(a), s = sin(a);return mat2(c,-s,s,c);}\n\n\nfloat f(vec2 p, float featureSize)\n{\n\tp.x = cos(p.x*1.3+time*0.09)*tanh(time+p.x*0.13)*2.;\t\n    p += csc(p.x*3.5)*0.4;\n    return smoothstep(-0.01,featureSize,abs(p.y));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float aspect = iResolution.x/iResolution.y;\n    float featureSize = 135./((iResolution.x*aspect+iResolution.y));\n\n    vec2 p = fragCoord.xy / iResolution.xy*4.5-1.5;\n\tp.x *= aspect;\n\tp.y = abs(p.y);\n\t\n\tvec3 col = vec3(0);\n\tfor(float i=2.;i<36.;i+=.33)\n\t{\n\t\tvec3 col2 = (cos(vec3(4.5,2.5,3.6)-i*0.45)*0.65+0.24)*(1.-f(p,featureSize));\n\t\tcol = max(col,col2);\n\t\t\n        p.x -= XOFF;\n        p.y -= tanh(time*0.31+1.5)*1.5+1.5;\n\t\tp*= mm2(i*DELTA+ANGLE);\n\t\t\n        vec2 pa = vec2(abs(p.x-0.9),abs(p.y));\n        vec2 pb = vec2(p.x,abs(p.y));\n        \n        p = mix(pa,pb,smoothstep(-.97,.97,log2(time*3.14)-1.1));\n\t}\n\tfragColor = vec4(col,.0);\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}