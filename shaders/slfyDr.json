{
    "Shader": {
        "info": {
            "date": "1647868825",
            "description": "Des Apericubes encore !",
            "flags": 0,
            "hasliked": 0,
            "id": "slfyDr",
            "likes": 15,
            "name": "大龙猫 - Apericucubes",
            "published": 3,
            "tags": [
                "cubes"
            ],
            "usePreview": 0,
            "username": "totetmatt",
            "viewed": 404
        },
        "renderpass": [
            {
                "code": "mat2 rot(float a){float c=cos(a),s=sin(a);return mat2(c,-s,s,c);}\nfloat box(vec3 p,vec3 b){\n    vec3 q = abs(p)-b;\n    return length(max(q,vec3(0.)))+min(0.,max(q.x,max(q.y,q.z)));;\n}\nfloat diam(vec3 p,float s){\n   p = abs(p);\n   return (p.x+p.y+p.z-s)*inversesqrt(3.);\n}\nfloat mandel(vec2 uv){\n    uv = vec2(log(length(uv)),atan(uv.x,uv.y));\n    uv*=2.;\n    uv = asin(sin(uv)*.9)/2.;\n    vec2 z=uv;\n    vec2 c = vec2(0.451410,-.1222) ;\n    float i,lim = 200.;\n    for(i=0.;i<lim;i++){\n        z = vec2(z.x*z.x-z.y*z.y,2.*z.x*z.y)+c;\n        if(dot(z,z)>4.) break;\n        \n    \n    }\n    return i/lim;\n\n}\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n    vec2 uv = (fragCoord.xy -.5* iResolution.xy)/iResolution.y;\n    uv*=4.;\n    vec3 col = vec3(.1);//vec3(1.)*mandel(uv);\n    \n    vec3 p,d=normalize(vec3(uv,1.));\n    \n    for(float i=0.,g=0.,e,t;i++<99.;){\n      \n       p = d*g;\n      \n       p.xy *= rot(iTime*.1);\n       vec2 id = floor(p.xy);\n        \n        p.y +=mod(id.x,2.)==0. ? iTime:-iTime;\n        id = floor(p.xy);\n        \n        p.z = asin(sin(p.z+iTime));\n       p.xy =fract(p.xy)-.5;\n       \n       p.xy *=rot(-iTime*.2+id.y+id.x);\n       \n       float m = 1.-mandel(.1*sin(id+iTime)+min(abs(p.zx),min(abs(p.yx),abs(p.xy))))*1.44;\n       \n       float h = box(p,vec3(.25,.25,.1))*.8;\n       g+=e=max(.01,abs(h));\n       col += vec3(1.-(sin(id.y)*.5+.5),.5,cos(id.x*10.)*.5+.5)*smoothstep(m*.9,.3,.65)/exp(.9*i*i*e);\n    \n    };col=sqrt(col)*col;\n    \n    fragColor = vec4(col,1.0);\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}