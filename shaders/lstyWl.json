{
    "Shader": {
        "info": {
            "date": "1520628629",
            "description": "moon",
            "flags": 0,
            "hasliked": 0,
            "id": "lstyWl",
            "likes": 18,
            "name": "moon conspiracy",
            "published": 3,
            "tags": [
                "moon"
            ],
            "usePreview": 1,
            "username": "Del",
            "viewed": 1387
        },
        "renderpass": [
            {
                "code": "// moon, now with a slightly less rubbish (twinkling) starfield.\n\nfloat _Stars(vec2 uv,float scale)\n{\n    uv.y+=2./scale;\n    uv.x+=sin(uv.y)/scale;\n\tuv*=scale;\n    vec2 s=floor(uv);\n    vec2 f=fract(uv);\n\tvec2 p =.5+.35*sin(11.*fract(sin((s+scale)*mat2(7.0,3.0,6.0,5.0))*5.))-f;\n    float d=length(p);\n    float k=min(d,3.0);\n\tk=smoothstep(0.,k,sin(f.x+f.y)*0.01);\n   \treturn k;\n}\n\nvec3 NewStars(vec2 uv,vec3 background)\n{\n    float twinkle = 0.5+sin(iTime*1.61+uv.x + uv.y*18.0)*0.5;\n    twinkle = (twinkle*0.35)+0.65;\n\tfloat c = _Stars(uv,30.)*.3;\n\tc+=_Stars(uv,16.6);\n\tc+=_Stars(uv,7.8);\n    vec3 scol = vec3(0.8,0.8,1.0)*twinkle;\n    scol = mix(background,scol,c);\n\treturn scol;\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n    float speed = iTime*0.01;\n    float spheresize = 0.2;\n    float texturescale = 0.31;\n\tvec2 p = ( fragCoord -.5*iResolution.xy ) / iResolution.y;\n\tvec4 col = vec4(0.0);\n    col.rgb = NewStars(p*0.51,col.rgb);\n    p.x-=0.275*(iResolution.x/iResolution.y);\t\t\t// offset sphere\n\n    float l = spheresize-dot(p,p);\n    //l = clamp(l,0.0,1.0);\n    vec3 r = vec3(p, sqrt(max(l,0.0)));\n    float s = smoothstep(.15,0.,r.z);\n    float light = max(r.x*.4+r.y*.91+r.z*.3+.4,.1);\n    float lum = texture(iChannel0,speed+texturescale*r.xy/sqrt(r.z)).g*1.05;\n    col = mix(vec4(lum*light),col ,s);\n\tfragColor = col;\n    \n}",
                "description": "",
                "inputs": [
                    {
                        "channel": 0,
                        "ctype": "texture",
                        "id": 45,
                        "published": 1,
                        "sampler": {
                            "filter": "mipmap",
                            "internal": "byte",
                            "srgb": "false",
                            "vflip": "true",
                            "wrap": "repeat"
                        },
                        "src": "/media/a/3871e838723dd6b166e490664eead8ec60aedd6b8d95bc8e2fe3f882f0fd90f0.jpg"
                    }
                ],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}