{
    "Shader": {
        "info": {
            "date": "1643749149",
            "description": "golfing the heart of \"Nyoom Wave\" by panna_pudi. [url] https://shadertoy.com/view/NsjyzG [/url]",
            "flags": 0,
            "hasliked": 0,
            "id": "NdSyRK",
            "likes": 7,
            "name": "Nyoom Wave heart golfed",
            "published": 3,
            "tags": [
                "wave",
                "isometric"
            ],
            "usePreview": 0,
            "username": "FabriceNeyret2",
            "viewed": 223
        },
        "renderpass": [
            {
                "code": "// golfing the heart of \"Nyoom Wave\" by panna_pudi. https://shadertoy.com/view/NsjyzG\n// was 6803 = 4097 goodies + 640 post-effects + 2076 heart. \n\n#define R(a)         mat2( cos( a+ 1.57*vec4(0,1,-1,0) ) )\n#define M(p)         length(max(abs(p)* vec3(1, sign(p).y, 1) - .1, 0.)) - .01 // map\n//#define M(p)     ( length(max(abs(p) - .1, 0.)) - .01 ) // fun variant\n//#define AO(e,p,n)  clamp(map(p - e * n) / e, 0., 1.)\n\nvoid mainImage( out vec4 O, vec2 u ) {\n    vec2  R = iResolution.xy ,\n          U = ( u - .5* R ) / R.y ;\n    float t = fract(iTime / 8.),\n         rl = 0., l = 3.5, d=l, W = .25, i=0.;\n    vec3  P = vec3(U, -6),  D = vec3(0,0,1),              // point & ray dir\n          P0,N,c, b, e = D/1e3; // e: eps for N()\n\n    P.yz *= R(.615); // atan(1. / sqrt(2.))\n    D.yz *= R(.615);\n    P.xz *= R(.785); // PI / 4\n    D.xz *= R(.785);\n \n  //lxz = length(D.xz); \n    for ( P0 = P ; i++ < 1e2 && length(P-P0) < 10. && d > 1e-3 ;  P += d * D )\n        l < rl ?\n            rl = l,\n            P = P0 + D * l,\n            c = ( floor( P/W + D/length(D.xz) * 1E-4 ) + .5 ) * W, // traverse 2D grid https://www.shadertoy.com/view/stdXWH\n            b = abs(.5 * W/D ) - (P - c) / D,             // dst-src\n         // c = vec3(g.x, lxz*min(b.x, b.z), g.z ),       // ex returned value\n            l += min(b.x, b.z),\n            c.y = clamp( t*4. - c.x - mod(c.x+c.z, .9) -1.6 , 0., .2) *1.25, // ofs(c.xz, t)\n            P -= c :c,\n        rl += d = M(P);\n   \n    N = normalize( M(P) - vec3( M(P-e.zxx), M(P-e.xzx), M(P-e) ) ); // N(P);\n    O = ( N.y < .15 ? vec4(.5)\n                    : vec4(1, .12, 1.36, 1) )             // albedo\n      * length( sin(reflect(D, N)*3.) + 1. ) *.29         // shade\n   // * ( 1. - AO(5., N, P) );                            // ao, but with N,P permutation !\n      *.9;\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}