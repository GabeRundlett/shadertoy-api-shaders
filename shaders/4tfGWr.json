{
    "Shader": {
        "info": {
            "date": "1420622838",
            "description": "render a star shape",
            "flags": 0,
            "hasliked": 0,
            "id": "4tfGWr",
            "likes": 10,
            "name": "render a star shape",
            "published": 3,
            "tags": [
                "2d",
                "star",
                "shape"
            ],
            "usePreview": 0,
            "username": "stebi",
            "viewed": 2259
        },
        "renderpass": [
            {
                "code": "// Parameters to play with:\nconst float segments = 5.0;\nconst float indent = 0.08;\nconst float softness = 0.6;\n\n// constants\nconst float pi = 3.141592654;\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 p = fragCoord.xy / iResolution.xy;\n    // vec2 q = p - vec2(iMouse.x / iResolution.x, iMouse.y / iResolution.y);\n    vec2 q = p - vec2(0.5, 0.5);\n    q *= normalize(iResolution).xy; // maintain aspect ratio\n\n    // Rotation\n    float startAngle = iTime * 0.7;\n\n/*    mat4 RotationMatrix = mat4( cos( startAngle ), -sin( startAngle ), 0.0, 0.0,\n\t\t\t    sin( startAngle ),  cos( startAngle ), 0.0, 0.0,\n\t\t\t             0.0,           0.0, 1.0, 0.0,\n\t\t\t\t     0.0,           0.0, 0.0, 1.0 );    \n    q = (RotationMatrix * vec4(q, 0.0, 1.0)).xy;*/\n\n    mat2 RotationMatrix = mat2( \n        cos( startAngle ), -sin( startAngle ),\n\t\tsin( startAngle ),  cos( startAngle )\n    );\n    q = RotationMatrix * q;\n    \n    float distance = length(q);\n    float progress = (sin(iTime) + 1.0) / 2.0;\n    \n    vec4 col;\n    col = texture( iChannel0, q).xyzw;\n\n    \n    float angle = (atan(q.y, q.x) + pi) / (2.0 * pi); // 0-1\n    \n    float segment = angle * segments;\n    \n    \n    float segmentI = floor(segment);\n    float segmentF = fract(segment);\n        \n    angle = (segmentI + 0.5) / segments;\n    if (segmentF > 0.5) {\n\t\tcol *= vec4(1.0, .9, 0.6, 1.0);\n        angle -= indent;\n    } else\n    {\n\t\tcol *= vec4(1.0, 0.5, 0.5, 1.0);\n        angle += indent;\n    }\n    angle *= 2.0 * pi;\n\n\tvec2 outline;\n\toutline.y = sin(angle);\n    outline.x = cos(angle);\n\n\t// Distance Point/Line (Hessische Normalform)\n\tdistance = abs(dot(outline, q));\n    \n    col *= smoothstep(progress, progress + softness * progress, distance * 6.0);\n\n    // vec4 starcol = texture( iChannel1, (RotationMatrix * vec4(q, 0.0, 1.0)).xy).xyzw; \n    vec4 starcol = texture( iChannel1, (RotationMatrix * q).xy).xyzw; \n    starcol = mix(starcol, vec4(2.0, 2.0, 1.0, 1.0), 0.5);\n    col = mix(starcol, col, col.w);\n    fragColor = vec4((col));\n}",
                "description": "",
                "inputs": [
                    {
                        "channel": 0,
                        "ctype": "texture",
                        "id": 6,
                        "published": 1,
                        "sampler": {
                            "filter": "mipmap",
                            "internal": "byte",
                            "srgb": "false",
                            "vflip": "false",
                            "wrap": "repeat"
                        },
                        "src": "/media/a/1f7dca9c22f324751f2a5a59c9b181dfe3b5564a04b724c657732d0bf09c99db.jpg"
                    },
                    {
                        "channel": 1,
                        "ctype": "texture",
                        "id": 9,
                        "published": 1,
                        "sampler": {
                            "filter": "mipmap",
                            "internal": "byte",
                            "srgb": "false",
                            "vflip": "false",
                            "wrap": "repeat"
                        },
                        "src": "/media/a/bd6464771e47eed832c5eb2cd85cdc0bfc697786b903bfd30f890f9d4fc36657.jpg"
                    }
                ],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}