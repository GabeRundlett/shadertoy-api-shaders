{
    "Shader": {
        "info": {
            "date": "1666669646",
            "description": "按空格键 \n可以看到 左右会切换  \n按住不放  上会常亮\n在按住的那一刻 下会亮起",
            "flags": 16,
            "hasliked": 0,
            "id": "dds3RX",
            "likes": 0,
            "name": "键盘输入演示 ",
            "published": 3,
            "tags": [
                "mouse"
            ],
            "usePreview": 0,
            "username": "moshi",
            "viewed": 315
        },
        "renderpass": [
            {
                "code": "float pi2 = 6.283185307179586 ;\n\n\nfloat triangle(vec2 xy, vec2 center,float R){\n    vec2 r = center -xy;\n    r.x-=.1;\n   //p * cos a < d  直线 \n    float a = atan(r.y,r.x)  ;\n    float d = length(r);\n    return step(d * cos(a),.1)* step(abs(a), pi2/6.);\n}\n\n\nfloat circle(vec2 xy, vec2 center, float R){\n    vec2 d = center -xy; \n    \n    return step(dot(d,d),R*R) ;\n}\n\nmat2 rotate2d(float a){\n float c = cos(a) ;\n float s = sin(a);\n return  mat2(c,-s, s,c ) ;\n}\n\nfloat square(vec2 xy, vec2 center){\n    vec2 d = center -xy;\n    d.x-=.3;\n    vec2 dd= step( abs(d),vec2(.1,.08) );\n    return dd.x* dd.y ;\n}\n\nfloat arrow(vec2 xy, vec2 center, float R, vec2 offset , float a){\n    xy-=offset ;\n    xy-=center ;\n    xy*=rotate2d(-a);\n    xy+=center;\n    return square(xy, center) + triangle(xy,center, R);\n}\n\n\nvoid mainImage( out vec4 O, vec2 U )\n{  \nfloat ratio  = iResolution.x/iResolution.y;\nvec2 uv = U/iResolution.xy ;\nuv.x*=ratio;\n\nvec2 mouse = iMouse.xy/iResolution.xy ;\nmouse.x*= ratio ;\nfloat mz =  step(0. ,iMouse.z);// edge, val z>0 mz 就等于1\nfloat mw =  step(0. ,iMouse.w);\n   vec3 color = vec3(.4,.2,.05) ;\n   vec3 color1 = vec3(.2,.7,.6) ;\n   vec3 color2 = vec3(.1,.1,.6) ;\n   vec3 color3 = vec3(.25,.3,.05) ;\n   vec3 color4 = vec3(.45,.05,.4) ;\n   vec3 color5 = vec3(uv,.6) ;\n   // ichannel0 我已经设置为keyboard了  uv.y = 0就是第一行 x= 32就是 第32列\n   float arrowdown = texelFetch(iChannel0, ivec2(32,0),0).x * .4;\n   float arrowUp = texelFetch(iChannel0, ivec2(32,1),0).x + .4;\n   float arrowL = texelFetch(iChannel0, ivec2(32,2),0).x ; // 默认是0  \n   float arrowR = 1. - arrowL;                              // 1- 取反\n   color= mix(color, color1+arrowdown , arrow(uv, vec2(.5,.5), .3,vec2(.0,.4), 1.57)) ;  //下\n   color= mix(color, color2+arrowUp , arrow(uv, vec2(.5,.5), .3,vec2(.0,-.4), -1.57)) ; //上\n   \n   \n   color= mix(color, color3+arrowL*.4 , arrow(uv, vec2(.5,.5), .3,vec2(-.4,.0), 3.14)) ;//左\n   \n   \n   color= mix(color, color4+arrowR*.4 , arrow(uv, vec2(.5,.5), .3,vec2(.4,.0), .0)) ;  // 右\n\n    color= mix(color, color5 ,circle(uv, mouse,.1)) ;\n   O = vec4(color, 1.);\n   \n}",
                "description": "",
                "inputs": [
                    {
                        "channel": 0,
                        "ctype": "keyboard",
                        "id": 33,
                        "published": 1,
                        "sampler": {
                            "filter": "linear",
                            "internal": "byte",
                            "srgb": "false",
                            "vflip": "true",
                            "wrap": "clamp"
                        },
                        "src": "/presets/tex00.jpg"
                    }
                ],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}