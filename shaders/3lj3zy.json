{
    "Shader": {
        "info": {
            "date": "1560052580",
            "description": "Just a simple wallpaper screensaver w/ too much moire",
            "flags": 0,
            "hasliked": 0,
            "id": "3lj3zy",
            "likes": 9,
            "name": "Give it Moire",
            "published": 3,
            "tags": [
                "moire"
            ],
            "usePreview": 0,
            "username": "willstall",
            "viewed": 1044
        },
        "renderpass": [
            {
                "code": "#ifdef GL_ES\n    precision mediump float;\n#endif\n\n#define PI 3.14159265359\n#define HALF_PI 1.57079632675\n#define TWO_PI 6.283185307\n\n#define SECONDS 60.0\n\nfloat random(vec2 st){ return fract(sin(dot(st.yx,vec2(14.7891,43.123)))*312991.41235); }\nfloat random (in float x) { return fract(sin(x)*43758.5453123); }\n\nfloat cell_random(float x,float scale)\n{   \n    float iPos = floor(x*scale);\n    return mix(random(iPos), random(iPos + 1.0), smoothstep(0.,1.,fract(x*scale)));\n}\n\nmat2 rotate(float angle)\n{\n    return mat2( cos(angle),-sin(angle),sin(angle),cos(angle) );\n}\n\nvec2 center(vec2 st)\n{\n    float aspect = iResolution.x/iResolution.y;\n    st.x = st.x * aspect - aspect * 0.5 + 0.5;\n    return st;\n}\n\nfloat lines(vec2 st)\n{\n    st -= st.y-st.x;    // go diagonal\n    return sin(st.x*10.0);\n}\n\nvec2 map(vec2 st, float t)\n{\n    vec2 pos = vec2(0.0);\n        pos += vec2(0.4)*rotate(TWO_PI*t);\n    \n    st = st-pos;\n\n    float freq = mix(1.5,2.25,cell_random(sin(PI + iTime*.15),5.0));\n    float amount = mix(0.08,0.35,cell_random(sin(TWO_PI*.75+iTime*.0025),10.0));\n    float c = length(st);\n    float sq = mix(1.0,10.0, cell_random(sin(PI + iTime*.005),50.0));\n    float scale = mix(sq,4.0,0.5+0.5*sin(st.x*st.y*st.y*4.0));\n    vec2 uv = st + (c)*freq*cos(c*scale-TWO_PI*4.0)*amount;\n\n    return uv;\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n    vec2 st = fragCoord/iResolution.xy;\n    float t = fract(iTime/SECONDS);\n\n    st = center(st);\n    st = st * 2.0 - 1.0;\n    st *= rotate(PI*0.25);\n\tst *= rotate(TWO_PI*iTime*0.0015);\n\n    vec2 m = map(st,t);\n\n    float r = cell_random(length(m)+iTime*0.023,10.0);\n\n    float stripes = sin(m.x*50.0);\n    float d = dot(m,st)+0.1;\n\n    float c_repeats = mix(20.0,100.0,cell_random(sin(iTime*.035),10.0));\n\n    vec3 c_sin = cos(vec3(0.15,.32,0.3)+d*c_repeats + iTime );\n    vec3 color = c_sin-d-stripes;\n        color += r;\n\n    fragColor = vec4(color,1.0);\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}