{
    "Shader": {
        "info": {
            "date": "1680267020",
            "description": "inspiration:  [url]https://twitter.com/JasonHise64/status/780237713068863488[/url]\nMouse controls camera.\nillustration for book supplemental [url]https://www.motionmountain.net/research.html#et[/url]\n",
            "flags": 0,
            "hasliked": 0,
            "id": "DstXRs",
            "likes": 0,
            "name": "flex links - knotted-3axis - v5",
            "published": 3,
            "tags": [
                "raymarching",
                "short",
                "reproduction",
                "spinor",
                "antitwister",
                "diracsbelt"
            ],
            "usePreview": 0,
            "username": "FabriceNeyret2",
            "viewed": 447
        },
        "renderpass": [
            {
                "code": "// 3-knotted axis variant of https://shadertoy.com/view/DdcXRj\n\n#define N true                                                             // display the triangle normal ( green )\n#define rot(a)        mat2(cos(a+vec4(0,11,33,0)))                         // 2D rotation \n#define rot3(P,A,a)  ( mix( A*dot(P,A), P, cos(a) ) + sin(a)*cross(P,A) )  // 3D rot around an arbitrary axis\n  \n#define L(q) length(q.xy - vec2(1.2,-1.5*sin(clamp(q.z,-1.57,1.57))) ) -.2 // 3-knot cylinders SDF\n//#define L(q) length(q.xy - vec2(1,0)) -.2                                // 3 no-knot cylinders SDF\n#define d(q)  ( min(                                                       \\\n                  min( r= L((q).yzx), N ? g= max(length(q)-1.5,length(q-dot(q,vec3(1./3.))))-.1 : 1e2 ), \\\n                  min( w= L((q).zxy),                                      \\\n                       b= L((q).xyz)                                       \\\n              )    ) )\n\nvoid mainImage(out vec4 O, vec2 U)\n{\n    float t=9., w=0.,r=w,b=w,g=w;\n    vec3  R = iResolution,\n          D = normalize(vec3(U+U, -12.*R.y) - R),                          // ray direction\n          p = vec3(0,0,90), q,a,                                           // marching point along ray \n          M = iMouse.z > 0. ? 6.*iMouse.xyz/R -3.\n                            : vec3(-.8,0,0); // vec3(0,1.,0) // vec3(.5,-.5,0)\n        p.yz *= rot(-M.y),                                                 // camera rotations\n        p.xz *= rot(-M.x), \n        D.yz *= rot(-M.y),\n        D.xz *= rot(-M.x); \n\n    for ( O=vec4(1); O.x > 0. && t > .01; O-=.005 )                        // march scene  \n        q = p,\n#if 1                                                                      // set 0 for no antitwister\n        a = vec3(sin(iTime),0,cos(iTime)),\n    //  a = rot3( a, vec3(.71,0,-.71), 3.14/2. ),                          // variant\n        q = rot3( p,a, \n               // 3.14 *smoothstep(8., 0., length(p)) ),                   // the magic is there\n                  3.14 *smoothstep(.05, .6, 1./length(p)) ),\n               // 3.14 ),                                                  // test: rot with no antitwister\n#endif\n        q = rot3( q,vec3(.71,0,-.71), .6 ),                                //  make triangle vertical             \n     // q = rot3( q,vec3(.71,0,-.71), .955 ), // acos(1/sqrt(3))                                       \n     // J = inverse( mat3( D(p+e) -q, D(p+e.yxy) -q, D(p+e.yyx) -q ) / e.x ), // Jacobian\n        t = d(q),                                                          \n        p += .2*t*D;                                                       // step forward = dist to obj      \n\n    O *= O*O*2.;                                                           // color scheme\n    O *= vec4( t==r, t==g, t==b, 1)*vec4(2,1,2,1) + float(t==w);\n    if (O.a < 0.) O += .9;                                                 // white background\n} \n\n",
                "description": "",
                "inputs": [
                    {
                        "channel": 0,
                        "ctype": "texture",
                        "id": 14854,
                        "published": 1,
                        "sampler": {
                            "filter": "mipmap",
                            "internal": "byte",
                            "srgb": "false",
                            "vflip": "true",
                            "wrap": "repeat"
                        },
                        "src": "/media/a/cb49c003b454385aa9975733aff4571c62182ccdda480aaba9a8d250014f00ec.png"
                    }
                ],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}