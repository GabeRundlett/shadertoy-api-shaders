{
    "Shader": {
        "info": {
            "date": "1515019092",
            "description": "A simple grid based effect",
            "flags": 0,
            "hasliked": 0,
            "id": "XlSBzm",
            "likes": 13,
            "name": "FIlter, Circular pixels",
            "published": 3,
            "tags": [
                "circles",
                "grid"
            ],
            "usePreview": 0,
            "username": "4rknova",
            "viewed": 1008
        },
        "renderpass": [
            {
                "code": "// by Nikos Papadopoulos, 4rknova / 2018\n// Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License.\n#define LUM vec3(.2126, .7152, .0722)\n\n// Configuration\n#define CHROMA_KEY\n#define CHROMA_BIAS (00.13)\n\n#define BGCOLOR     vec3(0.03, 0.1, 0.2)\n#define GRID_SIZE   (35.0)\n#define BIAS        (10.0)\n#define SCALE       (32.0)\n\nvoid mainImage(out vec4 color, in vec2 fragc)\n{\n    // Aspect corrected grid size.\n    vec2  gridsz = GRID_SIZE * vec2(iResolution.x/iResolution.y, 1);\n    // Grid coordinates with half a unit offset to sample\n    // the center of the cell.\n\tvec2  pc  = fragc.xy / iResolution.xy * gridsz;\n    vec2  cl  = floor(pc)+0.5;\n    vec3  col = texture(iChannel0, cl / gridsz).rgb;\n    \n    // Calculate the sample's distance from the cell center.\n    float dst = pow(1. - length(pc - cl), BIAS) * SCALE;\n    float lum = dot(LUM, col.rgb); // luminance\n    \n #ifdef CHROMA_KEY\n    if (lum > max(col.r, col.b) + CHROMA_BIAS) col = BGCOLOR;\n #endif /* CHROMA_KEY */\n    \n    color = vec4(mix(BGCOLOR, col, min(1., dst*lum)), 1);\n}",
                "description": "",
                "inputs": [
                    {
                        "channel": 0,
                        "ctype": "video",
                        "id": 36,
                        "published": 1,
                        "sampler": {
                            "filter": "linear",
                            "internal": "byte",
                            "srgb": "false",
                            "vflip": "true",
                            "wrap": "clamp"
                        },
                        "src": "/media/a/35c87bcb8d7af24c54d41122dadb619dd920646a0bd0e477e7bdc6d12876df17.webm"
                    }
                ],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}