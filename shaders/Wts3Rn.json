{
    "Shader": {
        "info": {
            "date": "1555499314",
            "description": "clock",
            "flags": 0,
            "hasliked": 0,
            "id": "Wts3Rn",
            "likes": 1,
            "name": "[Ese] clock",
            "published": 3,
            "tags": [
                "clock"
            ],
            "usePreview": 0,
            "username": "Eseris",
            "viewed": 299
        },
        "renderpass": [
            {
                "code": "const float Pi = 3.1415926535;\nconst float PPi = 6.283184;\n\nmat2 rot(float a) {\n    return mat2(cos(a), sin(a), -sin(a), cos(a));\n}\n\nvec4 drawClock(vec2 uv) {\n    vec4 col = vec4(1);\n    float len = length(uv);\n    float ang = fract(atan(uv.x, uv.y) / PPi);\n    float ang12 = fract(12. * ang);\n    float ang4 = fract(4. * ang);\n    \n    float markMask = smoothstep(.0, .015, abs(ang12 - .5) - .467);\n    markMask *= smoothstep(.0, .01, len - .1 * step(abs(ang4 - .5), .3) - .8);\n    col.rgb = mix(vec3(1), vec3(.5), pow(len, 20.));\n    col.rgb = mix(col.rgb, vec3(0), markMask);\n    col.a = smoothstep(.01, .0, len - 1.);\n    return col;\n}\n\nfloat drawHand(vec2 uv, float ang, float len) {\n    uv *= rot((.25 - ang) * PPi);\n    vec2 center = vec2(len / 2. - .07, .0);\n    vec2 m = smoothstep(.3, .0, abs(uv - center) - vec2(len, .0) / 2.);\n    float mask =  smoothstep(.0, .015, m.x * m.y - .98);\n    return mix(mask, 1., smoothstep(.01, .0, length(uv) - .04));\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    vec2 uv = (fragCoord * 2. - iResolution.xy) / iResolution.y / .8;\n    \n    float seconds = (floor(iDate.w) + smoothstep(.9, 1., fract(iDate.w))) / 60.;\n    float minutes = seconds / 60.;\n    float hours = minutes / 12.;\n    \n    vec4 clock = drawClock(uv);\n    vec4 bgnd = vec4(uv, vec2(0, 1));\n    \n    vec3 col = vec3(.86, .84, .81);\n    col = mix(col, vec3(.35), pow(smoothstep(.3, .0, length(uv + vec2(.04)) - 1.03), 3.));\n    col = mix(col, clock.rgb, clock.a);\n    col = mix(col, vec3(.9,.25,.1), drawHand(uv, seconds, .9));\n    col = mix(col, vec3(.3,.4,.8), drawHand(uv, minutes, .7));\n    col = mix(col, vec3(.32,.55,.17), drawHand(uv, hours, .5));\n    col = mix(col, vec3(0), smoothstep(.01, .0, length(uv) - .027));\n    col = mix(col, vec3(.46, .35, .25), smoothstep(.01, .0, abs(length(uv) - 1.06) - .06));\n    \n    fragColor = vec4(col, 1.); \n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}