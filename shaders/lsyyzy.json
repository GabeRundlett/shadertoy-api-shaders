{
    "Shader": {
        "info": {
            "date": "1522432283",
            "description": "grass",
            "flags": 0,
            "hasliked": 0,
            "id": "lsyyzy",
            "likes": 0,
            "name": "some grass",
            "published": 3,
            "tags": [
                "grass"
            ],
            "usePreview": 0,
            "username": "abje",
            "viewed": 376
        },
        "renderpass": [
            {
                "code": "#define rot(spin) mat2(sin(spin),cos(spin),-cos(spin),sin(spin))\n\nfloat hash(vec3 p) {\n    return textureLod(iChannel0,p/iChannelResolution[0],0.0).x;\n}\n\nfloat map(vec3 p) {\n    float a = p.x+sin(p.y+p.z+iTime);\n    float fa = floor(a+0.5);\n    a *= hash(vec3(fa,p.z,1));\n    \n    return abs(fract(a)-0.5)+p.y*0.1+hash(vec3(fa,p.z,0))*0.6-(mod(fa,2.0)*0.15+0.15);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord*2.0-iResolution.xy)/iResolution.y;\n    \n    vec3 ro = vec3(0,0,iTime);\n    vec3 rd = normalize(vec3(uv,1.0));\n    \n    rd.zy *= rot(iMouse.y/iResolution.y*3.14);\n    rd.zx *= rot((iMouse.x/iResolution.x-0.25)*6.28);\n    \n    float space = 1.0;\n    float a = space/abs(rd.z);\n    float dist = fract(-ro.z*sign(rd.z)/space)*a;\n    bool hit = false;\n    for (int i = 0; i < 100; i++) {\n        if (map(ro+rd*dist) < 0.0) {\n            hit = true;\n            break;\n        }\n        dist += a;\n    }\n    \n    const vec4 sky = vec4(0.1,0.1,0.8,1);\n    const vec4 grass = vec4(0.08,0.8,0.1,1);\n    \n    const vec4 dirt = vec4(0.5,0.3,0.1,1);\n    \n    vec3 light = normalize(vec3(1,1,2));\n    float sunlight = clamp(dot(light,rd),0.0,1.0);\n    sunlight = pow(sunlight,200.0);\n    \n    vec4 background = mix(sky,vec4(1.0,0.8,0.1,0),sunlight);\n    \n    float plane = -(ro.y+3.0)/min(rd.y,-0.000001);\n    \n    \n    \n    if (hit) {\n        \n        if (plane < dist) {\n            fragColor = dirt;\n            return;\n        }\n        \n    \tfragColor = vec4(mix(background,grass,1.0/(dist*dist*0.002+1.0)));\n    } else {\n        fragColor = background;\n    }\n    \n}",
                "description": "",
                "inputs": [
                    {
                        "channel": 0,
                        "ctype": "volume",
                        "id": 39,
                        "published": 1,
                        "sampler": {
                            "filter": "linear",
                            "internal": "byte",
                            "srgb": "false",
                            "vflip": "true",
                            "wrap": "repeat"
                        },
                        "src": "/media/a/27012b4eadd0c3ce12498b867058e4f717ce79e10a99568cca461682d84a4b04.bin"
                    }
                ],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}