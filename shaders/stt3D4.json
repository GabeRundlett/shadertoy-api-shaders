{
    "Shader": {
        "info": {
            "date": "1636142377",
            "description": "Modified from another shader slightly. I am also trying to make it render the black pixels as transparent.",
            "flags": 0,
            "hasliked": 0,
            "id": "stt3D4",
            "likes": 9,
            "name": "Modified Mandala",
            "published": 3,
            "tags": [
                "modified"
            ],
            "usePreview": 0,
            "username": "taellinglin",
            "viewed": 342
        },
        "renderpass": [
            {
                "code": "#define PI 3.141592\n#define TAU 2.0*PI\n\n\nvoid amod(inout vec2 p, float c) {\n    float m = TAU / c;\n    float a = mod(atan(p.x, p.y)-m*.5, m) - m*.5;\n    p = vec2(cos(a), sin(a)) * length(p);\n}\n\nvoid mo(inout vec2 p, vec2 d) {\n    p = abs(p) - d;\n    if(p.y>p.x)p=p.yx;\n}\n\nmat2 r2d(float a) {\n    float c = cos(a), s = sin(a);\n    return mat2(c, s, -s, c);\n}\n\nfloat smooth_stairs(float x) {\n    return tanh(5.*(x-floor(x)-0.5))/tanh(2.5)*0.5+floor(x)+0.5;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = ( fragCoord - .5*iResolution.xy ) / iResolution.y;\n    //vec2 mouse = iMouse.xy / iResolution.xy;\n    uv.y = abs(uv.y);\n    \n    uv *= 3.0;\n    //amod(uv, 5.5+sin(iTime*0.2)*2.5);\n    float nrays = abs(mod(iTime*0.3, 10.)-5.);\n    amod(uv, 8.-smooth_stairs(nrays));\n    \n    mo(uv, vec2(1.2+sin(iTime*0.3), 0.6+sin(iTime*0.5)*0.3));\n    uv *= r2d(PI/12.-PI/8.*mod(iTime*0.2, 16.));\n    mo(uv, vec2(1.1+sin(iTime*0.5)*0.7, 0.4+0.5*1.5));\n    uv *= r2d(PI/6.-mod(iTime*0.25, 12.0)*PI/6.0);\n    mo(uv, vec2(.7+sin(iTime*0.45)*0.2, .2));\n    \n    //uv *= 10.;\n    uv *= 30.;\n    //float l = min(abs(uv.x), abs(uv.y));\n    //float l = max(abs(uv.x), abs(uv.y));\n    float l = abs(uv.x) + abs(uv.y);\n    float d = sin(l) - .3;\n    \n    d = smoothstep(0., fwidth(d), d);\n    fragColor = vec4(sqrt(d),sqrt(d),sqrt(d),0);\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}