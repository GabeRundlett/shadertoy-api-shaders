{
    "Shader": {
        "info": {
            "date": "1609758790",
            "description": " golfing 1471 chars \"Planetary gears\" by AntoineC. [url]https://shadertoy.com/view/MsGczV[/url]",
            "flags": 0,
            "hasliked": 0,
            "id": "ttdyRs",
            "likes": 19,
            "name": "Planetary gears golfed (364 ch)",
            "published": 3,
            "tags": [
                "2d",
                "gear",
                "golf"
            ],
            "usePreview": 0,
            "username": "FabriceNeyret2",
            "viewed": 630
        },
        "renderpass": [
            {
                "code": "// golfing 1471 chars \"Planetary gears\" by AntoineC. https://shadertoy.com/view/MsGczV\n// Now in the ugly golfing phase. check below for more readable ones :-D\n\n\n// ---    -9 by Xor\n\n#define G( U, t, r, M )                                                   \\\n    l = M( l = length(U) - r,                                             \\\n           .16-r/3.-l + .08 / ( 1.+ exp( 4.* sin( 2.* t  16.* atan(U.y, U.x) ) ) )), \\\n    O = mix( O * min( 1., .3 + 1.75* abs( length(U+.1) - r ) /r ) ,       \\\n             i * vec4( 1, .7, .2, 1),                                     \\\n             clamp( .5 - l / fwidth(l) ,0.,1.) )\n\nvoid mainImage( out vec4 O, vec2 u )\n{\n    vec2   W = iResolution.xy,\n           U = ( u+u - W ) / W.y;\n    float  t = .5*iTime, i = .34, l;\n\n    for( O-=O; i < .9; i+=.08, t+=.8 )\n        G( (U + .4*cos(t+vec2(0,11))), 8.*t +, .3  , -min );\n    \n    G(U, , .9, max );\n}\n\n\n\n\n\n\n\n/* // ---    -12 by Fab, -9 by iapafoto\n\n#define G( U, t,R,r, M )                                                  \\\n    l = M( l = length(U) - r,                                             \\\n           R-l + .08 / ( 1.+ exp( 4.* sin( t  16.* atan(U.y, U.x) ) ) )), \\\n    O = mix( O - O*  max( 0., .7 - 1.75* abs( length(U+.1) - r ) /r ) ,   \\\n             i * vec4( 1, .7, .2, 1),                                     \\\n             clamp( .5 - l / fwidth(l) ,0.,1.) )\n\nvoid mainImage( out vec4 O, vec2 u )\n{\n    vec2   W = iResolution.xy,\n           U = (u+u - W) / W.y;\n    float  t = .5*iTime, i = .34, l;\n\n    for( O-=O; i < .9; i+=.08, t += .8 )\n        G( (U + .4*vec2(cos(t),sin(t))), 16.*t +, .06, .3  , -min );\n    \n    G(U, 2.*, -.14, .9, max );\n}\n\n\n\n\n\n\n\n/*  // --- 394 chars    -7 by Fab\n\n// params: Time, Gear radius, [Teeth height=.08, Teeth \"roundness\"=4.], Teeth count, Inner or outer border radius, [light=formula]\n\n#define G( U, t,R,n,r, M)                                                     \\\n    l = length(U),                                                            \\\n    p = R - .04 + .08 / ( 1.+ exp( 4.* sin( t + n* atan(U.y, U.x) ) ) ),      \\\n    l = M(l-r, p-l),                                                          \\\n    O = mix( O - O* .7* max( 0., 1. - abs( length(U+.1) - r ) /.4/r ) ,       \\\n             ( .26 + i/12. ) * vec4(.95, .7, .2, 1),                          \\\n             clamp( .5 - l / fwidth(l) ,0.,1.) )\n\nvoid mainImage( out vec4 O, vec2 u )\n{\n    vec2   W = iResolution.xy,\n           U = ( u+u - W ) / W.y;\n    float  t = .5*iTime,\n           i=0.,l,p;\n\n    for( O-=O; ++i < 9.; t += .79 )\n        G( (U + .4*vec2(cos(t),sin(t))), 16.*t, .4,  16., .3  , -min);\n    \n    G( U, , .8, 32., .9, max);\n}\n\n\n\n\n\n\n\n/*  // --- 401 chars.  -30 by Fab, -6ch by iapafoto.  Now in the ugly golfing phase. check below for more readable ones :-D\n\n// params: Time, Gear radius, [Teeth height=.08, Teeth \"roundness\"=4.], Teeth count, Inner or outer border radius, [light=formula]\n\n#define G( U, t,R,n,r )                                                       \\\n    l = length(U),                                                            \\\n    p = R - .04 + .08 / ( 1.+ exp( 4.* sin( t + n* atan(U.y, U.x) ) ) ) -l,   \\\n    l = R > r ? -min(l-r, p) : max(l-r, p),                                   \\\n    O = mix( O - O* .7* max( 0., 1. - abs( length(U+.1) - r ) /.4/r ) ,       \\\n             ( .26 + i/12. ) * vec4(.95, .7, .2, 1),                          \\\n             clamp( .5 - l / fwidth(l) ,0.,1.) )\n\nvoid mainImage( out vec4 O, vec2 u )\n{\n    vec2   W = iResolution.xy,\n           U = ( u+u - W ) / W.y;\n    float  t = .5*iTime,\n           i=0.,l,p;\n\n    for( O-=O; ++i < 9.; t += .79 )\n        G( (U + .4*vec2(cos(t),sin(t))), 16.*t, .4,  16., .3  );\n    \n    G( U, , .8, 32., .9 );\n}\n\n\n\n\n\n\n\n/*  // --- 439 chars\n\n// params: Time, Gear radius, Teeth height, Teeth \"roundness\", Teeth count, Inner or outer border radius, light\n// note that we could inline h = .08, s = 4., N = 8.\n\n#define G( U, t,R,h,s,n,r,C )                                                 \\\n    l = length(U),                                                            \\\n    p = R - .5*h + h / ( 1.+ exp( s* sin( t + n*  atan(U.y, U.x) ) ) ),       \\\n    f = R > r ? max(r-l, l-p) : max(l-r, p-l),                                \\\n    O = mix( O - O* .7* max( 0., 1. - abs( length(U+.1) - r ) /.4/r ) ,       \\\n             C vec4(.95, .7, .2, 1),                                          \\\n             clamp( .5 - f / fwidth(f) ,0.,1.) )\n\nvoid mainImage( out vec4 O, vec2 u )\n{\n    vec2   W = iResolution.xy,\n           U = ( u+u - W ) / W.y;\n    float  t = .5*iTime, N = 8., \n           i=-1.,l,p,f;\n\n    for( O-=O; ++i<N; t += 6.3/N )\n        G( (U + .4*vec2(cos(t),sin(t))), 16.*t, .4, .08, 4., 16., .3, (.35 + .6*i/(N-1.))* );\n    \n    G( U, , .8, .08, 4., 32., .9, );\n}\n\n\n\n\n\n\n\n/*  // --- 472 chars\n\n#define G( U, t,R,h,s,n,r,C )                                                 \\\n    l = length(U),                                                            \\\n    p = R - .5*h + h/(1.+exp(s*sin(t + n*  atan(U.y, U.x) ))),                \\\n    f = R > r ? max(r-l, l-p) : max(l-r, p-l),                                \\\n    O = mix( O * (1. - .7* smoothstep(.4*r, 0., abs(length(U+.1) - r)) ) ,    \\\n                 C vec4(.95, .7, .2, 1), smoothstep(2., -2., f / fwidth(f) * length(fwidth(U)) *W.y) );\n\nvoid mainImage( out vec4 O, vec2 u )\n{\n    vec2   W = iResolution.xy,\n           U = ( u+u - W ) / W.y;\n    float  t = .5*iTime, N = 8., \n           i=-1.,l,p,f;\n\n    for( O-=O; ++i<N; t += 6.3/N )\n        G( (U + .4*vec2(cos(t),sin(t))), 16.*t, .4, .08, 4., 16., .3, (.35 + .6*i/(N-1.))* );\n    \n    G( U, , .8, .08, 4., 32., .9,  );\n}\n\n/**/",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}