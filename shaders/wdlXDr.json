{
    "Shader": {
        "info": {
            "date": "1551112450",
            "description": "The most easiest way to understand median shader is to write your own, or look on code. I hope, this would help someone",
            "flags": 0,
            "hasliked": 0,
            "id": "wdlXDr",
            "likes": 2,
            "name": "Median filter, 3x3 mask",
            "published": 3,
            "tags": [
                "medianfilter"
            ],
            "usePreview": 1,
            "username": "Ramzana_SOSOK",
            "viewed": 1832
        },
        "renderpass": [
            {
                "code": "vec4 median(vec2 xy)\n{\n    vec4 c = texture(iChannel0, xy);\n    vec4 median;\n    xy = xy.xy/iResolution.xy;\n    float x1 = 1./iResolution.x;\n    float y1 = 1./iResolution.y;\n    float buff = xy.x +1.;\n    xy.x-= x1;\n    xy.y-= y1;\n    float array[9];\n    float array1[9];\n    float array2[9];\n    float r = 0.;\n    float g = 0.;\n    float b = 0.;\n    for (int i =0; i < 9; i++)\n    {\n        c = texture(iChannel0, xy);\n        array[i] = c.r;\n        r = r + c.r;\n        array1[i] = c.g;\n        g = g + c.g;\n        array2[i] = c.b;\n        b = b + c.b;\n        if (xy.x - buff == 0.)\n        {\n            xy.x-= 2.*x1;\n            xy.y+= y1;\n        }\n        else\n            xy.x+=x1;\n    }\n    for (int k = 0; k < 9; k++)\n    {\n        float sum = array[k];\n        for (int h = k+1; h < 9; h++)\n       \t{\n\t\t\t\tfloat sum1 = array[h];\n                if (sum > sum1)\n                {\n                    float r = array[k];\n                    array[k] = array[h];\n                    array[h] = r;\n                }\n        }\n    }\n    for (int q = 0; q < 9; q++)\n    {\n        float sum = array1[q];\n        for (int p = q+1; p < 9; p++)\n        {\n            float sum1 = array1[p];\n                if (sum > sum1)\n                {\n                    float r = array1[q];\n                    array1[q] = array1[p];\n                    array1[p] = r;\n                }\n        }\n    }\n    for (int k = 0; k < 9; k++)\n    {\n        float sum = array2[k];\n        for (int h = k+1; h < 9; h++)\n        {\n            float sum1 = array2[h];\n                if (sum > sum1)\n                {\n                    float r = array2[k];\n                    array2[k] = array2[h];\n                    array2[h] = r;\n                }\n        }\n    }\n    median;\n    median.r = array[4];\n    median.g = array1[4];\n    median.b = array2[4];\n    return median;\n    \n}\n    void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    fragColor = median(fragCoord);\n}",
                "description": "",
                "inputs": [
                    {
                        "channel": 0,
                        "ctype": "texture",
                        "id": 5,
                        "published": 1,
                        "sampler": {
                            "filter": "mipmap",
                            "internal": "byte",
                            "srgb": "false",
                            "vflip": "true",
                            "wrap": "repeat"
                        },
                        "src": "/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg"
                    }
                ],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}