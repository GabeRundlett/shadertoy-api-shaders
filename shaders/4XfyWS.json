{
    "Shader": {
        "info": {
            "date": "1726588870",
            "description": "Shadertoy implementation of growing Neural CA https://distill.pub/2020/growing-ca/\nI'm surprised nobody did a Shadertoy port of this before.\nTrained using my own library TensorFrost: https://github.com/MichaelMoroz/TensorFrost/tree/main/examples/ML/NCA",
            "flags": 48,
            "hasliked": 0,
            "id": "4XfyWS",
            "likes": 23,
            "name": "I'm sorry, Jon",
            "published": 3,
            "tags": [
                "ca",
                "cellularautomaton",
                "neural",
                "nca"
            ],
            "usePreview": 0,
            "username": "michael0884",
            "viewed": 264
        },
        "renderpass": [
            {
                "code": "//Shadertoy implementation of Growing (and regenerating) Neural Cellular Automatons\n//https://distill.pub/2020/growing-ca/\n\n//Given that there were already neural networks here, I'm surprised nobody made a port of this. \n//Tho I guess its not as obvious how to put 16(12 here) channels into a single buffer here.\n\n//I trained the model from scratch using my own library TensorFrost.\n//https://github.com/MichaelMoroz/TensorFrost/tree/main/examples/ML/NCA\n\n//This version is different from original NCAs in 2 ways, I've added a Laplacian kernel on top of the Sobel\n//kernels, this reduces checkerboard artifacts significantly (as now it can just learn diffusion equations)\n//Also the state was trained while quantized to 9 bits, as well as clamped between -1 1, \n//and with added constant noise\n\n//This iteration uses 128 neurons just as the original\n\n//Press Space to change between Draw and Erase mode\n\n//MIT License\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{   \n    fragColor = texture(ch0, fragCoord*ZOOM/R); //zoomed in cause lizards are very tiny\n}",
                "description": "",
                "inputs": [
                    {
                        "channel": 0,
                        "ctype": "buffer",
                        "id": 258,
                        "published": 1,
                        "sampler": {
                            "filter": "nearest",
                            "internal": "byte",
                            "srgb": "false",
                            "vflip": "true",
                            "wrap": "clamp"
                        },
                        "src": "/media/previz/buffer01.png"
                    }
                ],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            },
            {
                "code": "#define ch0 iChannel0\n#define ch1 iChannel1\n#define ch2 iChannel2\n#define ch3 iChannel3\n\n#define R iResolution.xy\n\n#define LOAD(ch, pos) texelFetch(ch, ivec2(pos), 0)\n\n#define FIRE_RATE 1.0\n#define NOISE 0.005\n#define TIME_STEP 1.0\n//changing the space step works, but is significantly less stable than time step\n#define SPACE_STEP 1.0\n#define ZOOM 0.5\n\nuint packvec3(vec3 v)\n{\n    //get the exponent\n    float maxv = max(abs(v.x), max(abs(v.y), abs(v.z)));\n    int exp = clamp(int(ceil(log2(maxv))), -15, 15);\n    float scale = exp2(-float(exp));\n    uvec3 sv = uvec3(round(clamp(v*scale, -1.0, 1.0) * 255.0) + 255.0);\n    uint packed = uint(exp + 15) | (sv.x << 5) | (sv.y << 14) | (sv.z << 23);\n    return packed;\n}\n\nvec3 unpackvec3(uint packed)\n{\n    int exp = int(packed & 0x1Fu) - 15;\n    vec3 sv = vec3((packed >> 5) & 0x1FFu, (packed >> 14) & 0x1FFu, (packed >> 23) & 0x1FFu);\n    vec3 v = (sv - 255.0) / 255.0;\n    v *= exp2(float(exp));\n    return v;\n}\n\n//the most you can store with reasonable quality in 1 pixel\nstruct vec12\n{\n    vec4 a;\n    vec4 b;\n    vec4 c;\n};\n\nvec12 LoadState(sampler2D ch, ivec2 pos)\n{\n    uvec4 data = floatBitsToUint(LOAD(ch, pos));\n    vec3 c0 = unpackvec3(data.x);\n    vec3 c1 = unpackvec3(data.y);\n    vec3 c2 = unpackvec3(data.z);\n    vec3 c3 = unpackvec3(data.w);\n    vec12 ca;\n    ca.a = vec4(c0.x, c1.x, c2.x, c3.x);\n    ca.b = vec4(c0.y, c1.y, c2.y, c3.y);\n    ca.c = vec4(c0.z, c1.z, c2.z, c3.z);\n    return ca;\n}\n\nvec4 StoreState(vec12 ca)\n{\n    uint packed0 = packvec3(vec3(ca.a.x, ca.b.x, ca.c.x));\n    uint packed1 = packvec3(vec3(ca.a.y, ca.b.y, ca.c.y));\n    uint packed2 = packvec3(vec3(ca.a.z, ca.b.z, ca.c.z));\n    uint packed3 = packvec3(vec3(ca.a.w, ca.b.w, ca.c.w));\n    return uintBitsToFloat(uvec4(packed0, packed1, packed2, packed3));\n}\n\nvec12 add(vec12 a, vec12 b)\n{\n    vec12 c;\n    c.a = a.a + b.a;\n    c.b = a.b + b.b;\n    c.c = a.c + b.c;\n    return c;\n}\n\nvec12 sub(vec12 a, vec12 b)\n{\n    vec12 c;\n    c.a = a.a - b.a;\n    c.b = a.b - b.b;\n    c.c = a.c - b.c;\n    return c;\n}\n\nvec12 mul(vec12 a, vec12 b)\n{\n    vec12 c;\n    c.a = a.a * b.a;\n    c.b = a.b * b.b;\n    c.c = a.c * b.c;\n    return c;\n}\n\nvec12 div(vec12 a, vec12 b)\n{\n    vec12 c;\n    c.a = a.a / b.a;\n    c.b = a.b / b.b;\n    c.c = a.c / b.c;\n    return c;\n}\n\nvec12 add(vec12 a, float b)\n{\n    vec12 c;\n    c.a = a.a + b;\n    c.b = a.b + b;\n    c.c = a.c + b;\n    return c;\n}\n\nvec12 sub(vec12 a, float b)\n{\n    vec12 c;\n    c.a = a.a - b;\n    c.b = a.b - b;\n    c.c = a.c - b;\n    return c;\n}\n\nvec12 mul(vec12 a, float b)\n{\n    vec12 c;\n    c.a = a.a * b;\n    c.b = a.b * b;\n    c.c = a.c * b;\n    return c;\n}\n\nvec12 div(vec12 a, float b)\n{\n    vec12 c;\n    c.a = a.a / b;\n    c.b = a.b / b;\n    c.c = a.c / b;\n    return c;\n}\n\nvec12 clamp12(vec12 a, float minVal, float maxVal)\n{\n    vec12 c;\n    c.a = clamp(a.a, minVal, maxVal);\n    c.b = clamp(a.b, minVal, maxVal);\n    c.c = clamp(a.c, minVal, maxVal);\n    return c;\n}\n\nvec4 LeakyReLU(vec4 X) { return max(X, 0.01*X); } \n\nvoid NCA(vec4 in0, vec4 in1, vec4 in2, vec4 in3, vec4 in4, vec4 in5, vec4 in6, vec4 in7, vec4 in8, vec4 in9, vec4 in10, vec4 in11, out vec4 out0, out vec4 out1, out vec4 out2) \n{\n//first layer\nvec4 h0_0=LeakyReLU(mat4(-.1813,-.08174,.0949,-.2911,-.4121,-.08569,.1277,-.267,.6376,-.08448,.1546,-.4587,-.04476,-.173,-.1359,-.1374)*in0+\n   mat4(.01391,-.1718,.0475,-.1749,-.02685,-.3522,-.1329,-.209,.3427,-.03459,.02539,.1978,-.223,-.1287,-.128,-.01559)*in1+\n   mat4(.1058,.3978,.2491,.005332,.1707,-.3116,-.284,.004263,-.1797,-.2743,-.1897,.1233,.04237,-.3375,-.3759,-.1785)*in2+\n   mat4(-.1773,.1113,.1001,-.0252,-.2331,-.05329,-.04596,.1258,.1794,-.2021,-.1605,.1042,.1269,-.1456,.2231,-.1871)*in3+\n   mat4(-.08971,.1493,.1041,-.1358,-.1962,.02569,.02097,-.04955,-.1259,.08696,-.0347,.08145,.1094,-.222,.07251,-.1058)*in4+\n   mat4(-.1026,.001256,.01353,.1252,-.0579,.1125,.01708,-.1324,.01608,.02084,.07653,-.08544,.06433,-.1149,-.184,.09534)*in5+\n   mat4(.02406,.09816,-.06246,-.0251,-.1754,-.127,.106,-.02425,.2554,-.1029,-.001882,-.06854,.01067,.1011,.03056,.01614)*in6+\n   mat4(.1366,.03042,.01631,.1571,.07155,.003327,.07612,.06838,.06097,-.07968,.08941,-.1402,-.04302,.06969,-.08582,.05653)*in7+\n   mat4(.02925,-.08548,.01754,-.08501,-.01731,-.0967,-.1088,.0339,.1475,-.05878,-.1256,.0509,-.1117,-.007578,.1245,-.1102)*in8+\n   mat4(.02922,.1748,-.06657,.1031,.09109,-.07081,-.116,.04998,-.08619,-.2974,.06047,-.05777,-.03912,.1637,.06697,-.08399)*in9+\n   mat4(-.02462,-.004487,-.01382,.1458,-.09013,-.0001764,.073,.03305,-.03843,.004194,.08278,.01153,.05904,.03258,-.01075,-.0339)*in10+\n   mat4(.01837,.01992,.03912,-.02017,-.06449,-.09691,.006912,-.04487,.007018,-.05423,-.002803,.004206,.03081,.06507,.006923,-.09601)*in11+\n   vec4(-.1106,-.2487,-.1281,-.09114));\nvec4 h0_1=LeakyReLU(mat4(-.3805,-.3723,-.086,.2505,-.01656,.07647,-.1899,-.4675,-.2525,-.3398,.01244,-1.961,.4129,.1907,-.2204,.01012)*in0+\n   mat4(-.08911,-.1327,.1852,.01566,-.0005559,.06853,-.262,.1771,.005688,-.1572,-.02236,.06398,.1929,.1705,-.09745,.07728)*in1+\n   mat4(-.103,.04803,.1118,-.07137,.1053,-.165,-.3408,.0482,-.1367,.07456,-.238,-.1737,.04401,-.1506,-.1897,-.02121)*in2+\n   mat4(.1854,-.03038,.1864,-.209,-.06479,.1653,-.14,.09866,-.08324,-.04137,.04273,.04972,.04254,.09417,.1232,.06607)*in3+\n   mat4(.1554,.05339,-.01529,.003944,-.04053,.1346,.08035,-.06997,.1815,-.01803,.08345,-.1698,-.09564,-.1119,.01744,-.04507)*in4+\n   mat4(-.07322,.05244,-.08166,.006447,.06949,-.0539,-.1269,.01347,-.05213,.1368,.08486,-.0241,-.03597,.01969,.1183,.0488)*in5+\n   mat4(.201,-.07204,-.1709,.04148,-.1401,.06779,-.06246,-.03766,.1029,-.06582,-.07987,.06345,-.008872,.1202,.09629,.02954)*in6+\n   mat4(-.05121,.1871,-.01171,.003068,.05634,-.05004,.0267,.01314,.0433,.03808,-.1669,-.03758,-.06761,.003362,-.06244,-.09561)*in7+\n   mat4(-.1408,-.0484,.04063,.04038,.006995,.06896,.03116,-.009826,.004829,-.05158,-.1952,.002414,-.06363,-.02972,-.1444,.02557)*in8+\n   mat4(.01892,-.02853,-.0191,-.04749,-.1347,-.01471,.201,.1303,.02848,-.02317,-.08283,.1231,.03568,.005806,-.06641,-.06704)*in9+\n   mat4(-.1855,-.06178,.1371,.04469,.04462,.09986,.088,-.05311,-.09255,.002294,.06599,-.001797,-.01764,.01738,.0323,.03416)*in10+\n   mat4(-.1037,.06051,-.002797,-.01526,-.04838,.01469,.0121,-.001142,.01315,.01897,.01077,.007882,-.02344,-.03431,-.02213,.03767)*in11+\n   vec4(-.04183,-.164,-.1069,.07542));\nvec4 h0_2=LeakyReLU(mat4(-.1244,-.177,-.3297,-.2684,.1104,-.2846,-.2143,-.2733,-.3576,-.5435,-.001653,-.4723,-.03637,.06568,-.2577,-.3105)*in0+\n   mat4(.0729,.398,-.2121,-.168,-.05523,-.1358,.1577,-.2648,-.1758,.01126,-.2815,.2002,.01595,.07359,-.1487,-.1885)*in1+\n   mat4(-.205,.02497,-.09761,.3804,-.139,.02804,-.0865,-.5613,-.03374,-.2412,-.2925,-.2222,-.2124,-.04227,-.3351,-.3547)*in2+\n   mat4(.008096,.0137,.1323,.1054,.1357,.0295,-.07016,-.06427,-.04763,-.2834,.1749,-.04608,.07776,.02576,-.1737,-.1654)*in3+\n   mat4(.1993,-.1521,-.06227,.02335,.05779,-.1389,-.1216,-.1246,.008912,.1651,.03608,-.1682,.04063,-.03703,.04633,.02845)*in4+\n   mat4(.02807,.08671,-.04358,-.02172,-.0684,-.0838,.0238,-.07124,.1179,-.1153,.08465,-.09754,.04663,-.1152,.196,-.006218)*in5+\n   mat4(.0047,.05357,-.05205,-.1558,-.06337,-.07002,.04752,-.2071,.2195,-.1645,-.05336,-.2385,-.02446,.04577,.04835,-.02038)*in6+\n   mat4(-.04103,-.01754,.09314,.08661,-.06901,.02551,-.07017,-.05548,-.1695,-.0875,-.07632,-.1314,.2241,.09031,.06702,.09114)*in7+\n   mat4(.2104,-.04418,.1206,-.06012,-.01286,-.05183,-.0635,.06228,.1353,-.05086,.1128,.07828,.1016,.09526,.007443,-.09852)*in8+\n   mat4(.1108,-.05392,-.08781,.01481,-.02301,-.03233,-.06425,-.06758,-.06552,-.0113,-.04927,-.01226,-.1309,-.07073,.05863,.0957)*in9+\n   mat4(.01276,.07298,.02731,-.02081,.1343,.1834,-.0528,-.03772,-.0788,-.03141,-.02361,.0305,-.1525,.03318,-.05135,-.08864)*in10+\n   mat4(-.1647,-.07378,.01976,.05087,.05315,.1262,.03556,-.02944,-.1099,.0002275,.04587,-.04789,.311,.05029,.03155,.004194)*in11+\n   vec4(-.05374,-.06712,.07223,.0261));\nvec4 h0_3=LeakyReLU(mat4(-.2419,-.1383,-.1676,.04544,.04215,-.158,-.03595,-.03513,-.0981,-.09372,.0757,-.4293,-.02538,-.2495,.1389,-.07878)*in0+\n   mat4(-.002416,.02605,-.2954,.02597,-.1825,-.2376,-.2885,-.1636,.2413,.3834,-.1047,.2078,-.2173,-.04357,-.1839,-.1253)*in1+\n   mat4(.184,-.008546,.03294,.3536,-.4367,-.07755,-.6493,-.2243,-.2385,-.01314,-.06254,-.0815,-.3021,-.5596,-.4381,-.207)*in2+\n   mat4(.07249,.1751,-.03304,.1676,.0863,-.1225,.008109,.04022,-.131,.06264,-.02778,.08602,.1118,-.1521,.2219,.02297)*in3+\n   mat4(.162,-.2008,.04796,-.02747,.04501,.03141,.1539,-.1226,.2216,.0737,.0686,.05853,.08272,-.007086,-.03533,-.18)*in4+\n   mat4(.01013,.1134,-.01787,.07348,.01246,-.03251,.1166,.003589,.04209,.08551,.03875,.1168,.03382,-.1525,-.1686,.1637)*in5+\n   mat4(-.1349,-.03039,.06129,-.06924,-.2053,-.05587,-.01621,.06887,-.02883,-.1058,-.1959,-.1619,.01609,-.007532,-.04534,-.01289)*in6+\n   mat4(.1026,-.02245,.07987,-.061,-.02512,.06237,.02825,-.04189,-.142,.1875,-.09401,-.1274,.1215,-.07323,-.05549,.003023)*in7+\n   mat4(-.05388,.1189,.02746,-.08545,-.04308,.05569,-.06477,.06663,-.04297,.1028,-.02341,.07115,-.09496,-.0476,.06299,-.1439)*in8+\n   mat4(.0992,-.01348,-.06619,-.02441,.2006,-.02403,.1403,-.1957,-.07981,.07882,-.03917,.08957,-.002441,-.1117,.1109,-.1682)*in9+\n   mat4(.02741,.02964,-.06298,.01224,-.03276,.02876,.08236,.05984,.1039,.02937,.04037,.01835,-.01819,.05539,.02498,-.05024)*in10+\n   mat4(-.06116,-.08394,.06759,-.08997,-.01163,-.009874,-.06473,.05862,.02355,.03353,-.0526,.02325,.02445,.03202,.03119,-.1101)*in11+\n   vec4(-.3621,-.03709,-.1118,-.3118));\nvec4 h0_4=LeakyReLU(mat4(-.1411,.1392,-.127,-.04324,-.2242,-.09054,-.03679,-.02344,-.02084,-.716,.4054,.1117,-.1074,-.2313,.2573,-.1676)*in0+\n   mat4(.05656,.09524,.007124,.005526,-.4427,-.1619,.04088,-.2268,.04476,.3054,-.09291,-.02776,-.0915,-.09783,-.235,-.2649)*in1+\n   mat4(.02218,-.06004,.3426,-.08007,-.1768,.003106,-.1345,-.3411,-.1028,-.02966,-.3059,-.288,-.3484,-.01712,.09456,.1384)*in2+\n   mat4(.3145,-.112,-.1796,.1987,.08673,.08263,.06948,.08212,-.1701,.1873,.13,.3655,.2459,.03413,.08328,.1368)*in3+\n   mat4(-.03785,.02451,.1796,.1715,.04032,-.1685,-.01932,.08738,.3501,-.1066,-.2074,-.01459,-.1397,.1033,-.07379,-.1255)*in4+\n   mat4(-.01721,.05041,-.03283,.009493,-.1617,.039,-.02706,-.01145,-.005566,-.03891,.1206,.1079,.1408,-.1365,.09368,-.1467)*in5+\n   mat4(.2153,-.1163,-.02813,.008666,.1356,.03767,-.07276,-.03038,.004357,.09995,.1036,.1007,-.07942,-.05251,.01941,.1429)*in6+\n   mat4(-.008045,-.1063,.03384,.1518,-.03779,-.02259,.04018,.01331,.1509,.0103,.1877,.1084,.06484,.1192,-.03365,-.04657)*in7+\n   mat4(-.05589,-.07802,.007532,-.1691,-.09035,-.008054,-.01765,.03073,-.05724,-.1621,-.01296,-.03312,.04028,-.0358,-.07525,.05325)*in8+\n   mat4(-.01781,.04054,-.127,-.1119,.03886,-.01942,.1003,.04398,-.03462,.02392,.02088,-.02631,.0176,-.04051,.04185,.01274)*in9+\n   mat4(.007281,.02447,-.02386,-.1377,-.01131,.05201,-.02149,-.02489,.04349,.04572,-.00312,.1386,.04069,-.009957,.02831,-.06764)*in10+\n   mat4(-.03512,-.007664,-.003737,.07067,-.03316,.07726,.05888,-.0008026,-.09502,-.1115,.04557,-.115,-.009644,.02003,.1893,.0312)*in11+\n   vec4(-.2263,-.08656,-.0388,-.008053));\nvec4 h0_5=LeakyReLU(mat4(-.35,-.00354,.1782,-.2375,-.3583,-.301,.2784,-.1836,-.6368,.06712,-.3484,-.08879,-.112,-.08662,-.4417,.2525)*in0+\n   mat4(-.06141,.1671,.08978,.09538,-.0382,-.4849,-.01381,-.09802,-.1595,.2759,-.0825,-.2346,-.1872,-.09287,.2069,-.1631)*in1+\n   mat4(-.1621,-.008767,-.1175,.05035,.04957,-.2311,.007916,.1883,-.1879,.09874,.01901,.0009223,.1451,-.4368,.1132,.2088)*in2+\n   mat4(.02463,.06619,.08911,.1494,.1174,-.02125,.08234,-.1758,-.1852,.2114,-.4747,-.5611,-.05991,.04194,.1214,.01479)*in3+\n   mat4(-.03443,.07305,.05157,-.1098,.05661,.0073,-.03377,.2046,.0727,-.01115,.09066,.2296,.01309,-.166,-.01691,.09182)*in4+\n   mat4(-.05724,.1743,-.05795,.1196,-.06711,.107,-.0432,.03551,.02143,-.05167,-.0007761,-.1339,.09939,.04454,.05975,-.02316)*in5+\n   mat4(.1058,-.03146,.06108,.1755,.07599,.1114,.09843,-.06542,-.1366,.1363,-.2904,-.2384,-.03418,-.01875,-.02681,-.0974)*in6+\n   mat4(.1091,.03473,-.02329,-.1168,-.144,-.2936,-.03422,-.05427,-.007388,.1282,.157,-.006719,.1915,.1307,-.04262,.04373)*in7+\n   mat4(.009586,-.149,-.003292,-.04778,.05784,-.01138,.06082,.03467,.04807,-.08623,-.05658,.04122,.07699,.119,.1345,.01979)*in8+\n   mat4(.05574,.06143,-.01691,.03719,.007937,.08029,-.1803,-.02646,.1818,.1041,-.003488,-.1363,.04796,-.05215,-.03936,-.01652)*in9+\n   mat4(.02628,.103,-.09195,-.02105,-.02054,.01441,-.05622,.0134,.05946,.03766,-.09715,.0515,.02181,-.05077,.1418,.0592)*in10+\n   mat4(-.007528,-.01092,.02304,.04444,.0533,-.02113,-.05411,-.002573,.04825,.008616,-.03488,-.009659,.02186,-.04616,.08441,.1094)*in11+\n   vec4(-.12,-.07693,.04038,.02828));\nvec4 h0_6=LeakyReLU(mat4(-.02417,-.1803,.07568,-.06819,-.1549,-.02974,-.114,.008037,-.1822,.4104,-.5213,-.007055,-.2169,-.1329,-.2474,-.01076)*in0+\n   mat4(.1734,-.2254,.05918,-.2409,-.2177,-.008854,-.2883,-.2243,.2642,-.2742,.234,-.1137,-.423,-.07667,-.3379,-.2401)*in1+\n   mat4(.3091,.2953,.1161,.2066,-.4093,.00642,-.136,-.1635,-.2339,-.09616,.02804,-.05319,-.05846,-.02089,-.1881,-.116)*in2+\n   mat4(-.001707,-.2826,-.1789,-.1386,.2367,.04875,.04573,.1742,.0958,.03416,.1701,.2481,.02836,.08302,-.2055,.04699)*in3+\n   mat4(-.002841,-.03115,.09828,-.04243,.04067,-.0785,-.198,-.1394,.1695,.06784,-.1907,-.1325,-.0696,-.02649,.08337,.01308)*in4+\n   mat4(.0006259,.1552,-.09816,-.1301,-.1529,.01199,.01823,.2267,.1235,.005433,-.1247,.04361,-.03086,-.1699,.02286,.05909)*in5+\n   mat4(.09499,.1923,.1009,-.1045,.1088,-.188,.07489,.07718,-.1921,-.06416,.02895,-.06511,-.1771,.04764,-.09146,-.07563)*in6+\n   mat4(-.04514,.09496,.1685,.006941,.104,-.02475,-.06593,-.07668,.04749,-.01783,-.01169,.08416,-.07996,-.1276,.07049,.07225)*in7+\n   mat4(-.04012,-.1426,-.2407,.01936,.07678,-.009778,-.1206,.06403,.02734,.02282,-.009445,-.1124,-.0489,.1617,-.0191,-.07524)*in8+\n   mat4(-.09367,-.09521,-.09131,.01339,-.007207,.07677,.0338,-.1496,-.04463,-.163,-.06908,-.05477,-.1701,.06004,.1194,.08421)*in9+\n   mat4(.1433,-.01276,-.0138,.1356,-.01752,.05988,-.04808,-.02088,-.1018,-.05725,.109,-.0251,.05423,.01253,-.02414,-.03872)*in10+\n   mat4(.03855,-.00492,-.03822,-.0719,.001334,.01049,-.002763,.02931,-.0247,.1316,.01117,.07507,-.01333,.1193,.07441,.07333)*in11+\n   vec4(-.1595,-.1031,-.01362,-.04349));\nvec4 h0_7=LeakyReLU(mat4(-.2801,-.3266,.229,.2172,-.305,-.2601,-.664,.06514,-.2292,.0479,.7232,-.05788,-.2051,-.2245,-.00787,.1178)*in0+\n   mat4(.06079,-.01257,.1468,.03857,-.2671,-.07606,.08219,.2303,.07597,.1482,.06015,.1687,-.103,.05618,.03133,-.1175)*in1+\n   mat4(-.1015,-.1884,-.05845,.1387,-.265,-.1379,-.05402,.02063,-.007138,.1745,-.03242,.2961,-.3233,-.3735,.1224,.01058)*in2+\n   mat4(.1174,-.1726,-.1063,.1369,-.05702,-.02982,.3472,.05048,-.1999,-.3957,-.3164,-.03793,.2094,.03278,.04026,.03734)*in3+\n   mat4(.0037,.1341,.02738,-.005314,.133,-.1419,-.01155,.1166,.04223,.1211,.04319,.01449,.08335,-.02615,-.1282,.08541)*in4+\n   mat4(-.01646,-.08866,-.06934,.3067,-.04564,.03118,.002389,-.005344,.1682,.06536,.004119,.04182,.0304,.07431,.01839,.1294)*in5+\n   mat4(.08128,-.0579,.08143,-.07653,.03371,-.05253,-.1201,.1724,.1151,-.08929,-.2435,.06996,.1969,.03913,.02681,.06661)*in6+\n   mat4(-.02617,.1147,.02315,.2018,-.1272,-.03763,.02654,.1105,.05399,-.09065,-.01079,-.06392,.0133,.1466,.01825,-.1615)*in7+\n   mat4(.1121,-.1519,-.06849,.1814,-.07693,-.056,-.008471,.04047,-.002554,-.001689,-.08362,.1524,.02319,.05558,-.05611,.2763)*in8+\n   mat4(.119,-.08222,-.2609,-.02801,-.06083,-.1346,.3136,.06359,.1806,.02106,-.166,.1583,.04562,.1226,-.004784,.004889)*in9+\n   mat4(-.01013,.06954,-.04512,-.02902,-.06288,.09679,-.04184,.05129,.05261,-.02584,.004813,.01698,-.05917,.08887,.04625,.158)*in10+\n   mat4(.0692,-.01852,-.0271,.2139,-.1449,.03882,.02226,-.04206,.0423,.07253,-.02125,-.01158,.07059,-.06515,-.03263,.1374)*in11+\n   vec4(-.1011,-.1526,.006687,-.01929));\nvec4 h0_8=LeakyReLU(mat4(-.3286,-.2879,.2826,-.253,-.07985,-.2504,.3898,.1024,.2139,-.1739,.2754,-.3064,-.0832,.07413,-.3334,.28)*in0+\n   mat4(-.04836,-.04012,.09965,.1698,.03865,-.1022,-.01988,-.06912,.1603,-.1355,-.1167,.1448,.06648,.1273,.1294,-.02905)*in1+\n   mat4(.4038,-.2096,-.08185,-.04864,-.07875,-.03316,.06384,-.06704,.01338,.1136,.01386,.0001167,-.05483,-.3148,-.1482,-.08804)*in2+\n   mat4(-.1424,-.05694,-.008164,.08204,.06312,-.0766,.1341,.1307,.1276,.02671,-.214,.1123,.07242,.075,.08724,-.1099)*in3+\n   mat4(.008727,-.01487,.1122,.03527,-.02651,.08955,.000318,.02222,.1252,-.09288,.1918,.002806,-.01835,.00825,-.0838,.008497)*in4+\n   mat4(.02792,.04793,.02685,-.06662,.03023,-.0001961,.1065,-.007288,-.02781,-.1062,.009474,-.1838,-.05406,-.04235,.02823,-.08908)*in5+\n   mat4(.07196,.1379,.07411,.0947,.1543,-.01111,.02786,.047,.06329,-.02364,.09421,.02124,.04572,-.01619,-.07734,.05673)*in6+\n   mat4(.03634,-.1199,-.1063,-.03346,.08602,.03384,.02948,-.04415,.09361,-.02032,-.09604,-.04102,-.05965,-.03502,-.03618,.07692)*in7+\n   mat4(.05673,-.01818,-.1187,-.1483,-.1648,-.08801,-.05626,-.06804,.01606,-.2251,-.02851,.04584,-.03594,-.001154,-.01312,.005657)*in8+\n   mat4(-.1454,.05009,.01957,.2103,.1903,-.03103,.02965,-.2669,.03976,.07032,.09357,-.1221,-.07833,.005042,.04987,.04263)*in9+\n   mat4(-.02313,-.02941,-.07858,.08634,.009011,-.05413,-.01491,-.1347,-.01228,-.01162,-.02396,.129,.01484,-.02491,-.1165,-.08986)*in10+\n   mat4(.02781,-.02524,-.05776,-.02135,.01357,-.01559,-.06143,.1377,-.05814,-.1199,.01648,.07938,.01324,-.04885,.009083,-.06613)*in11+\n   vec4(-.3368,-.1502,-.04954,-.1446));\nvec4 h0_9=LeakyReLU(mat4(-.1823,-.5491,-.00295,.159,-.007584,-.2641,-.02404,.2639,-.2735,-.7068,.1327,.2687,-.03717,-.1267,-.3772,-.201)*in0+\n   mat4(-.1835,-.1173,.09441,-.1256,-.2971,-.1181,-.0177,-.04605,-.01834,.2436,.05454,-.3144,-.1527,.01568,-.1527,-.07566)*in1+\n   mat4(.1636,.3278,.0585,.02705,-.5702,-.2087,.05622,-.1658,-.2398,-.3803,-.1029,.1501,-.3799,.1236,-.382,-.04669)*in2+\n   mat4(-.032,.1377,-.01239,-.02571,-.221,-.1273,.01083,.235,-.07142,-.04334,-.205,.1622,-.316,-.1233,.2397,.08611)*in3+\n   mat4(.2473,-.1945,.1461,.08887,.08385,.09968,-.118,.07294,.08071,.07227,.2604,-.02113,-.09258,.2413,-.1306,-.03194)*in4+\n   mat4(-.1215,.008697,-.1232,.1009,.1213,.1248,.1356,-.09263,.1238,-.07659,-.06171,.1911,-.2524,-.1643,-.02636,.3241)*in5+\n   mat4(.2414,.05395,.1291,.1035,.1329,-.008997,-.08197,-.1407,-.1615,.1023,-.02384,.01665,-.1279,.03298,-.02887,-.06072)*in6+\n   mat4(.03277,.1032,.1146,-.03566,-.009116,-.04003,-.0289,-.01394,-.07884,-.0418,-.01427,.1332,.04079,.1223,.02026,.1048)*in7+\n   mat4(-.02433,-.06738,-.03581,.1695,.02796,-.1008,-.07815,.05613,-.06942,-.04463,-.007433,.04493,.00609,.03328,-.0003221,-.0816)*in8+\n   mat4(-.002813,-.05646,.004882,-.0503,-.002225,-.02887,-.00478,-.05743,.0224,-.04453,.0886,.09019,.01998,.06793,-.1426,-.02433)*in9+\n   mat4(-.04191,-.05806,-.03884,.008063,.005491,-.09118,-.1183,.08391,.01115,.04869,-.09361,-.1292,.05123,-.03787,-.04262,-.002571)*in10+\n   mat4(-.01803,.06198,-.06161,-.0385,-.06924,.046,-.01679,-.03639,-.04856,.06074,.1192,.09748,.02184,-.02871,.02249,.07066)*in11+\n   vec4(-.3999,-.09116,-.2281,-.1124));\nvec4 h0_10=LeakyReLU(mat4(-.3971,-.1243,.09162,-.0308,-.5768,.103,.0002233,-.3177,-.5442,-.3512,.1779,-.1593,-.6933,-.1812,-.04381,-.3673)*in0+\n   mat4(.235,-.02614,.04637,-.02765,.06631,-.3768,-.02359,-.1019,.0001948,-.06393,.235,.06307,-.09366,.1076,.1303,-.5351)*in1+\n   mat4(.1451,.01996,.2333,.2697,-.03391,-.2926,.07486,-.1205,-.3146,-.3272,.09198,-.094,-.1813,.01788,-.2427,-.004416)*in2+\n   mat4(-.07322,-.1636,.006,.1067,.1448,-.02665,-.1314,.1543,-.003727,.2753,-.004987,-.08243,-.1119,-.1328,.06438,.01875)*in3+\n   mat4(-.1244,-.01499,-.1313,-.1031,-.06161,-.02117,-.004581,-.08424,-.05251,-.07972,-.006494,-.04416,.1248,-.09596,-.0815,-.05995)*in4+\n   mat4(-.06332,-.002075,.02058,.1584,.04321,.03197,-.05907,.05325,.08421,.1105,.04677,.08777,.02229,-.1015,-.2919,-.02063)*in5+\n   mat4(-.06994,.18,-.06168,-.2264,.04612,.03929,.1575,-.2418,.09881,-.2756,-.164,-.211,-.08079,.08394,.1685,.04863)*in6+\n   mat4(.09519,-.01541,.09348,.01907,.0756,.04086,-.00871,.1053,-.01001,-.0712,.1776,-.09758,.04536,.02332,.07698,.08857)*in7+\n   mat4(.173,.04983,.264,.08724,.2382,.04593,.09255,.2054,.1229,.02277,.04251,-.04966,-.0246,.05007,.1229,-.1182)*in8+\n   mat4(-.07348,-.02228,-.06089,.04999,-.1382,.07517,-.02072,-.06582,-.09475,.03431,-.1593,.1288,.1849,.05621,.006772,.06269)*in9+\n   mat4(-.001104,-.002125,.09612,-.05911,.1028,.04311,.09007,.05593,.00392,.01339,-.03197,.09203,.03237,-.06485,.1338,.007631)*in10+\n   mat4(.05101,-.01781,.001939,.08067,-.01258,-.05712,.1431,-.05581,.03543,.03552,.01439,-.04714,-.03737,.08107,.1033,.03997)*in11+\n   vec4(.1092,-.2749,-.1517,-.0454));\nvec4 h0_11=LeakyReLU(mat4(-.05027,-.1949,.0304,.3297,-.05899,-.23,-.07087,-.2062,-.6032,-.356,.2828,-.06081,-.04255,.4012,-.0007283,.1697)*in0+\n   mat4(.124,.05394,-.1287,-.1676,-.03398,-.1045,-.169,.1306,-.1305,.1589,-.05059,-.1567,-.2276,-.1278,.01146,-.08435)*in1+\n   mat4(.5308,.1264,-.03066,-.001172,-.1323,-.1324,-.2745,.07504,-.0799,.1782,-.1056,.2838,-.004757,.2172,.02017,-.02373)*in2+\n   mat4(.06164,.1017,-.08017,-.2232,.03029,.07211,-.01317,-.2394,.1626,-.2415,.3142,-.002948,-.1538,.06864,-.04044,.06574)*in3+\n   mat4(.05344,.02065,-.0001694,-.01479,.006968,.1369,-.0874,-.01744,-.006894,.1828,-.08616,-.1026,-.07122,-.06121,-.0331,.1459)*in4+\n   mat4(-.02795,.09886,.05488,-.01868,.033,.02528,.1395,-.01138,.04733,.08356,.1968,-.0748,.03837,.03969,-.09068,-.09691)*in5+\n   mat4(-.06674,.1496,.09748,-.12,.03365,-.09953,-.2151,.04018,.0009749,-.3325,-.4871,.06718,-.07304,-.1839,-.03259,-.07624)*in6+\n   mat4(.1214,.03703,.03986,-.1268,-.05286,.04204,-.03917,-.04468,-.06755,-.1793,.01363,.01667,-.1551,.09422,.1298,.136)*in7+\n   mat4(.006895,-.1218,.1833,.01607,.2234,.1103,-.1148,-.03943,.1735,-.09055,-.1299,-.01721,.001835,-.1534,-.08471,-.0744)*in8+\n   mat4(-.04783,.0339,.09478,.0125,.09426,-.1905,-.03962,.1933,-.0367,-.07131,.02067,-.1982,-.01259,.006073,.08564,.07973)*in9+\n   mat4(.08023,-.04015,.04986,.08374,.03701,.006285,.02559,.04148,.0297,.01628,.05668,.06143,-.01624,.04323,-.07508,-.1059)*in10+\n   mat4(.006892,-.04991,-.06406,-.08273,-.04745,.04419,.05285,-.09392,.01982,-.003176,.0758,.06703,.04881,.01478,.06367,-.02802)*in11+\n   vec4(-.1221,.04551,-.169,-.1091));\nvec4 h0_12=LeakyReLU(mat4(-.4363,.05336,.05183,.1872,-.3617,-.4534,.06013,-.02709,-.1561,.2171,-.2024,.2643,-.1536,.1029,-.0779,-.05085)*in0+\n   mat4(-.05822,-.1958,.0006775,-.04786,-.7523,.04633,-.2871,-.0434,.3648,-.1545,.0248,.02382,-.3621,.01195,-.1548,-.1321)*in1+\n   mat4(.3955,-.01183,.02364,-.03774,-.457,-.1089,-.3369,.0622,-.07118,.001463,-.1092,.1107,-.4336,-.3881,-.1341,-.008578)*in2+\n   mat4(.134,.08149,-.06412,.05963,.06792,.111,-.09825,.1178,.1105,.1859,-.1147,.005896,-.1762,-.08911,-.131,.03051)*in3+\n   mat4(.1869,-.01573,.09454,-.05454,.002472,.08393,.1513,.1547,-.02267,.1887,.0075,.2371,-.1106,-.134,.09205,-.1733)*in4+\n   mat4(-.06514,-.06451,-.08834,.1912,-.05907,-.0534,-.04944,.2067,-.0003877,.05233,.08473,.08657,.1161,-.06511,-.01107,-.07921)*in5+\n   mat4(-.03884,-.01528,.1069,-.02011,-.1086,.09157,.06703,-.1162,.1118,-.02123,-.1706,.1285,.1681,-.06403,.1145,.03632)*in6+\n   mat4(.1204,-.08072,-.09573,.1145,-.05396,-.06771,-.09366,.05857,-.1434,.01032,.007064,-.03525,.1168,-.06731,.1726,-5.133e-06)*in7+\n   mat4(-.05819,-.01905,.05862,-.2913,-.1473,.005945,-.03771,.03947,-.1027,.1053,-.1265,.1649,-.02913,-.01523,-.0132,.009994)*in8+\n   mat4(-.2054,.0084,.03555,.02106,-.03549,-.07432,.02705,-.02683,-.05739,.11,-.08704,.269,.1448,-.01568,-.0693,-.1125)*in9+\n   mat4(-.01323,.003933,-.08006,-.002395,.095,.03232,-.03538,.106,.03336,.03284,-.04796,-.05425,-.1018,.04074,-.08628,-.07828)*in10+\n   mat4(.04042,-.1134,.04867,.01885,-.05168,.009288,-.002015,.08903,-.1078,.01374,-.06739,.08383,-.06449,-.07242,-.01013,.004315)*in11+\n   vec4(.01447,-.1182,-.3153,-.1146));\nvec4 h0_13=LeakyReLU(mat4(-.2876,-.3831,-.2213,-.3034,-.3118,-.2001,-.2123,.04881,.04204,-.05033,-.3727,.02893,-.03122,-.007993,-.1206,-.4856)*in0+\n   mat4(-.06179,-.3651,.06468,.0181,-.2054,-.5005,-.04177,-.01482,.2295,.03518,.1697,.4058,-.09699,-.08301,.07423,-.2168)*in1+\n   mat4(.3784,.2744,.03862,-.0401,-.4357,-.4795,-.2749,.1063,.09958,.000926,-.07071,-.2782,-.344,-.5685,.06055,-.05897)*in2+\n   mat4(.05638,-.03546,-.05545,.1593,.01882,.02445,.09907,-.09002,-.2269,-.06747,-.05063,.05336,-.01441,.1221,.001157,.1412)*in3+\n   mat4(.09474,.007863,-.003847,.1437,.09312,.1403,-.07296,.02703,-.01661,.05093,.09407,-.09197,.09413,-.03626,-.1892,-.0531)*in4+\n   mat4(.02406,-.002218,-.2561,.02086,.03766,.1371,.1617,.1423,.08014,-.04221,-.09769,.1018,.03307,-.1217,-.07464,-.1011)*in5+\n   mat4(-.04644,-.07323,.02436,.05819,-.03286,-.03411,-.02274,.1069,.1278,-.07635,-.1007,-.08948,.177,.2077,-.01634,.07646)*in6+\n   mat4(-.01983,-.1384,.07772,-.1007,-.02455,.02614,.04535,-.1026,.07336,-.1401,-.0747,-.03049,.03399,-.1218,-.04521,-.08746)*in7+\n   mat4(-.1126,-.08067,-.01993,-.1175,.08189,.01704,-.07423,-.008175,.09895,.08119,.1505,.03285,-.09838,.01783,-.02694,-.07637)*in8+\n   mat4(-.01811,.006445,-.1561,-.1291,-.1043,-.01612,-.001893,.09493,-.01318,-.02621,-.06227,-.1607,.02781,-.2113,.006742,.03557)*in9+\n   mat4(-.04616,.05159,-.1626,.00856,.02029,-.05005,-.04745,-.08765,.01346,.1099,-.1303,-.03626,-.01021,-.003252,.06655,-.1056)*in10+\n   mat4(.07649,.04273,.06419,-.04016,-.02553,-.006572,.1025,-.03707,-.05589,-.09257,-.0625,.02046,.02038,.01318,.09876,.02355)*in11+\n   vec4(-.04075,-.3041,-.1561,-.08162));\nvec4 h0_14=LeakyReLU(mat4(.2342,.1836,-.1323,-.3846,.01931,.05524,.05345,-.06036,-.3619,.3792,-.1386,.1089,-.1831,-.0795,-.01703,-.313)*in0+\n   mat4(-.0921,.006009,.027,-.002278,-.1515,-.1427,-.04392,-.1457,.2509,.08529,-.5616,-.02144,-.2309,-.1545,-.1702,-.3798)*in1+\n   mat4(.3381,.08659,-.1378,-.02864,-.1596,-.09814,-.2254,-.1212,.1586,-.06557,-.0553,-.274,.1263,-.191,-.0313,-.1226)*in2+\n   mat4(.01298,.05624,.1178,.005033,.2397,-.1134,.02061,-9.834e-05,-.08707,-.2217,-.201,.2056,.0006532,.1891,.0287,.262)*in3+\n   mat4(.05002,-.05544,.1322,-.02736,-.05539,.04621,.06206,.03305,.1365,.09552,-.05902,-.0435,.03865,-.1066,-.04337,.04531)*in4+\n   mat4(-.07914,.02769,-.2008,.05245,-.01403,-.1079,-.07096,-.1792,-.04804,-.1002,-.001351,.04203,.06605,-.06941,.2366,.03581)*in5+\n   mat4(.1228,.03327,-.07347,.1406,.1111,.1521,-.01664,-.05477,-.2044,.2355,-.167,-.01926,-.002614,.1483,.07588,.2143)*in6+\n   mat4(.02088,-.1694,-.1346,-.01317,.003088,.09817,-.08966,.0006485,.1433,-.05553,.04573,.0699,.03488,-.02219,.01954,.05572)*in7+\n   mat4(-.1146,.03409,-.07129,.07059,-.0856,-.08416,.02955,-.1101,-.08155,.1036,-.1071,.04465,.1179,-.03328,-.184,.2012)*in8+\n   mat4(.01837,-.04091,.03123,-.02803,.08064,-.02775,-.07779,-.06232,.005272,.02799,-.06256,-.08118,-.02821,.03851,-.003825,.1942)*in9+\n   mat4(-.05408,-.02471,-.02141,.04872,-.03687,.08813,.07874,-.04085,.06383,.06094,.03113,.1268,.01697,-.07182,-.07972,.07268)*in10+\n   mat4(-.05937,-.009349,-.02111,-.01141,-.05672,.06274,-.001488,-.08779,-.03629,-.002994,-.07136,.03593,.07754,.07211,-.02258,.03941)*in11+\n   vec4(-.1265,-.1788,-.1598,-.00267));\nvec4 h0_15=LeakyReLU(mat4(-.009644,-.2083,-.1268,-.02022,-.09895,-.3565,.2943,-.6156,-.2103,.2764,-.2802,.2368,-.01656,.0762,-.1186,-.4777)*in0+\n   mat4(.1429,.2232,.1327,.1637,-.1318,-.02952,.01924,-.1515,-.2568,.03131,-.3114,-.1314,.005827,-.1227,.1338,.04044)*in1+\n   mat4(-.001806,.09691,-.01514,.155,-.269,-.1038,.06485,.004991,.06067,.1153,-.2871,.02292,-.3968,-.0426,-.1481,-.09984)*in2+\n   mat4(.07509,.09734,.04213,.04278,-.254,.01255,-.06861,-.2232,.08037,-.1122,.09281,-.02815,-.08667,.04942,.04543,.1224)*in3+\n   mat4(.006602,-.07958,.01206,.006028,.01204,.08961,.1075,.1397,-.02157,.185,-.06233,.1357,.06432,.007399,-.05643,-.04426)*in4+\n   mat4(.01655,.1509,.0407,.01816,.1308,-.1492,-.02176,-.1206,.1694,-.03239,-.04837,-.08235,.2795,.04255,.1649,.04022)*in5+\n   mat4(-.1782,.08605,.1149,.1325,-.07085,.01819,-.02897,-.004624,.1562,-.1525,-.2678,-.1828,-.01191,-.1415,-.05237,.01959)*in6+\n   mat4(-.09176,-.1087,.1435,.01162,-.1856,.07013,-.1105,.06449,-.1045,.04627,.05328,.006258,.01637,.1007,-.008134,-.07863)*in7+\n   mat4(.1974,.007614,-.05676,-.009219,.02117,.09398,-.04193,-.0005234,.07935,-.06162,.02595,-.08015,-.2568,.04329,-.2095,.0008542)*in8+\n   mat4(.04024,.07105,.01565,-.2654,-.08131,.04201,.02602,.0836,-.1103,-.4019,.1455,.01532,.06909,-.0007712,.03757,.1564)*in9+\n   mat4(.01483,-.04149,.002792,.02764,.03652,.06799,.07414,-.04771,-.03887,.002193,.001888,.01853,.03716,.05212,-.08678,.06194)*in10+\n   mat4(-.007752,.03585,-.03857,.05985,.04687,-.01457,-.06186,.02293,.01484,-.1309,.01342,-.064,.1839,-.05402,.2066,-.04586)*in11+\n   vec4(-.1454,-.1695,-.1753,-.04848));\nvec4 h0_16=LeakyReLU(mat4(-.01575,-.07557,-.2684,-.1052,-.04531,.2492,.1992,-.1095,-.6535,.1213,-.4079,.4437,-.1193,-.07585,.06435,-.1934)*in0+\n   mat4(.1253,-.1546,-.1034,-.08609,.01262,.05622,-.09261,.09581,-.1567,.2038,-.05368,-.315,.1371,.1415,.1066,.1192)*in1+\n   mat4(-.1167,-.05041,-.08833,.2051,.05966,-.2627,-.2352,-.03069,-.0646,.07575,.1894,-.02165,.1111,.04009,-.04099,-.0711)*in2+\n   mat4(.1001,.08609,.07271,.009385,.03189,-.06721,.05202,.1597,.2148,.1346,.01909,-.05913,-.1305,.02132,-.01739,.03431)*in3+\n   mat4(-.01226,-.03198,-.06355,.2251,.001934,.1141,.05879,.1834,.06206,.04203,.1116,.1335,-.1764,.00203,-.03171,-.1666)*in4+\n   mat4(-.03207,.0894,-.03914,.1385,-.004486,.06888,.07935,-.01175,.2138,.07094,-.1472,.08767,.06561,-.07788,-.05141,.119)*in5+\n   mat4(-.03565,.2201,-.07022,-.1406,-.1855,.04209,.1975,.1025,-.18,.2761,.1638,.1282,.06896,-.0781,.1415,-.006265)*in6+\n   mat4(-.02079,.002529,.07539,-.05325,.06865,.04759,.1724,-.0758,.09637,.03442,-.002818,-.1084,.2248,.002375,-.2012,.007699)*in7+\n   mat4(-.07142,.1614,-.08939,.1632,-.06663,-.04103,-.1457,.01654,.06427,.115,.0774,-.02684,.01859,.1148,-.03518,.07361)*in8+\n   mat4(.08345,-.02275,.3005,.1111,-.1114,.1642,-.2646,-.05257,.332,.08435,.2706,-.005654,.03434,.04022,.2238,-.1397)*in9+\n   mat4(.1001,.06531,-.002601,.109,.03925,.05395,-.02151,.01037,.07379,-.01356,.181,-.1119,-.001914,-.1495,-.05463,.003675)*in10+\n   mat4(.04761,.1164,-.04571,.0651,.05388,-.02607,-.05839,.01761,.05771,.126,.05094,.1614,.02831,-.00725,.04948,.02316)*in11+\n   vec4(-.05196,-.05864,-.164,-.1657));\nvec4 h0_17=LeakyReLU(mat4(-.6856,-.3811,.186,.2521,-.57,-.02227,.2262,.5855,.3148,-.3679,-.3013,.242,-.3893,-.08726,.08164,-.2931)*in0+\n   mat4(.3023,.02044,-.05822,-.03756,-.2403,-.04525,-.2739,-.1055,-.03482,.1569,-.02646,.1525,-.08823,-.09722,-.233,-.1271)*in1+\n   mat4(.1352,.147,-.09031,-.1341,-.15,-.1817,-.1701,.01726,-.1556,-.4593,.0631,.09712,-.08736,-.1563,-.3165,-.1676)*in2+\n   mat4(.1774,.1264,-.03129,-.107,-.05521,.1546,.04087,.02244,-.2347,.01092,.01137,-.05665,-.05704,.1059,.02513,.1164)*in3+\n   mat4(.04479,.05183,-.1281,.024,-.03107,.04659,-.1176,-.07292,-.0263,.01094,.04448,-.09994,.007995,-.02369,-.003999,-.03766)*in4+\n   mat4(.002737,.05745,.003945,-.03727,-.0939,-.07628,-.004589,.03342,.02218,-.04435,.0007336,-.03722,-.07229,-.08933,-.121,.06337)*in5+\n   mat4(-.03863,.07263,.01278,-.1343,.173,.04441,-.1677,.2994,.338,.2766,.05918,-.1698,.08913,.01619,-.07705,-.01279)*in6+\n   mat4(-.01747,.007092,.0429,.09647,.006562,-.03774,-.002966,-.01755,.1688,-.07405,.08236,-.0434,.2087,.0754,.1906,-.04736)*in7+\n   mat4(-.06759,.09473,.02833,-.1414,-.05811,.0519,.008276,-.1387,.004059,-.08248,-.1341,.07594,.1225,-.137,-.1972,-.01514)*in8+\n   mat4(.05351,.07344,-.09501,.1313,-.02856,-.1096,.06237,-.02787,.04211,-.03632,-.04687,.08308,-.1405,-.006883,.04481,.03098)*in9+\n   mat4(-.02626,.102,-.0709,.07838,.1003,-.06295,.007842,.03239,.06868,-.08586,-.02573,.05168,.03415,.0148,-.07663,.01021)*in10+\n   mat4(-.05541,-.02826,-.02613,.04859,-.005868,.03593,.07347,.001729,-.06761,-.03816,.01867,.05813,.07269,.02677,.0615,.01501)*in11+\n   vec4(.07785,-.09777,-.1008,-.2053));\nvec4 h0_18=LeakyReLU(mat4(-.232,-.1398,-.2274,.08811,-.2353,-.3435,-.5725,.05631,-.1105,-.2457,-.4548,.2764,-.1211,-.1351,-.5257,.1574)*in0+\n   mat4(-.393,-.01114,-.1329,-.02541,-.3812,-.2037,-.2834,-.1446,.1039,-.06592,-.1182,-.00509,-.2927,-.3344,-.1016,-.09674)*in1+\n   mat4(.2323,.2775,.165,.06559,-.3845,-.3533,-.3487,-.002068,-.1527,-.2883,.01724,.0132,-.6045,-.1203,.002274,-.04831)*in2+\n   mat4(.1923,-.2071,-.07441,.1629,.08907,.07314,-.04282,-.3039,-.08491,-.135,-.2418,-.1995,-.1124,.008775,.09901,.1034)*in3+\n   mat4(-.09366,.01644,.0892,-.05214,-.04789,-.1378,.009563,-.0113,.2101,-.04996,.3063,.09784,-.02259,-.1533,.004314,.02289)*in4+\n   mat4(.004465,.1287,.009525,-.126,.1307,.06166,.1136,-.02723,.04023,-.04202,-.2999,.001633,.04617,-.04724,-.142,-.008908)*in5+\n   mat4(.1422,-.1049,.03719,-.2272,.002026,.1158,-.1785,-.116,.1125,-.01445,-.3009,-.2603,-.2684,.1832,-.1229,.08422)*in6+\n   mat4(.074,.02375,.06017,.03701,-.03917,-.1641,-.233,-.07913,-.1319,.0448,-.1613,-.2337,-.002646,.2356,-.09491,.1209)*in7+\n   mat4(-.02616,.04285,-.2622,.07096,.01783,-.1286,-.06132,-.008459,-.03152,.03102,-.02173,-.1262,-.1038,.1337,.04641,-.101)*in8+\n   mat4(-.02977,-.07899,-.1539,-.1051,-.02385,-.08229,-.03268,-.1407,.09585,-.009994,-.01223,-.2041,.2092,.02373,-.02312,.3178)*in9+\n   mat4(-.03355,-.009522,.09323,-.003806,.03439,.1203,.1071,-.08766,.03396,-.05611,.05485,.2003,-.02307,.002507,-.01228,-.08137)*in10+\n   mat4(.03048,-.05891,.01443,.08864,-.02124,.04785,-.01088,.1002,-.03615,.03133,.04699,-.0745,-.0535,-.02259,-.04449,.04246)*in11+\n   vec4(.008137,-.03412,-.2117,-.2127));\nvec4 h0_19=LeakyReLU(mat4(-.04657,-.309,-.0714,-.1192,.3694,-.3799,-.3698,-.1055,-.3895,-.4162,-.6527,-.4281,-.2863,-.3436,.0565,.0645)*in0+\n   mat4(.2436,-.05206,-.1796,-.1443,.218,-.4098,-.2169,.004259,.03203,.1417,.102,-.1248,.04803,-.3213,-.01062,.06788)*in1+\n   mat4(-.09824,.1135,-.13,-.02431,-.1454,-.3743,-.1216,-.01414,-.09646,-.07626,.1077,-.06712,.08181,-.3138,-.3033,-.2713)*in2+\n   mat4(-.1051,.143,.07979,.2462,.008445,-.03792,-.03518,.1132,-.01178,-.008316,-.01362,.2359,-.04683,-.05058,.04334,-.02216)*in3+\n   mat4(-.08834,-.07508,-.1211,-.03718,.0411,-.08685,.09124,-.05286,-.0829,-.08038,.03133,.1473,-.04079,-.04908,-.227,-.1372)*in4+\n   mat4(-.009233,.132,-.04434,-.1557,.001691,.07476,.05439,.05129,-.07029,-.1095,.05939,.003271,.04222,-.1336,-.05695,.04778)*in5+\n   mat4(.1269,-.04594,.1959,.06434,-.0897,.05518,.1278,-.06145,-.3378,.1609,.2705,-.02024,.03736,.1042,-.07524,-.2839)*in6+\n   mat4(.09945,.08184,.01845,.09811,-.1064,-.03587,.08841,-.001776,-.1573,.1182,-.09804,-.06247,-.003714,-.005891,.02156,-.05571)*in7+\n   mat4(-.1113,-.008256,-.04364,.08342,.1112,-.03561,-.007527,-.2504,-.08842,.1086,.002049,-.2203,-.02091,.007456,.01286,-.1516)*in8+\n   mat4(.03895,-.127,-.004854,-.09138,-.2832,.09643,-.1369,-.06446,-.1765,.002229,-.06224,.09181,.01784,-.2354,.03991,.1192)*in9+\n   mat4(.05528,.03459,-.07177,-.1078,-.09716,-.01606,.02593,.05658,.04345,-.0647,-.04952,-.03163,-.01065,.03452,-.02508,.09347)*in10+\n   mat4(-.09338,-.06473,.0679,-.04745,.00462,-.08728,.02722,.05515,-.06983,-.1115,.01672,.04825,-.05588,.01607,.01086,.03879)*in11+\n   vec4(.006612,-.1089,-.08519,-.08654));\nvec4 h0_20=LeakyReLU(mat4(.2435,-.06009,-.1013,-.1301,.1918,-.4154,.03226,-.3895,-.1864,-.6646,-.8197,-.4527,.1227,-.356,.1859,-.06951)*in0+\n   mat4(.352,.1503,-.1026,.04017,-.03183,-.01198,-.01275,-.3662,.2586,.08726,.3509,-.04506,-.1541,.1563,.1269,.138)*in1+\n   mat4(.1016,.4099,.03324,-.03068,-.1636,.1038,.0153,-.2484,-.02794,-.06787,.1153,-.06933,-.03367,-.01687,-.1659,-.3433)*in2+\n   mat4(.1206,.1396,-.02735,-.002329,-.1024,-.02088,.007229,.05963,-.1761,-.2544,.0645,-.08985,-.1129,-.0541,.07473,-.03267)*in3+\n   mat4(-.06834,.05225,.07373,-.05024,-.02383,.1028,-.1663,-.02073,-7.995e-06,.1298,-.1112,.1504,-.02619,-.0566,-.0502,-.03957)*in4+\n   mat4(-.07915,-.07618,-.1208,.07012,-.019,.1021,-.1304,-.007792,-.1083,.1296,.06953,-.06841,.146,-.01205,-.1533,.05325)*in5+\n   mat4(.02439,-.03159,-.05259,-.05223,.05396,.03656,-.115,.04228,-.1707,-.01683,.06319,.2269,-.1109,-.0431,-.1807,-.04145)*in6+\n   mat4(.1207,-.01597,-.03106,.05824,-.1281,.1191,-.03199,-.0336,-.1056,-.0463,.0135,-.04874,.1503,.02131,.07954,-.00615)*in7+\n   mat4(-.02394,-.07609,.02739,.006772,.116,-.1437,-.01912,.07371,-.1049,-.07713,-.01492,-.05809,-.09424,-.003631,-.1351,3.696e-05)*in8+\n   mat4(.1138,-.02466,-.09526,-.1425,-.1128,-.08395,.0818,-.0509,.02065,-.0958,.0298,.05003,-.04595,-.08783,-.02231,.02364)*in9+\n   mat4(-.09152,-.02798,.1413,-.1253,.04301,.06995,-.05098,-.01816,.006432,-.04927,.01782,.03213,.02056,.06997,.1502,.02785)*in10+\n   mat4(-.01909,-.04697,-.1034,.06709,-.03178,.0932,-.03052,-.03518,-.049,.02456,-.06182,-.08294,-4.646e-05,.01108,.0211,.009752)*in11+\n   vec4(-.1303,-.1087,-.1388,-.2185));\nvec4 h0_21=LeakyReLU(mat4(-.4319,-.3052,-.3833,-.2136,.0478,-.4659,.0728,-.05968,-.2911,-.04711,-.2207,.3965,-.1505,-.1063,.1005,-.1228)*in0+\n   mat4(.18,.04972,-.02237,.3025,-.2558,.102,-.09147,-.08739,.1759,-.09477,.2314,.1478,-.002817,.009716,.03202,-.3017)*in1+\n   mat4(.2806,.1512,.03406,.203,-.2334,-.2839,.1213,-.08929,-.1306,.1371,.1159,.03039,-.2011,-.04929,.02018,-.2352)*in2+\n   mat4(.04194,.009241,.1804,.01328,.06165,.03393,-.1569,.1926,-.01367,.03462,.004233,-.01396,.02679,-.1255,-.006939,.07954)*in3+\n   mat4(-.07299,.01669,-.0629,.0469,-.08408,-.02732,.0815,-.05558,-.08108,.1676,.03207,.08482,-.05922,-.04702,.01871,-.08062)*in4+\n   mat4(.09742,-.09691,-.07457,.01447,.138,.07816,-.1011,3.169e-05,-.02179,.1004,-.06549,-.1085,.02589,.1309,-.01855,.03219)*in5+\n   mat4(.2179,.1695,-.2252,-.2054,-.1113,-.1707,.1422,-.08877,.1277,-.04921,-.1393,-.006644,-.2417,-.05111,.07392,.01596)*in6+\n   mat4(-.0339,-.03535,.08255,.1128,-.04689,-.04029,.01972,-.04211,-.1672,-.06389,.07216,-.1261,-.007598,-.139,-.06354,-.04428)*in7+\n   mat4(.1071,-.01619,-.08423,-.08991,-.07374,.1298,.2145,.1061,-.02276,-.01055,-.1691,.1457,-.07644,.1309,-.02833,-.1493)*in8+\n   mat4(.01621,.03843,-.001088,.1173,-.1088,-.0735,.005975,-.06579,-.0791,-.01272,.03542,.05445,-.03625,.003157,-.09891,.2148)*in9+\n   mat4(.01372,.002557,.05696,-.06479,.01602,-.02307,.1058,-.0007093,.0282,.01548,.06519,.0304,-.07318,-.05104,.1315,-.01938)*in10+\n   mat4(-.06112,-.03148,.04414,.1124,-.02089,-.02228,-.04916,-.04871,-.05186,.01351,-.09632,-.05627,.03081,-.05518,-.07097,.0309)*in11+\n   vec4(-.1393,-.04151,-.09419,-.3275));\nvec4 h0_22=LeakyReLU(mat4(.1069,.03433,-.06126,-.7186,-.2836,.02834,-.1205,-.6563,.1866,-.07652,-.2391,.03452,-.1713,-.1434,-.06858,-.3274)*in0+\n   mat4(.08898,-.09625,.04869,.2176,-.00125,-.2226,-.1571,.1233,-.1289,-.03232,.1304,-.06875,.09382,-.2088,-.07132,.2035)*in1+\n   mat4(.1606,.2819,-.0202,.03732,-.2969,-.2203,-.01753,-.03843,-.1115,-.1198,-.008883,-.09504,.1199,-.1668,.0495,-.03198)*in2+\n   mat4(-.03969,.001794,-.2824,-.1352,.1479,.07025,.07659,.1396,.004049,-.04954,-.3732,.03076,-.1972,-.01489,.004659,-.1552)*in3+\n   mat4(.0448,.02621,.0569,-.0109,-.05364,-.009326,-.04637,-.0382,.2314,-.09672,.1323,-.1389,-.02215,.2586,-.2953,.03646)*in4+\n   mat4(.02412,-.08306,-.01562,.06587,-.1024,-.1118,.1492,.2251,-.02324,.1019,-.2029,.0565,-.01141,.07491,.01593,-.01991)*in5+\n   mat4(.1732,.09554,.007899,-.06078,-.02215,-.09966,-.2533,.1846,.1168,.03358,-.05342,.02042,-.01762,.04143,-.08154,-.03756)*in6+\n   mat4(.121,.09529,.1276,.0515,-.1439,.02952,-.23,-.07406,.009588,-.1071,-.2245,.05411,-.005784,.09159,.1136,.0351)*in7+\n   mat4(-.1978,-.1136,-.1309,.04263,-.02728,-.09979,.007543,.09434,-.02237,.04436,-.02828,.07992,.1782,-.08288,-.03858,.01978)*in8+\n   mat4(.03568,-.03592,.1629,.09746,.002799,.08526,-.1896,-.007299,.04622,.1153,.1552,.003936,-.1527,-.09286,.1415,-.0746)*in9+\n   mat4(-.01458,-.03109,.04041,.1052,.1699,.0546,-.09383,-.02836,.06058,-.005014,.04884,-.02851,-.04283,.06503,.07252,.007914)*in10+\n   mat4(-.02922,-.02907,-.09013,-.009922,-.08345,-.04523,-.05329,-.04461,-.1276,-.04486,.06949,-.01536,.005202,.07429,.055,-.01618)*in11+\n   vec4(-.1589,-.1756,-.02396,-.00641));\nvec4 h0_23=LeakyReLU(mat4(-.1219,.05216,-.04982,-.2813,-.3751,.2777,-.1208,.02169,.04802,.4886,-.02558,-.7126,-.5286,-.183,-.2356,-.116)*in0+\n   mat4(-.271,-.321,.1728,.1049,-.2119,-.1547,-.1495,.112,-.2306,.3898,.07171,.2592,-.1684,-.2903,.07893,.1227)*in1+\n   mat4(.1152,-.00608,-.07812,.1242,-.2573,-.2945,.1725,-.1502,.01754,-.008064,-.2094,-.07176,-.2343,-.09497,.08852,.2454)*in2+\n   mat4(-.1143,-.04599,-.003495,-.008584,.0151,-.2442,.08935,.1005,.006935,-.2436,.1055,-.3463,-.1462,.01679,-.01446,.006707)*in3+\n   mat4(-.1682,-.02749,-.06875,.01719,.06035,-.09108,.175,-.02273,-.07181,.0723,-.06093,.1104,.02842,-.07663,.02487,-.1139)*in4+\n   mat4(-.03176,-.3655,.07538,.02187,.2355,.1645,-.1006,.0394,-.1927,-.1835,.1076,.2008,.08929,-.2949,-.04392,.04837)*in5+\n   mat4(.02224,-.01259,-.006561,.07519,.1048,.1438,-.01165,.06726,-.004385,.08246,-.005155,-.1006,.1392,-.0903,-.1135,.01099)*in6+\n   mat4(.1751,-.03357,-.1739,.1104,-.05451,.05532,.06174,-.03888,-.0458,.009178,-.0001554,.01698,-.1601,-.07748,.2144,-.07728)*in7+\n   mat4(-.02674,.102,-.01681,.08714,-.1825,.08257,-.1569,.07827,.0552,-.03152,-.05279,-.02245,-.05317,-.1374,-.03327,.1681)*in8+\n   mat4(-.0354,.01532,-.2511,.1972,-.02572,.06234,-.01922,-.1115,-.1771,.0661,-.1653,.2197,.07608,.07643,-.06367,-.1193)*in9+\n   mat4(.02899,-.07512,.03952,.1177,-.03522,.03588,.01219,.06784,.01545,.06159,-.04452,-.1365,-.01386,.02287,.0233,.03366)*in10+\n   mat4(.01018,.04157,.06787,.002297,.09891,-.06786,-.03042,-.03161,-.05467,.01377,-.1802,-.03721,-.004063,.1265,.003803,.01205)*in11+\n   vec4(-.1306,-.09137,-.07084,.05447));\nvec4 h0_24=LeakyReLU(mat4(-.1495,-.05201,-.07618,-.1133,.01645,.3029,-.08937,-.2879,.02862,.2787,.2588,.01661,-.06541,-.3162,-.04561,-.01557)*in0+\n   mat4(-.1194,.09377,-.1244,.1389,-.06866,-.2378,-.07301,-.2097,.07562,.00239,.06725,.2538,-.3056,-.244,-.1564,.1819)*in1+\n   mat4(.3998,.2748,.3917,.06891,-.3422,.04695,-.08296,-.2903,-.3137,.1818,-.09551,-.1799,-.1143,.1262,-.1382,-.2559)*in2+\n   mat4(.1289,.1299,.02514,.04358,-.1256,-.06367,.2377,.03861,-.07068,.1642,.2716,.2098,-.09097,-.03277,.1435,-.03321)*in3+\n   mat4(.03385,.03754,.00958,.08763,-.1373,.1562,.1592,-.09705,.09658,.1725,.1666,.0258,-.07147,-.1831,-.2257,-.04417)*in4+\n   mat4(.08578,.1353,-.1312,.03823,-.09065,.06881,.00837,.01834,-.01602,.09745,.2801,-.04264,.05678,.0249,.1338,-.006471)*in5+\n   mat4(.08734,.0373,-.08103,.1437,.09955,.1426,.1578,.1556,-.2086,-.06217,.04757,.06636,.06653,.09369,-.05317,-.137)*in6+\n   mat4(-.01307,.12,-.003438,.05248,.0866,-.146,.08929,-.1798,-.02796,-.02617,.06982,-.1368,.0101,.01824,.04133,.01134)*in7+\n   mat4(.05622,-.1123,-.08662,.05851,-.1198,-.001294,-.01893,.09278,.01948,.09527,.29,.05744,.001387,.0001919,-.001202,.05148)*in8+\n   mat4(.005313,.06728,-.05518,.0006103,.1317,-.108,-.03847,-.0497,.1657,-.2101,-.06085,.02644,.0351,.09844,.005511,.1067)*in9+\n   mat4(-.03391,-.05553,.1101,.08589,-.01494,.01187,.05851,-.0285,.02246,-.03571,-.02082,-.09043,-.01737,.003973,.02888,.1063)*in10+\n   mat4(-.02437,.01362,-.07909,.03845,-.08459,-.07032,.07515,-.01226,-.03241,-.07327,-.01474,.05218,-.006535,.02725,.06179,.03492)*in11+\n   vec4(.06164,-.12,-.1094,.03878));\nvec4 h0_25=LeakyReLU(mat4(-.2425,-.0868,-.3238,.2672,-.2895,-.3246,-.08578,-.3863,.2938,-.2027,.02829,-.787,.09865,-.04246,-.1476,.121)*in0+\n   mat4(.002631,-.09291,.0001069,.2855,-.3587,-.2971,-.03049,-.06823,.1292,-.1484,-.1447,.02359,.2318,-.1698,-.134,.008284)*in1+\n   mat4(.0776,.2183,.156,-.1376,-.2144,-.1882,-.1989,-.02218,-.2052,-.1381,.04485,.1076,.02892,-.07964,-.01016,.07949)*in2+\n   mat4(.007274,.07104,.06208,.07413,-.0478,-.08042,-.1181,-.1137,-.2278,-.1049,-.2641,.1172,.04166,.1874,.2226,.06014)*in3+\n   mat4(-.1073,.01185,-.02215,-.09039,.1254,-.03744,-.1635,.0382,.07732,-.08209,.06622,.03838,.01716,-.01065,-.1269,.01752)*in4+\n   mat4(-.06366,.07417,-.07201,-.03585,-.09949,.1341,.1166,.01363,-.09202,.1648,.01718,.01061,-.0507,-.01289,.008909,-.07343)*in5+\n   mat4(-.2042,-.06648,-.03134,.09636,.1428,-.0122,-.1123,.06044,.1181,.05137,.02626,.3269,.04784,.2273,-.02021,-.01689)*in6+\n   mat4(-.03149,.01889,-.1342,.0455,.01111,.1114,-.05123,-.01065,-.009716,.05395,.01825,.005533,.2109,.05436,-.02506,.03157)*in7+\n   mat4(-.09892,.1112,-.1591,-.001159,-.1197,-.04092,-.07199,-.06175,.002731,.001736,.1017,.03005,-.1437,.06239,.03607,-.026)*in8+\n   mat4(.07963,-.2224,.01258,-.04396,.07701,.06285,.1454,.1008,.05709,.08741,.05296,.04944,-.1041,.05226,.07855,-.02512)*in9+\n   mat4(-.04884,.03038,-.1119,-.01927,.08506,.02591,.01797,-.03067,.07425,.0399,.06806,.08946,.003751,.02975,.04337,-.01426)*in10+\n   mat4(.0315,.03682,-.006566,-.0375,-.008338,.003586,-.07198,.01162,-.05696,-.01057,-.003286,-.1055,.003625,.06255,.05267,.03057)*in11+\n   vec4(-.186,-.1226,-.2043,.06832));\nvec4 h0_26=LeakyReLU(mat4(.03406,-.0009534,-.1697,.3073,.1193,-.5045,-.2106,-.44,-.2525,-.11,.03811,.4689,-.2508,-.2638,-.2878,.257)*in0+\n   mat4(.04525,.09735,-.2564,-.07285,-.1602,.002278,-.6303,-.1768,.4062,.1041,.2557,-.01111,-.1308,-.1115,-.2174,.1187)*in1+\n   mat4(.2387,-.1506,.4408,-.1654,-.3508,.09095,-.6431,-.05394,-.1345,-.1945,-.2952,-.04405,-.1433,.1334,-.5547,.01039)*in2+\n   mat4(.2373,.1593,-.05958,.0735,.1834,-.09752,-.09633,.1022,.07449,-.2213,-.1853,.009236,.04572,.114,.2521,-.03692)*in3+\n   mat4(.05667,.06902,.00236,-.001223,-.07421,.01134,-.03579,.004912,.0802,-.01362,.03225,-.04525,-.02612,-.0912,.04186,.06277)*in4+\n   mat4(.07509,-.06603,-.02148,.05327,-.108,-.1131,.1576,.1226,-.05979,.1551,.08865,-.06278,.1211,.07965,-.06179,.009538)*in5+\n   mat4(-.2241,-.1683,-.1306,.107,.05993,.1632,-.1894,.2095,-.3342,-.2022,-.2019,.08617,.1448,.003511,-.03599,-.007464)*in6+\n   mat4(.1186,.05529,.07294,.01103,-.0312,.006682,-.04635,.02947,-.1457,.06135,-.1828,.1058,.1654,.0287,.06208,-.1425)*in7+\n   mat4(.09941,-.1373,-.0749,-.05372,.05697,-.1335,.1337,-.06069,.08038,-.1847,.01615,.07265,.007876,-.05441,-.1429,.02123)*in8+\n   mat4(-.1158,-.1453,-.001791,-.08398,.1074,.1824,-.1086,.2929,-.1864,.005494,.1162,.09805,-.002884,-.1087,.1161,.05975)*in9+\n   mat4(.05258,-.06478,-.03732,-.1439,-.03506,-.01117,.002879,.03868,.02071,-.06149,.05599,.03212,.08329,-.01002,-.003963,-.0895)*in10+\n   mat4(-.08976,.04249,.05724,.04528,.03692,.08193,-.02781,-.003181,-.03533,-.03332,-.02224,.1107,.04598,.08032,-.01893,.01596)*in11+\n   vec4(-.0445,-.1063,.03271,.01502));\nvec4 h0_27=LeakyReLU(mat4(-.1209,-.1205,-.01348,-.4907,-.2906,-.3206,-.2358,-.3254,-.4382,-.2713,.1395,-.6291,-.3138,-.09479,-.2555,-.5351)*in0+\n   mat4(.1473,.05263,.03616,.2427,-.0288,-.3478,-.07264,-.3629,-.2426,.1235,-.2849,-.01651,-.01754,-.1264,-.3461,-.03798)*in1+\n   mat4(.06441,-.01252,-.07848,.1957,-.448,-.4522,-.1631,-.179,.02779,-.001578,-.2952,-.157,.09841,-.4092,-.09862,-.01505)*in2+\n   mat4(-.1063,-.01375,-.05957,-.08412,-.0538,.1003,.1689,-.1183,-.2177,-.121,-.3338,-.1541,-.1144,.07725,-.09216,.22)*in3+\n   mat4(.1014,.111,-.01848,.09928,.06509,.1178,-.1596,.01951,-.008383,-.008785,.0939,-.1717,-.02904,-.1692,-.1501,.01906)*in4+\n   mat4(-.07505,-.03122,.02237,-.1174,.03224,-.0391,.1602,.01962,-.004263,.02002,.1483,.04164,.09971,.001956,.05753,-.1146)*in5+\n   mat4(.1465,-.05456,-.01505,.08841,-.03881,-.05898,-.02327,.009178,.06789,.2459,.00814,.1881,.03448,-.1958,.003196,-.09006)*in6+\n   mat4(.09283,-.009026,.08856,-.009208,-.01371,-.1493,-.09998,-.08621,.01641,-.0401,-.1929,.003367,.1578,-.08178,.1022,.1052)*in7+\n   mat4(.02399,.1118,-.02368,-.1216,.03489,-.09683,-.07853,-.05339,-.05532,-.2253,.04415,.05067,-.1563,.07004,.131,.04103)*in8+\n   mat4(-.09043,-.003849,.03398,-.006946,-.05855,-.1067,-.1387,-.1822,-.07711,-.1095,-.01821,-.08515,.005957,.02395,-.1148,.06315)*in9+\n   mat4(.01728,-.005856,.002313,-.06648,.06584,.02741,.004846,-.05317,-.06778,-.02743,.03987,-.08644,-.06362,-.117,.106,.06652)*in10+\n   mat4(-.01275,-.007464,-.02459,.007227,.05193,-.0117,-.07946,-.02468,.09478,-.04838,-.1002,-.02115,.04494,.06684,-.1073,-.06013)*in11+\n   vec4(-.03143,.04565,-.1707,.1149));\nvec4 h0_28=LeakyReLU(mat4(-.0652,.1842,-.0491,.05874,-.07003,-.2657,-.03806,-.02358,-.6558,-.1886,.06059,-1.019,.09437,.1411,-.241,-.4013)*in0+\n   mat4(.06015,.003913,.0286,-.07391,-.07178,-.1245,-.4398,-.2159,.3808,.1783,.2477,.1823,-.1272,-.05027,-.2652,-.05343)*in1+\n   mat4(-.05113,-.04576,.01326,.0204,.09167,-.1209,-.3837,-.4475,-.01899,.1317,-.1135,-.2633,-.2851,-.01263,-.1958,-.2176)*in2+\n   mat4(.04789,-.1149,.1585,-.05951,.02234,.008443,.1819,.07992,.04683,-.1742,-.236,-.2787,-.1686,.1194,.1111,-.05626)*in3+\n   mat4(-.106,.05865,.04016,.07741,-.09081,-.05276,-.156,-.05103,.02503,.03808,.1446,.01971,.0565,.03675,.02437,.02136)*in4+\n   mat4(-.02377,-.02497,-.05841,-.112,-.01924,.0005818,-.03389,-.03916,.03653,-.1096,-.09274,.04501,-.2261,.05839,.135,-.02374)*in5+\n   mat4(-.01415,-.15,.08281,-.1323,.05715,-.1756,.01599,.06793,-.09472,-.3214,-.02946,-.1294,-.008689,.1212,.1072,-.1799)*in6+\n   mat4(.09072,-.00436,.07083,.05306,.1673,.06461,-.07653,-.07495,-.06253,-.1948,.1027,.01776,-.06986,.05059,.1659,.172)*in7+\n   mat4(-.2208,-.2236,-.124,-.07415,-.0881,.03711,-.132,.06784,-.04915,-.05821,-.169,.01501,.2266,.0322,.06334,-.06847)*in8+\n   mat4(.01105,-.1007,.06052,-.149,-.06211,.003997,.04632,.1797,-.1089,-.1262,-.01082,.3206,.02004,.1536,-.006766,.1346)*in9+\n   mat4(.1155,-.02879,.03497,-.06666,.04794,.05675,-.001682,-.008448,.01524,.04409,.04765,-.01109,.0717,.08613,-.0004622,-.0742)*in10+\n   mat4(.0612,-.08086,-.03593,.0874,.09811,.06593,-.04004,-.05573,.04019,-.04199,-.05282,.008416,.1202,.1089,-.007671,.04248)*in11+\n   vec4(-.09594,-.07398,-.2836,-.3057));\nvec4 h0_29=LeakyReLU(mat4(.03531,-.2117,-.586,-.1612,.3305,-.1274,-.3964,-.05258,.06548,-.7577,-.01264,.07805,.05646,-.2316,.09041,-.2334)*in0+\n   mat4(-.1489,.01072,-.3326,-.1414,-.2499,.04986,.004144,-.2269,.1321,-.08025,-.1112,.05882,-.05209,-.1101,.03653,-.3923)*in1+\n   mat4(.1962,.108,-.151,.1601,-.1737,.0507,.0456,-.3648,.05205,.163,.06067,-.1478,-.06309,-.3854,-.6192,-.1944)*in2+\n   mat4(.1997,.05163,.0919,.07015,-.04753,-.1907,.03422,.05799,-.3613,.2496,-.1062,-.02469,-.07671,.08821,-.106,.08394)*in3+\n   mat4(.08989,.01357,-.06813,.1246,.2169,-.1561,-.02873,.09242,.2102,.009381,.01414,.1345,.1373,-.08612,-.08745,-.1088)*in4+\n   mat4(.2113,.03316,.01302,.08404,.05577,-.06071,.01733,.1156,-.06338,.07506,-.04003,.05436,-.1303,.04437,.009998,.04289)*in5+\n   mat4(.094,-.1322,-.03197,.02093,-.06487,-.07119,-.1572,.08276,.05975,.1142,.1565,.0418,-.06941,-.1275,.09322,-.01382)*in6+\n   mat4(-.02339,-.08718,.06836,-.1168,-.04281,.07257,-.009552,.1199,-.0666,.1928,.0004144,-.03118,-.0411,.07592,.06867,-.0007532)*in7+\n   mat4(-.02116,.1385,-.139,.02945,.03253,.1358,-.01952,.1697,.1498,.01798,-.05644,.00772,.05363,-.2091,.02416,-.09799)*in8+\n   mat4(.06259,-.1424,-.04048,.1468,-.0941,.06154,-.04289,.007609,.2436,-.1015,-.05881,-.001974,.05549,.005844,-.03622,-.2378)*in9+\n   mat4(-.02862,.02084,-.01185,-.01961,.1051,.02278,.008558,-.004184,.01938,.0576,.02917,.04436,.02181,-.03051,.006469,.0218)*in10+\n   mat4(.02207,.01753,.003346,.03253,-.07043,-.0129,-.001813,-.1069,.01489,.0583,-.01205,-.1293,.05574,-.06808,-.04818,.009967)*in11+\n   vec4(-.238,-.0436,-.201,-.2725));\nvec4 h0_30=LeakyReLU(mat4(-.2632,.03354,-.3433,.1998,.08431,-.08607,-.2824,-.2985,.6675,-.1586,-.1513,.3848,-.2377,-.08802,-.1981,-.1038)*in0+\n   mat4(-.03079,-.1074,-.1126,.1727,-.0705,-.2621,-.4117,-.3059,-.04299,.02501,-.1156,-.07834,-.301,-.1623,-.09461,-.2196)*in1+\n   mat4(-.02555,.03629,.2853,.2742,-.2139,-.3181,-.1511,-.09728,-.09791,-.08103,-.0267,.0007631,-.006135,-.1111,-.05716,-.01863)*in2+\n   mat4(-.1448,-.1249,-.02542,.1003,.2328,.0129,-.1358,-.1312,.2062,.04868,-.2605,.1794,-.05174,.06489,.1802,.2405)*in3+\n   mat4(-.1129,-.2405,-.03694,.1423,.02469,-.02211,.04877,.09165,.1469,-.06323,.1904,.1806,.0187,-.07272,.06586,-.0855)*in4+\n   mat4(.03564,.07964,.02693,.04841,-.04,-.01703,.07683,-.03979,.05839,.07446,-.0532,.0731,.06501,.0175,-.04305,-.1271)*in5+\n   mat4(.06843,.02153,.0377,.1101,-.0791,-.2304,.01571,.1164,.08562,.1074,-.05012,-.01179,.02525,-.001681,-.01943,-.1526)*in6+\n   mat4(.02352,.01079,.03795,.1174,.01798,.0127,.05406,.03609,.08581,-.034,-.1405,.01576,.06469,.05327,.07303,-.06111)*in7+\n   mat4(-.06361,.0001855,-.1432,-.01141,-.03884,-.179,-.08744,.03164,.1131,-.07683,.1494,.1067,.06972,.07009,-.04931,-.0492)*in8+\n   mat4(.1641,-.07854,-.03256,.09,-.07116,-.04318,.02517,.03042,-.03855,.135,.01855,.01657,.0585,-.036,.04899,-.0362)*in9+\n   mat4(-.01996,-.03683,.1369,-.02206,.03937,-.05438,-.09035,.01495,.09011,-.07441,-.1548,-.07841,-.03298,.1074,-.02619,.02301)*in10+\n   mat4(-.03461,.07347,-.07849,.01714,-.02952,-.05495,-.05735,-.03973,-.03475,-.06587,.01217,-.06761,.01459,.09978,-.04431,.05784)*in11+\n   vec4(-.167,-.135,-.1202,-.1549));\nvec4 h0_31=LeakyReLU(mat4(.2277,-.1626,-.04647,.369,.4848,.1321,.05576,-.5284,-.5552,.3066,-.04284,.1794,-.1388,-.254,-.1748,-.1144)*in0+\n   mat4(-.04937,-.1765,.07798,-.05342,-.0815,-.1773,-.1331,-.01553,.05753,.1302,-.1252,-.1058,-.02347,-.07089,.2006,.1125)*in1+\n   mat4(.05092,.4729,.2802,.051,-.1535,-.4129,-.08539,.003836,.127,-.233,.2184,-.1321,-.1379,-.2534,-.2647,.1783)*in2+\n   mat4(.1192,.05509,.1951,-.2153,-.01246,-.09467,-.1008,.2176,-.2224,-.2747,.0186,-.1427,-.07924,-.04033,-.008697,-.1254)*in3+\n   mat4(-.1109,-.02223,-.1153,-.03862,-.01714,-.02473,-.01691,-.03106,.03922,-.1449,-.06257,.09395,.07372,-.09549,-.03765,.07968)*in4+\n   mat4(-.02781,.09332,.2109,-.03076,.09535,.05259,-.06396,.03296,-.111,.006052,.1544,.02643,.01267,-.07522,.2422,-.02123)*in5+\n   mat4(.09406,-.1241,.08394,-.09561,-.007063,.01395,-.04506,.1529,-.3062,.1823,-.007709,.01105,-.05761,-.01659,-.07551,.03638)*in6+\n   mat4(.02987,-.0001261,.09394,-.01372,.08409,.03818,.1207,-.08291,-.1179,.01026,.09505,.003741,-.06033,-.09037,.2236,-.05965)*in7+\n   mat4(.01547,.01523,.3012,.06379,.002977,-.006152,-.02456,.1338,-.01954,.01238,.09747,.07712,-.06764,-.03429,.2093,.08266)*in8+\n   mat4(.09186,-.1023,.04522,-.2475,-.04013,-.01065,-.01321,.3419,-.01519,.1602,.03866,-.05965,.107,-.1354,-.06485,-.02224)*in9+\n   mat4(.001698,.06757,.1666,.03381,-.07826,.1026,-.01582,.03939,.06138,-.03462,.07889,-.0561,-.0138,.05796,.03058,.02438)*in10+\n   mat4(-.05221,-.03463,.02642,-.07154,-.04471,.02011,.0003511,-.02101,-.03197,.04104,.05263,-.02073,.04678,.02851,.0042,.01377)*in11+\n   vec4(-.1471,-.1058,-.1537,-.02703));\n//output layer\nout0=mat4(.02748,.01271,-.01002,-.01135,.1563,-.02282,-.06084,.09139,-.03474,-.02558,.04725,.001393,.03175,.04387,.0264,-.01623)*h0_0+\n   mat4(.0832,-.00123,.009795,-.03028,.1145,.02039,-.03233,-.02157,.002612,.03632,.01328,.01632,.04139,.05678,.105,-.0105)*h0_1+\n   mat4(-.001107,.0194,-.005029,-.02534,-.03383,-.03981,-.01984,-.07076,-.1134,-.05075,-.03196,-.03245,.01809,.06262,.003394,.05957)*h0_2+\n   mat4(.06007,-.003582,-.0457,.05174,-.04802,-.0244,-.0142,-.0994,.04317,.03195,-.06373,.06411,.01835,.0004705,.004948,.04058)*h0_3+\n   mat4(.05396,.03451,.06948,.09286,-.07813,-.04074,.01281,.04237,-.007983,-.02184,-.04306,.03099,-.01972,-.001749,.01048,.02356)*h0_4+\n   mat4(.06322,.03952,.01697,.0248,.03327,.02585,.01962,.063,-.04621,-.04634,-.01466,.01029,.03684,.0263,.01367,-.02481)*h0_5+\n   mat4(-.01686,-.01594,-.0284,.08618,.06322,.0339,.01097,.01318,.02398,.02021,.03112,.1399,-.0004034,.02694,.008167,.03061)*h0_6+\n   mat4(.02747,.01729,.02334,.0394,-.0132,.005618,-.004742,.06806,-.05552,.06746,-.05437,-.01632,-.006944,.0067,.0007428,.009402)*h0_7+\n   mat4(.08301,.02747,-.05859,.03146,.06415,.01792,-.01283,-.03087,-.07193,-.03056,-.001008,.04291,.0373,.009272,-.008059,.01922)*h0_8+\n   mat4(.1311,.08483,.01807,.1231,-.05744,-.03882,-.009455,-.05558,-.03675,-.01055,-.05334,-.07166,-.007559,.02848,.02256,.005424)*h0_9+\n   mat4(-.004347,-.00284,-.008585,.03675,-.01113,.0172,.00626,.01803,-.01469,-.03068,-.01202,-.03318,.01181,-.001268,.002578,.06667)*h0_10+\n   mat4(-.04047,-.01318,.04618,-.03579,.05005,.02693,.01843,.002518,-.005989,.001214,.003859,.07151,-.003344,.02292,-.002938,.02568)*h0_11+\n   mat4(-.05289,-.03497,-.004179,.134,-.0576,.02473,.1021,.01976,.02797,.001956,.01681,.05995,-.005999,.008877,.006611,.07034)*h0_12+\n   mat4(-.007208,.02331,.004265,.05675,.06483,.04128,-.006059,.06198,-.01409,-.01036,.001393,-.03412,-.03184,-.02826,-.03941,-.04239)*h0_13+\n   mat4(-.0622,-.01699,.04121,.01758,-.02898,.01224,.01008,.07667,-.003152,-.02198,-.005495,-.06252,-.004055,.008368,-.019,.01298)*h0_14+\n   mat4(.03335,-.02031,-.001063,-.03697,.0592,.03658,-.00352,-.0198,-.04293,-.03274,-.01747,-.06905,-.04377,-.01476,.0121,.06879)*h0_15+\n   mat4(-.02547,-.02382,.02892,-.04376,.06655,.007492,-.01371,.01802,.03997,.002651,.006616,-.0003355,-.04206,-.04613,-.03797,-.01895)*h0_16+\n   mat4(.07733,.05821,.04991,.06394,-.01708,-.002396,.01929,-.01175,.07489,.04256,-.01126,-.03765,-.1363,-.1014,-.03527,.06137)*h0_17+\n   mat4(.07619,.06129,.0328,.1394,.04871,.01979,.02482,.09605,.02097,-.04604,.05486,-.05288,.0007343,.0002164,.001996,.04411)*h0_18+\n   mat4(-.03602,-.05305,-.01894,-.01375,-.06538,-.03404,.02093,.02254,.02771,.01376,.006287,.01223,.04032,.01953,.02321,.08529)*h0_19+\n   mat4(.02708,.006294,.0008584,.05362,-.07581,-.05315,-.0024,-.0923,.03429,.02606,-.02144,-.04027,.05254,.01551,.02955,-.03164)*h0_20+\n   mat4(.07196,-.005619,.002887,.007283,.06195,.03563,.01542,-.05463,.00869,-.007637,-.0008844,-.03169,.02751,.02743,-.01528,-.005778)*h0_21+\n   mat4(-.05608,-.03137,-.0258,-.02643,-.00824,-.01887,-.0192,.01797,-.007294,-.005703,-.01268,.03012,.1273,.06839,-.005841,.08781)*h0_22+\n   mat4(-.01026,-.01256,-.005017,-.06743,-.03119,-.0106,.009202,.01096,-.03102,-.01248,-.01138,-.02061,-.02642,-.01816,.02474,-.056)*h0_23+\n   mat4(.04434,.02804,.02197,.0508,-.04451,-.01847,-.02668,-.02417,.08424,.02445,-.01689,.08935,.05272,.02056,-.008255,-.02904)*h0_24+\n   mat4(.007962,-.01029,-.03217,.002295,-.01508,-.004133,.007313,-.03521,.05177,.01491,-.01302,.01396,.007836,.01923,.04156,-.01668)*h0_25+\n   mat4(-.001449,.01323,.04454,.0664,-.007948,.0263,.04951,-.07624,.02114,.0545,.06518,.1545,.006328,.05034,.01387,.05041)*h0_26+\n   mat4(-.05566,-.003041,.03716,-.02326,.04735,.05273,.002602,.1015,-.0242,-.01293,.02261,-.0435,.002526,.00973,.03771,.02635)*h0_27+\n   mat4(.03282,.02843,-.003925,-.02767,.008748,.003193,-.01858,.00506,.05972,.06097,-.03908,.08496,-.05282,.0261,.09125,.04187)*h0_28+\n   mat4(-.02994,-.004618,.09763,.05861,-.06631,-.05069,-.01214,-.0811,.02989,-.01534,-.01627,.04428,-.01941,.001149,-.01281,-.02431)*h0_29+\n   mat4(.07379,-.05019,-.08614,.06766,-.0291,-.03089,.00301,.04841,.02499,-.00184,.02022,-.0811,-.02418,-.02574,-.06058,-.0628)*h0_30+\n   mat4(-.044,-.0465,-.04165,.05136,-.01182,-.03152,-.05866,.05522,-.0385,-.02481,-.007465,-.04332,-.06144,.01659,-.04258,.0009636)*h0_31+\n   vec4(.002169,-.02321,-.01183,.02194);\nout1=mat4(.003009,-.166,-.05923,.05122,-.01424,-.095,.05813,.01738,-.1662,-.01842,-.02418,.05894,.01258,.0604,-.03593,.03758)*h0_0+\n   mat4(-.1484,.0008728,-.05033,.03377,.06011,.1355,-.02419,.1301,.1286,.02026,.03797,.02745,.04419,-.2143,.06634,-.09911)*h0_1+\n   mat4(.05169,.08538,-.03734,-.06947,-.06166,.06878,-.01888,-.06315,-.03209,.04446,.09962,-.03692,-.0665,.00363,.214,-.06115)*h0_2+\n   mat4(.0618,-.1699,.1167,-.06272,.1542,-.01914,-.01416,.01546,-.144,.003344,-.122,.1327,.01353,.08061,.05237,-.0148)*h0_3+\n   mat4(.07539,.03933,.209,-.06078,.02823,.04377,-.03766,.006437,-.03063,-.01938,-.01326,.07422,-.008176,.156,-.03335,.008585)*h0_4+\n   mat4(.04757,.05166,-.02051,.02164,.06346,-.1449,.02545,.06995,-.0563,-.007082,-.06619,.01678,-.1005,.05097,.1102,.1407)*h0_5+\n   mat4(-.02664,.1219,.02195,-.01975,.04435,.08718,-.09459,-.002407,-.04518,-.1431,.1103,.0591,.05428,-.006449,-.01825,.004812)*h0_6+\n   mat4(-.03093,.03903,.02272,.01445,-.1414,-.0005552,-.05882,.1048,-.08709,-.09246,-.04083,.1577,.03341,.003532,.04201,.08444)*h0_7+\n   mat4(.02318,-.1125,-.0996,.005317,-.1423,-.0212,.03879,.007306,-.06762,-.086,-.0386,-.1366,.001876,.007106,.02083,-.05218)*h0_8+\n   mat4(-.1372,.07849,.06912,.06352,-.03853,.0177,-.0636,-.03351,.05553,.06995,.09814,.02853,.07944,.06672,-.07447,-.003185)*h0_9+\n   mat4(-.04674,.01818,.01988,-.02018,.07007,.05885,-.02912,.002606,.0861,.1873,.03787,.003108,-.09442,.04786,-.001684,.04194)*h0_10+\n   mat4(-.02494,.04954,.08496,.059,-.004684,.03758,-.01598,.1193,-.06955,-.02631,.05747,.03371,.1252,-.03258,.1072,-.08975)*h0_11+\n   mat4(-.02646,.04338,.179,.06591,-.1176,-.004378,.03792,.001524,-.01962,-.0274,-.02261,-.01792,-.02269,.04673,-.0696,-.109)*h0_12+\n   mat4(-.08231,-.1255,.118,.06168,-.1276,.1046,-.1042,.1297,-.04911,.008728,-.08837,-.06331,.05385,.006827,-.09486,-.1048)*h0_13+\n   mat4(.1443,.07257,-.01715,.003629,-.04226,-.05351,.05711,-.0653,.03298,.1252,-.02902,-.0282,-.104,.01315,.07426,.09157)*h0_14+\n   mat4(.04005,.04482,-.008549,-.04059,.02047,-.01997,.03866,-.04783,-.009669,.03816,-.005745,-.06402,.1012,-.03754,-.03649,-.03343)*h0_15+\n   mat4(.005092,-.1239,.06432,.02693,.04937,-.02328,-.02544,-.1156,.007083,-.07035,.04919,.004958,.06683,-.04939,-.06148,.02061)*h0_16+\n   mat4(-.1242,-.0003475,-.01839,.03045,-.0521,.003864,-.1088,.03605,.08905,.07806,-.05542,.01594,.1299,.004173,.02769,-.06124)*h0_17+\n   mat4(-.05041,.03401,.08836,-.05413,-.04711,.09046,-.02639,.0951,.1171,.1171,-.07839,-.1343,-.003108,-.009263,.07765,-.01709)*h0_18+\n   mat4(.02856,-.1519,.06624,-.07254,.03534,-.1177,.2133,.05195,.03732,.07585,-.07056,.1384,-.04527,.02423,.0389,.1111)*h0_19+\n   mat4(-.1119,-.07655,.05626,-.08159,.08083,.0752,.02642,-.09328,.06922,.01975,-.1484,.01261,.005241,-.002097,-.02,-.0207)*h0_20+\n   mat4(-.1056,.0417,.07243,.07023,.01171,.02059,-.03715,-.08276,.1111,-.005996,.001744,-.01466,-.03405,-.07264,-.01382,-.00219)*h0_21+\n   mat4(-.06571,.1275,.04842,-.06187,.09126,.01696,-.05058,.06949,-.005548,.05617,.01086,.1516,-.1152,.006821,-.006812,.001372)*h0_22+\n   mat4(.1412,-.08442,-.118,-.001134,.02275,.08353,-.007479,.0631,.01877,.05771,-.06547,-.01217,.05126,.0296,-.0504,-.01306)*h0_23+\n   mat4(-.05544,-.002507,-.04827,.007754,-.04268,-.02904,-.1286,-.05766,-.0867,-.008327,-.007654,.02997,.0382,-.004527,-.0775,.005193)*h0_24+\n   mat4(.02089,.135,-.1071,.02304,-.031,.04906,-.01282,.09423,-.007041,.02235,-.006189,.006768,-.1113,-.006621,.1114,-.03895)*h0_25+\n   mat4(-.07898,-.008258,.03938,-.01354,-.01402,-.04717,-.02496,-.01124,-.06785,-.08335,-.04628,.06094,-.07267,.1648,.04079,-.02838)*h0_26+\n   mat4(.02657,.07516,-.08241,-.058,-.1106,-.0658,-.07799,.04039,-.01538,.1836,-.003836,.03788,-.05951,.01431,-.1297,.132)*h0_27+\n   mat4(.1009,-.04645,.01726,-.0163,-.01838,.1456,.01411,.05424,.0742,-.08002,.1266,.07121,-.05933,.1474,-.05096,-.09984)*h0_28+\n   mat4(-.02019,.03064,-.0008772,-.1114,.07799,.007566,-.001771,-.0164,-.2651,-.1658,-.01463,.2384,-.0446,.1122,.06065,-.08146)*h0_29+\n   mat4(.02076,-.05822,.06027,.07697,-.0228,-.02353,.0008555,-.05949,.09044,.04857,-.1226,.05519,-.07097,.107,.002875,.08002)*h0_30+\n   mat4(.02791,-.07399,-.01736,-.0234,-.03959,.03641,.06222,-.01087,.1167,-.01189,.008941,-.005894,.05928,.08052,-.03666,-.02038)*h0_31+\n   vec4(.07725,-.003974,-.01282,-.0047);\nout2=mat4(-.01271,-.01664,.02997,.02954,-.01543,-.09854,-.0518,.1343,-.07406,-.09268,.08086,-.1528,-.07663,.0329,.1109,-.2326)*h0_0+\n   mat4(-.1094,-.08409,.08744,-.1699,.0772,-.02218,-.04076,-.07969,.01036,.08883,-.001565,.009172,-.05894,-.03494,.06632,-.02328)*h0_1+\n   mat4(-.03053,.07694,-.06462,.1336,-.1008,-.08597,.01782,.02693,-.002704,.04789,.1106,-.06214,.01615,-.01663,.00887,-.08512)*h0_2+\n   mat4(.08611,.04342,.05703,.1887,-.0965,.1478,-.01499,-.0001257,-.179,-.07049,.09169,-.1672,.04705,-.01325,.07866,.01552)*h0_3+\n   mat4(-.01903,-.1413,.04021,.0737,.005998,.07057,-.1096,.04956,-.08843,.04751,.167,.04893,.09465,.08862,-.006366,.06914)*h0_4+\n   mat4(.008133,.1923,.008088,-.02427,-.09662,.008306,-.01453,-.1782,.01277,-.08109,-.09263,-.03075,-.06224,-.07118,.03446,.04813)*h0_5+\n   mat4(-.01069,.043,.1582,-.0534,-.04755,-.01916,.1226,.174,-.03839,.03902,.06315,-.06304,-.0004704,-.05609,.05107,-.01326)*h0_6+\n   mat4(-.03034,.03615,.01517,-.05643,.00962,.05834,.02144,-.3844,.03146,.05785,-.01887,.01152,.1746,-.0572,-.003018,.1916)*h0_7+\n   mat4(.03116,.00311,-.06419,.04534,-.1113,.01149,-.03702,-.2304,-.02876,-.0555,-.001648,.08557,-.0167,.1065,-.04521,-.06619)*h0_8+\n   mat4(-.007991,-.1998,.1107,.1068,.01326,.1156,.0808,.009877,.08662,.2256,.005995,-.02321,.01995,-.09116,.01517,.1574)*h0_9+\n   mat4(-.08529,.04638,.1079,-.1403,-.04723,-.0289,.06413,.1267,.1021,.03824,-.05841,.1304,-.05846,-.04373,-.02371,.1911)*h0_10+\n   mat4(-.04976,-.0598,-.1202,.1407,-.1031,.1327,-.03111,.08411,-.06374,.0998,.1165,-.01823,-.04153,-.1429,-.07365,.04863)*h0_11+\n   mat4(-.1381,.1263,.2746,-.1231,-.05351,.08177,.004346,-.2574,.0132,.03044,.04641,.03219,-.01393,.063,.009714,.04168)*h0_12+\n   mat4(.01278,.1914,.1014,-.3089,-.1195,.08651,.1806,-.3004,.06208,-.004863,-.05818,.04896,.09911,.07409,-.1146,.02128)*h0_13+\n   mat4(-.08588,-.002289,-.138,.1546,.02247,-.005043,-.04385,-.09196,.04457,-.1112,-.09843,.2769,-.03674,-.03201,.1111,-.0342)*h0_14+\n   mat4(-.001,.04453,-.1786,.1834,.03852,.03089,-.1048,-.02133,.02544,-.09526,.0757,.188,-.08429,.07748,-.01904,.08852)*h0_15+\n   mat4(.03148,-.02598,-.03075,-.03967,.02632,.02322,.02697,.1049,-.008168,.04138,-.02263,.0298,.07546,-.1172,.007071,.06611)*h0_16+\n   mat4(-.1,-.00295,.04841,.009706,-.06885,.002259,.05807,.07827,.02452,-.02744,-.002215,.1664,.1742,.01248,.009012,.1805)*h0_17+\n   mat4(.03132,.04212,.1583,-.05047,-.1181,.08209,.02135,.0647,.2274,.09223,-.2001,.2335,.03043,.07095,-.007416,-.08666)*h0_18+\n   mat4(-.04466,-.007002,.01046,.05113,-.1429,.2165,.05611,-.05575,-.01211,.01688,-.03171,-.08489,-.08791,.08068,.06254,-.1067)*h0_19+\n   mat4(.01572,.09068,-.07215,.09338,-.01678,.2159,.01531,.04617,.009342,-.01361,-.1278,.06897,-.1888,.09366,.01007,-.1171)*h0_20+\n   mat4(-.03649,.136,.01352,.09157,-.0675,.1462,.08132,.171,-.02664,-.1054,-.07695,-.003943,.05696,-.05782,-.1601,.1672)*h0_21+\n   mat4(-.05843,-.02442,-.01213,.0436,.05649,-.09744,.08712,-.1116,-.09247,-.1237,.1137,-.04422,-.1047,.006177,-.01229,.1253)*h0_22+\n   mat4(-.01182,.1351,-.02716,.1199,.1592,-.0572,.1361,.2059,.07063,-.04083,-.07543,-.02603,.02085,.003586,-.07455,-.08505)*h0_23+\n   mat4(.009997,.04812,.07113,-.04788,.04496,-.006423,.0415,.231,-.0455,.1675,-.05712,.04657,-.05846,-.01258,-.0002771,-.1211)*h0_24+\n   mat4(.02118,.1044,.1498,-.08698,-.009465,.03903,.165,-.07374,.05726,-.09797,-.04272,.0959,-.04087,.0379,-.169,.1055)*h0_25+\n   mat4(-.09511,.1143,.02593,.005119,.1011,-.02825,-.01863,.1265,-.02684,-.1801,.118,-.1478,.01038,-.006522,.09655,-.07347)*h0_26+\n   mat4(.04826,.08332,.08151,.01868,-.1431,-.01884,.06338,-.2588,.02717,.0322,-.1145,.004996,-.1083,-.06748,.01347,-.1025)*h0_27+\n   mat4(.06798,.1129,-.04396,.2039,-.1116,.09129,.003822,.0754,-.0002109,.02842,-.1439,.2252,.1207,-.01372,-.05554,.0999)*h0_28+\n   mat4(-.06415,.005648,-.07729,.07331,-.04356,.04828,.04448,.0694,-.1554,.03455,.05809,-.4863,-.1068,-.05783,.1411,-.01785)*h0_29+\n   mat4(.03028,-.1078,.03014,.1115,-.1206,-.00413,.05992,-.1248,-.04719,-.02479,-.05156,.009849,.05096,-.03622,.0216,-.03389)*h0_30+\n   mat4(.02939,-.09636,-.0116,.2627,-.02866,.08804,-.008519,-.06708,.1083,-.02561,-.03979,.02961,-.08915,-.1759,.009885,-.1141)*h0_31+\n   vec4(.04707,.04229,.01341,.08005);\n}\n\nvec4 hash43(vec3 p)\n{\n\tvec4 p4 = fract(vec4(p.xyzx)  * vec4(.1031, .1030, .0973, .1099));\n    p4 += dot(p4, p4.wzxy+33.33);\n    return fract((p4.xxyz+p4.yzzw)*p4.zywx);\n}\n\nvec12 noise(ivec2 pos, float time)\n{\n    vec12 o;\n    o.a = NOISE*(2.0 * hash43(vec3(pos, time)) - 1.0);\n    o.b = NOISE*(2.0 * hash43(vec3(pos, time+4541.0)) - 1.0);\n    o.c = NOISE*(2.0 * hash43(vec3(pos, time+451.0)) - 1.0);\n    \n    return o;\n}\n\nvec12 ComputeUpdate(sampler2D ch, ivec2 pos, float time)\n{\n    vec12 s00 = LoadState(ch, pos + ivec2(-1, -1));\n    vec12 s01 = LoadState(ch, pos + ivec2( 0, -1));\n    vec12 s02 = LoadState(ch, pos + ivec2( 1, -1));\n    vec12 s10 = LoadState(ch, pos + ivec2(-1,  0));\n    vec12 s11 = LoadState(ch, pos + ivec2( 0,  0));\n    vec12 s12 = LoadState(ch, pos + ivec2( 1,  0));\n    vec12 s20 = LoadState(ch, pos + ivec2(-1,  1));\n    vec12 s21 = LoadState(ch, pos + ivec2( 0,  1));\n    vec12 s22 = LoadState(ch, pos + ivec2( 1,  1));\n\n    //active only if alpha channels of neighbors are active\n    float is_active = float((s00.a.w > 0.1) || (s01.a.w > 0.1) || (s02.a.w > 0.1) || \n                     (s10.a.w > 0.1) || (s11.a.w > 0.1) || (s12.a.w > 0.1) &&\n                     (s20.a.w > 0.1) || (s21.a.w > 0.1) || (s22.a.w > 0.1));\n    \n    vec12 n = noise(pos, time);\n       \n    //[[0, 0, 0], [0, 1, 0], [0, 0, 0]]\n    vec12 identity = s11;\n\n    //[[-1, -2, -1], [0, 0, 0], [1, 2, 1]]\n    vec12 sobelx_0 = sub(s02, s00);\n    vec12 sobelx_1 = sub(mul(s12, 2.0), mul(s10, 2.0));\n    vec12 sobelx_2 = sub(s22, s20);\n    vec12 sobelx = add(add(sobelx_0, sobelx_1), sobelx_2);\n\n    //[[-1, 0, 1], [-2, 0, 2], [-1, 0, 1]]\n    vec12 sobely_0 = sub(s20, s00);\n    vec12 sobely_1 = sub(mul(s21, 2.0), mul(s01, 2.0));\n    vec12 sobely_2 = sub(s22, s02);\n    vec12 sobely = add(add(sobely_0, sobely_1), sobely_2);\n    \n    //rotating the poor lizards\n    float s = sin(time*0.1);\n    float c = cos(time*0.1);\n    \n    vec12 sobelA = add(mul(sobelx, c),mul(sobely, s));\n    vec12 sobelB = add(mul(sobelx, -s),mul(sobely, c));\n\n    //[[1, 2, 1], [2, -12, 2], [1, 2, 1]]\n    vec12 laplacian_0 = mul(add(add(s10, s01), add(s12, s21)), 2.0);\n    vec12 laplacian_1 = mul(s11, -12.0);\n    vec12 laplacian_2 = add(add(s00, s22), add(s02, s20));\n    vec12 laplacian = add(add(laplacian_0, laplacian_1),laplacian_2);\n    \n    laplacian = mul(laplacian, 1.0/(SPACE_STEP*SPACE_STEP));\n    sobelA = mul(sobelA, 1.0/(SPACE_STEP));\n    sobelB = mul(sobelB, 1.0/(SPACE_STEP));\n\n    vec12 delta;\n    NCA(identity.a, identity.b, identity.c, \n        sobelB.a, sobelB.b, sobelB.c,\n        sobelA.a, sobelA.b, sobelA.c,\n        laplacian.a, laplacian.b, laplacian.c,\n        delta.a, delta.b, delta.c);\n        \n    float mask = (hash43(vec3(pos, time+45521.0)).x < FIRE_RATE) ? 1.0 : 0.0;\n    \n    delta = mul(delta,TIME_STEP*mask);\n    \n    return clamp12(mul(add(add(identity,delta),n), is_active), -1.0, 1.0);\n}",
                "description": "",
                "inputs": [],
                "name": "Common",
                "outputs": [],
                "type": "common"
            },
            {
                "code": "const int KEY_SPACE = 32;\nconst int KEY_LEFT  = 37;\nconst int KEY_UP    = 38;\nconst int KEY_RIGHT = 39;\nconst int KEY_DOWN  = 40;\n\nbool isKeyPressed(int KEY)\n{\n\treturn texelFetch( iChannel3, ivec2(KEY,2), 0 ).x > 0.5;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    fragCoord = floor(fragCoord);\n    ivec2 pos = ivec2(fragCoord);\n\n    vec12 state = ComputeUpdate(ch0, pos, 0.5*iTime+fragCoord.x*0.2);\n    \n    if(iFrame < 5) \n    {\n        state.a = vec4(0.0);\n        state.b = vec4(0.0);\n        state.c = vec4(0.0);\n        \n        if(pos.x % 60 == 25 && pos.y % 60 == 25)\n            state.a.w = 1.0;\n    }\n    \n    ivec2 mouse = ivec2(ZOOM*iMouse.xy);\n\n    if(isKeyPressed(KEY_SPACE))\n    {\n        if(iMouse.z > 0. && distance(fragCoord, vec2(mouse))<20.0)\n        {\n            state.a = vec4(0.0);\n            state.b = vec4(0.0);\n            state.c = vec4(0.0);\n        }\n    }\n    else\n    {\n        if(iMouse.z > 0. && (mouse.x == pos.x) && (mouse.y == pos.y))\n        {\n            state.a.w = 1.0;\n        }\n    }\n  \n    \n    fragColor = StoreState(state);\n}",
                "description": "",
                "inputs": [
                    {
                        "channel": 3,
                        "ctype": "keyboard",
                        "id": 33,
                        "published": 1,
                        "sampler": {
                            "filter": "linear",
                            "internal": "byte",
                            "srgb": "false",
                            "vflip": "true",
                            "wrap": "clamp"
                        },
                        "src": "/presets/tex00.jpg"
                    },
                    {
                        "channel": 0,
                        "ctype": "buffer",
                        "id": 257,
                        "published": 1,
                        "sampler": {
                            "filter": "linear",
                            "internal": "byte",
                            "srgb": "false",
                            "vflip": "true",
                            "wrap": "repeat"
                        },
                        "src": "/media/previz/buffer00.png"
                    }
                ],
                "name": "Buffer A",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 257
                    }
                ],
                "type": "buffer"
            },
            {
                "code": "void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    fragCoord = floor(fragCoord); \n    vec12 state = LoadState(ch0, ivec2(fragCoord));\n    \n    fragColor = 1.0 - state.a.w + state.a; //change state.a to .b/.c to see hidden channels\n}",
                "description": "",
                "inputs": [
                    {
                        "channel": 0,
                        "ctype": "buffer",
                        "id": 257,
                        "published": 1,
                        "sampler": {
                            "filter": "linear",
                            "internal": "byte",
                            "srgb": "false",
                            "vflip": "true",
                            "wrap": "clamp"
                        },
                        "src": "/media/previz/buffer00.png"
                    }
                ],
                "name": "Buffer B",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 258
                    }
                ],
                "type": "buffer"
            }
        ],
        "ver": "0.1"
    }
}