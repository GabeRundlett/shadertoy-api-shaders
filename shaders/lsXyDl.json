{
    "Shader": {
        "info": {
            "date": "1490289235",
            "description": "For the sake of math, curve gallery must be made :)\n\nVisualizing curves trace by multiple circles with origins obtained at time t_i, t_i-1, ... , t_trace_len_ (with step eps_)\nAlso interesting case of asymptote intersection.",
            "flags": 0,
            "hasliked": 0,
            "id": "lsXyDl",
            "likes": 6,
            "name": "[ Famous curves ] - #1",
            "published": 3,
            "tags": [
                "2d",
                "intersection",
                "trace",
                "trail",
                "parametric",
                "curvetrail",
                "curvetrace",
                "asymptote"
            ],
            "usePreview": 0,
            "username": "Yrai",
            "viewed": 768
        },
        "renderpass": [
            {
                "code": "\n// License Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License.\n\n#define res_            iResolution\n#define time_           iTime\n#define trace_len_      830\n#define eps_            0.01\n\nvec2  domain(vec2 uv, float s);\nvec2  parametric(float t);\nfloat trace(vec2 p, float t);\n\nvoid mainImage(out vec4 o, vec2 f) {\n\tvec2 p = domain(f, 8.);\n    \n    // t -> [0., 5.]\n    float t = abs(sin(time_)*5.);\n    // Distance from point in space to point at parametrized curve\n    // on time t_i and trace_len_ points backward in time giving \n    // a path of points to draw circles at (curves \"trace\")\n    float dtrace = smoothstep(0.08, 0., trace(p, t));\n    \n    // x - y diagonal line acting as many times intersected asimptote\n    float asymptote = smoothstep(0.05, 0., abs(p.x-p.y));\n    // Axis\n    float ax = min(\n        smoothstep(0., 0.02, abs(p.x)),\n        smoothstep(0., 0.02, abs(p.y))\n    );\n    // Origin\n    float org = smoothstep(0.09, 0., length(p)-.02);\n    \n    // Palette \n    vec3 orange = vec3(257., 111., 24.) / 255.;\n    vec3 gray   = vec3(.2);\n    vec3 white  = vec3(5.);\n    vec3 red    = vec3(1., 0., 0.);\n    \n    // Shading\n    vec3 c  = vec3(0.);\n    c = mix(c, gray, asymptote);\n    c = mix(c, orange, dtrace);\n    c = mix(c, gray, 1.-ax);\n    c = mix(c, red, org);\n    \n    o = vec4(sqrt(c), 1.);\n}\n\nvec2 parametric(float t) {\n\tfloat n = 22.;\n    return vec2(t + cos(n*t) / t, t + sin(n*t) / t);\n}\n\nfloat trace(vec2 p, float t) {\n    float d = 1e10;\n    float e = 0.;\n    for(int i = 0; i < trace_len_; i++) {\n    \td  = min(d, distance(p, parametric(t-e)));\n        e += eps_; \n    }\n    return d;\n}\n\nvec2 domain(vec2 uv, float s) {\n    return (2. * uv.xy - res_.xy) / res_.y * s;\n}\n\n",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}