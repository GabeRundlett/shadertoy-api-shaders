{
    "Shader": {
        "info": {
            "date": "1662324471",
            "description": "An experimental audio visualizer",
            "flags": 64,
            "hasliked": 0,
            "id": "slycD3",
            "likes": 1,
            "name": "Audio Visualizer Experiments",
            "published": 3,
            "tags": [
                "audio",
                "visualizer"
            ],
            "usePreview": 0,
            "username": "01000001",
            "viewed": 160
        },
        "renderpass": [
            {
                "code": "#define speed 5.0\n\nconst float barAmount = 0.2;//relative thickness of the bars\nconst float subdiv = 80.0;//number of bars.  \n//Try setting subdiv to 800 at barAmount to 1.  Very high resolution information is revealed\n//Bar amount 0.5 and subDiv iResolution.x/2. is cool too.\n\n// frequency sweep https://soundcloud.com/audiomix/20hz-20khz-frequency-sweep\n//set bar amount to 1.0 and subDiv to width of display\n\nconst float height = 0.5;//Maxium height of the bars relative to the screeen.\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\n    //-------------------------\n    //-- V I S U A L I Z E R --\n    //-------------------------\n    \n    vec2 uv = fragCoord / iResolution.xy;\n\n    vec4 col = texture(iChannel0, vec2(floor(uv.x*subdiv)/subdiv, 0));\n    vec4 icol = texture(iChannel0, vec2(floor((1.0-uv.x)*subdiv)/subdiv, 0));\n\n\n\n    float sound = col.x * height;\n    float isound = log(icol.x * height + 1.);\n    \n    fragColor = sound > uv.y || isound > 1.0-uv.y? vec4(1):vec4(0);\n    \n    float barThickness = (1.0/subdiv)*barAmount;\n    \n    fragColor = mod(uv.x, 1.0/subdiv) > barThickness?vec4(0):fragColor;//gaps\n    \n    fragColor.xyz *= mix(vec3(0.0, 1.0, 1.0), vec3(0.6, 0.0, 0.5), abs(uv.y - 0.5)*2.0);\n    \n    \n    \n    \n    \n    \n    \n    \n    \n    //-------------------\n    //-- A R T W O R K --\n    //-------------------\n    \n    float spaceScale = 1.0 - 0.2*texture(iChannel0, vec2(0)).x;\n    uv = (fragCoord - 0.5*iResolution.xy)*spaceScale/iResolution.y*2.0;\n\n    if (length(uv) < 0.5)\n    {\n        \n        /*\n        vec3 col = vec3(1.0);\n        \n        float modSize = 0.05;\n        \n        float m = mod(length(uv), modSize);\n        \n        if (m+sin(uv.x*50.0)*0.01 < 0.02) col = vec3(0);\n        \n        \n        col *= ((m/modSize) + 0.5) / 1.7;\n        /*/\n        \n        vec3 col = vec3(0);\n        float t = .2;\n        col = (uv.x < uv.y && uv.x + t > uv.y && uv.y > -t && uv.y < t?vec3(1):col);\n        col = (uv.x > 0. && uv.x < t*0.8 && uv.y < t && uv.y > -t?vec3(1):col);\n        col = uv.x > t*0.8?vec3(0):col;\n        \n        col *= texture(iChannel1, uv*0.2).x;\n        \n        //*/\n        \n        fragColor = mix(fragColor, vec4(0.8), col.x);\n    }\n}\n\n",
                "description": "",
                "inputs": [
                    {
                        "channel": 1,
                        "ctype": "texture",
                        "id": 6,
                        "published": 1,
                        "sampler": {
                            "filter": "mipmap",
                            "internal": "byte",
                            "srgb": "false",
                            "vflip": "true",
                            "wrap": "repeat"
                        },
                        "src": "/media/a/1f7dca9c22f324751f2a5a59c9b181dfe3b5564a04b724c657732d0bf09c99db.jpg"
                    },
                    {
                        "channel": 0,
                        "ctype": "musicstream",
                        "id": 33082,
                        "published": 0,
                        "sampler": {
                            "filter": "linear",
                            "internal": "byte",
                            "srgb": "false",
                            "vflip": "true",
                            "wrap": "clamp"
                        },
                        "src": "https://soundcloud.com/virtual-riot/virtual-riot-did-i-mention-i"
                    }
                ],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}