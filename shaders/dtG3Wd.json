{
    "Shader": {
        "info": {
            "date": "1685088720",
            "description": "WIP\ninspiration reference: https://twitter.com/KaufmanRoni/status/1660667547736219651\nNot sure how I should get the right sequence of transforms along time.",
            "flags": 0,
            "hasliked": 0,
            "id": "dtG3Wd",
            "likes": 21,
            "name": "R.K. Infinite Truchet",
            "published": 3,
            "tags": [
                "2d",
                "short",
                "reproduction"
            ],
            "usePreview": 0,
            "username": "FabriceNeyret2",
            "viewed": 283
        },
        "renderpass": [
            {
                "code": "#define S(v) smoothstep( 4./R.y, -4./R.y, abs(v)-.025)  // AA draw thing stroke\n#define H(p) fract(sin(dot(p+1.7*floor(t/2.), vec2(12.9898, 78.233))) * 43758.5453)\n\nvoid mainImage( out vec4 O, vec2 u )\n{\n    vec2  R = iResolution.xy,\n          U = 2.* ( u+u - R ) / R.y,\n          I = floor(U+.5), Ic = mod(floor(2.*U),2.), // tile & subtile Id\n          F = fract(U)-.5,\n          A = abs(F),                            // all var#2 = ring continuing on neightbor subtile\n          F2 = F; int j,i = A.x>A.y ? 0: 1 ; F2[i] -= sign(F[i]);\n    float l = (length(F )-.05)*.78,  n = mod(l ,.1) - .05, N=-1., // ring Id\n         l2 = (length(F2)-.05)*.78, n2 = mod(l2,.1) - .05, \n          a = atan(F.y/F.x)/3.14,   a2 = atan(F2.y/F2.x)/3.14, b=a,b2=a2,\n          t = iTime/3., T = fract(int(t)%2<1?t:-t), T0 = T-1.;//-9 -T T-1 sequences over time\n          i = int(Ic.x+Ic.y) % 2, j=i;           // subtile mode\n  //int s = int(t)%4;                            // sequences over time\n  //if (s%2>0) T = 1.-T,  T0=T-1.;\n  //if (s<2) T0=T-1.; else T0 = 1.-T;\n    O *= 0.;\n    if ( l < 0. ) return;\n  //if ( mod(I.x+I.y  ,2.) < 1. ) O.b++;         // debug\n  //if ( mod(Ic.x+Ic.y,2.) < 1. ) O.g+=.3;       // debug\n    \n    if ( l < .2 )  O += S(n),N=l;                // ring 1, 2 ( center )\n  \n    if ( H(I+.3)<.5 )                            // ring 3, close\n             { if ( l>.2 && l < .3 && b  > T0 && b  < T )  O.r += S(n ), N=l; }\n    else {                                       // ring 3, connected\n        if ( H(I)<.5 ) b = -a, b2=-a2, j=1-i;\n        if ( j<1 )                          \n             { if ( l > .2 && l < .3 && b > T0 && b < T )  O.r += S(n ), N=l; \n               if ( l > .4           && b > T0 && b < T )  O.r += S(n ), N=l;  // ring 5 = 3 from neighbor\n             }\n        else   if ( l2> .4 && l2< .5 && b2> T0 && b2< T )  O.g += S(n2), N=l2; // ring 5 = 3 from neighbor\n    }\n    if (length(O)==0.) {                         // ring 4\n     // if ( H(I+.0)<.5 ) b = -a, b2=-a2, j=1-i; else b=a,b2=a2, j=i;\n        if ( j<1 ) \n             { if ( l > .3 && l < .4 && b > T0 && b < T )  O.r += S(n ), N=l; }\n        else   if ( l2< .4           && b2> T0 && b2< T )  O.g += S(n2), N=l2;\n    }    \n                                                // color scheme. comment for debug\n    O = max(O.r,O.g) * ( int(floor(N/.1))%2 > 0 ? vec4(1,.5,0,0) : vec4(1) );\n}\n",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}