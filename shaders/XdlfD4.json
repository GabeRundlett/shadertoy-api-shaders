{
    "Shader": {
        "info": {
            "date": "1496270429",
            "description": "Not entirely accurate, but this was going in my head the entire day.",
            "flags": 0,
            "hasliked": 0,
            "id": "XdlfD4",
            "likes": 5,
            "name": "New Ubisoft Swirl",
            "published": 3,
            "tags": [
                "daily"
            ],
            "usePreview": 0,
            "username": "Koltes",
            "viewed": 717
        },
        "renderpass": [
            {
                "code": "#define TAU 6.28318531\n#define PURPLE vec3(.6,.2,1.)\n\nfloat t;\nvec3 c;\n\nvoid blend(vec3 s, float a) {\n    c=s*a+(1.-a)*c;\n}\n\nvec3 swirl(vec2 uv, float angleOffset, float paraCenter, float paraFactor, float paraSize, float tFactor) {\n    float a=fract(atan(uv.y,uv.x)/TAU+angleOffset),\n        l=length(uv)-a,\n        s=floor(l)+a,\n        rmax=paraSize-pow(s-paraCenter,2.)*paraFactor-max(0.,tFactor-t*2.-s),\n        r=fract(l)-.5,\n        rr=r/rmax*.5+.5,\n        w=step(0.,rmax)-smoothstep(rmax-.02,rmax,abs(r))*step(0.,rmax),\n        nr=1.-smoothstep(.08,.1,abs(abs(r)-rmax));\n    return vec3(rr,w,nr);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    uv-=.5;\n    uv.x*=iResolution.x/iResolution.y;\n    uv*=5.;\n    t=mod(iTime,5.);\n    float l=length(uv),\n        cm=smoothstep(2.,1.,t);\n    vec3 w=vec3(smoothstep(4.5,4.,t));\n    \n    c=vec3(0.);\n    vec3 s1=swirl(uv,.15,1.,1.7,.4,2.5);\n    blend(PURPLE*(1.-s1.x*s1.x)*cm,s1.y);\n    blend(w,s1.z);\n\n    vec3 s2=swirl(uv-vec2(-.0,.0),.55,.9,2.5,.4,3.);\n    blend(PURPLE*(1.-s2.x*s2.x)*cm,s2.y);\n\n    blend(w,s2.z);\n    \n    c=sqrt(c);\n\tfragColor = vec4(c,1.);\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}