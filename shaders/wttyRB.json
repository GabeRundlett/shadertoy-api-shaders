{
    "Shader": {
        "info": {
            "date": "1609409008",
            "description": "not a very good glitch shader just trying to figure out a few things and understand what i'm doin.",
            "flags": 2,
            "hasliked": 0,
            "id": "wttyRB",
            "likes": 4,
            "name": "camera broke",
            "published": 3,
            "tags": [
                "glitch",
                "webcam",
                "periodic"
            ],
            "usePreview": 0,
            "username": "jackwitherell",
            "viewed": 589
        },
        "renderpass": [
            {
                "code": "vec2 shift_uv(vec2 uv, vec2 range, float amount, bool range_horizontal, bool direction_horizontal){\n    vec2 diff;\n    if(range_horizontal && uv.y>range.x && uv.y<range.y){\n        if(direction_horizontal){\n            diff = vec2(amount, 0.0);\n        }\n        else{\n            diff = vec2(0.0, amount);\n        }\n    }\n    else if((!range_horizontal) && uv.x>range.x && uv.x<range.y){\n        if(direction_horizontal){\n            diff = vec2(amount, 0.0);\n        }\n        else{\n            diff = vec2(0.0, amount);\n        }\n    }\n    else{\n        diff = vec2(0.0, 0.0);\n    }\n    return diff;\n}\n\nbool randcheck(float a, float b, float c, float cap){\n    return mod(iDate.w, a)+mod(iDate.w, b)+mod(iDate.w, c)<cap;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ){\n    vec2 uv = fragCoord/iResolution.xy;\n    vec2 ruv = uv;\n    vec3 col;\n    \n    if(mod(iTime,10.0)<0.3){ // 0.3s for every 10s blocker\n        \n        // some 'random' shifts\n        if(randcheck(1.7, 0.3, 2.6, 1.4)){\n            ruv += shift_uv(uv, vec2(0.5, 1.0), -mod(iTime,1800.0)*21.0, true, true);\n        }\n        if(randcheck(0.2, 0.7, 1.6, 1.0)){\n            ruv += shift_uv(uv, vec2(0.0, 0.3), mod(iTime,1800.0)*10.0, true, true);\n        }\n        if(randcheck(0.3, 0.1, 0.6, 0.5)){\n            ruv += shift_uv(uv, vec2(mod(iTime,1.0)-0.3, mod(iTime,1.0)), mod(iTime,1800.0)*10.0, false, true);\n        }\n        \n        // drop vertically occasionally\n        if(randcheck(0.2,0.3,0.5,0.3)){\n            ruv += shift_uv(uv, vec2(0.0,1.0), 0.3, true, false);\n        }\n        \n        col = texture(iChannel0, mod(ruv.xy,1.0)).rgb;\n        \n        // lighter zone\n        if(randcheck(0.5, 0.7, 0.9, 1.5)){\n            if(mod(uv.x+iTime,1.0)>0.3&&mod(uv.x+iTime,1.0)<0.5){\n                col+=0.5;\n            }\n        }\n        \n        // invert occasionally\n        if(randcheck(1.3, 2.1, 1.1, 1.8)){\n            col = 1.0-col;\n        }\n        \n    }\n    else{\n        col = texture(iChannel0, uv.xy).rgb;\n    }\n\n    // Output to screen\n    fragColor = vec4(col,1.0);\n}",
                "description": "",
                "inputs": [
                    {
                        "channel": 0,
                        "ctype": "webcam",
                        "id": 31,
                        "published": 1,
                        "sampler": {
                            "filter": "linear",
                            "internal": "byte",
                            "srgb": "false",
                            "vflip": "true",
                            "wrap": "clamp"
                        },
                        "src": "/presets/webcam.png"
                    }
                ],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}