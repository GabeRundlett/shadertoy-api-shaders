{
    "Shader": {
        "info": {
            "date": "1643203376",
            "description": "cat shader",
            "flags": 0,
            "hasliked": 0,
            "id": "7d2yRD",
            "likes": 7,
            "name": "CATS with basic shapes",
            "published": 3,
            "tags": [
                "2d"
            ],
            "usePreview": 0,
            "username": "ErinZ",
            "viewed": 355
        },
        "renderpass": [
            {
                "code": "#define S(v,r) smoothstep( r, r+ 3./iResolution.y, v )\nfloat logo(vec2 uv);\n\n//圆心 半径 画圆\nfloat circle( vec2 uv, vec2 p, float r, float blur){\n    p.x *=iResolution.x/iResolution.y;\n    uv.x *= iResolution.x/iResolution.y;//校正屏幕比例\n    float d = length(uv-p);\n    float c = smoothstep(r,r-blur,d);//AA\n    return c;\n}\n//2点 线段\nfloat segment(vec2 uv, vec2 p1, vec2 p2, float width, float blur){\nwidth/=2.;blur/=2.;\nvec2 pa = uv-p1,ba = p2-p1;\npa.x*= iResolution.x/iResolution.y;\nba.x*= iResolution.x/iResolution.y;\nfloat h = clamp(dot(pa,ba)/dot(ba,ba),0.,1.);\nfloat d = length(pa-ba*h);\nreturn smoothstep(width+blur,width-blur,d);\n}\n//圆弧 a1a2为弧度制 a1<a2 a1,a2∈[0,6.28]\nfloat arc(vec2 uv, vec2 o,float r,float a1,float a2, float width, float blur){\nuv -=o;\nwidth/=2.;blur/=2.;\nuv.x*= iResolution.x/iResolution.y;\nfloat ap =(uv.x>0.)?acos(uv.y/length(uv)):acos(-uv.y/length(uv))+3.14;//求夹角\nvec2 p1= vec2(sin(a1)*r,cos(a1)*r);\nvec2 p2= vec2(sin(a2)*r,cos(a2)*r);\nfloat d =(ap>a1&&ap<a2)?(abs(length(uv)-r)):\n                        min(length(uv-p1),length(uv-p2));\nreturn smoothstep(width+blur,width-blur,d);\n}\n//等边三角形\nfloat triangle(vec2 uv,vec2 o,float a,float blur){\nuv -= o;\nuv.x = abs(uv.x*iResolution.x/iResolution.y)-a;\nconst float k = sqrt(3.);\nuv.y +=1./k*a;\nif(uv.x+k*uv.y >0.) uv=vec2(uv.x-k*uv.y,-k*uv.x-uv.y)/2.;\nuv.x -= clamp( uv.x, -2.0*a, 0.0 );\nfloat d = -length(uv)*sign(uv.y);\nreturn smoothstep(0.+blur,0.,d);\n}\n//长方形 左上右下点\nfloat rectangle(vec2 uv,vec2 p1,vec2 p2,float blur){\nblur /= 2.;\nuv.x *=iResolution.x/iResolution.y;\np1.x *=iResolution.x/iResolution.y;\np2.x *=iResolution.x/iResolution.y;\nreturn smoothstep(p1.x-blur,p1.x+blur,uv.x)*\n       smoothstep(p2.x+blur,p2.x-blur,uv.x)*\n       smoothstep(p1.y+blur,p1.y-blur,uv.y)*\n       smoothstep(p2.y-blur,p2.y+blur,uv.y);\n}\n//绕任意点旋转\nvec2 rotate(vec2 uv, vec2 p, float a){\nuv-=p;\nuv.x *= iResolution.x/iResolution.y;\nvec2 q;\nq.x = cos(a)*uv.x + sin(a)*uv.y;\nq.y = -sin(a)*uv.x + cos(a)*uv.y; \nq.x /=iResolution.x/iResolution.y;\nq+=p;\nreturn q;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n    uv.x -= 0.1;\n    vec2 uvl = (2.*fragCoord-iResolution.xy)/iResolution.y;\n    if(fract(iTime/2.)<0.33){\n    //color theme 1\n    //BackGround\n    vec3 c1 = vec3(1.,0.4,0.);\n    vec3 c2 = vec3(1.,0.,0.4);\n    vec3 col = mix(c2,c1,uv.y);\n    \n    //Colormask\n    float bmask = circle(uv,vec2(0.4,0.6),0.13,0.005);//head\n    bmask += circle(uv,vec2(0.5,0.45),0.21,0.005);//body\n    bmask *= smoothstep(0.28,0.285,uv.y); //butt\n\n    float wmask = segment(uv, vec2(.401,.60), vec2(.41,.56), 0.04, 0.005);//nose\n    wmask += circle(uv,vec2(.405,.53),0.025,0.005);//mouth\n    wmask += circle(uv,vec2(.425,.545),0.025,0.005);//mouth\n    wmask += rectangle(uv,vec2(.365,.56),vec2(.385,.55),0.005);//righteye\n    wmask += rectangle(rotate(uv,vec2(.435,.598),-2.4),vec2(.425,.603),vec2(.445,.593),0.005);//lefteye\n    bmask += triangle(rotate(uv,vec2(.35,.69),2.7),vec2(.35,.69),0.05,0.005);//rightear\n    bmask += triangle(rotate(uv,vec2(.43,.715),-.15),vec2(.43,.715),0.05,0.005);//leftear\n    \n    wmask += circle(uv,vec2(.42,.3),0.03,0.005);//foot\n    bmask += segment(uv, vec2(.595,.45), vec2(.595,.2), 0.08, 0.005);//tail1\n    bmask += arc(uv, vec2(.53,.2),.115,1.57,4.2,0.08, 0.005);//tail2\n    wmask += arc(uv, vec2(.53,.2),.115,4.2,4.71,0.08, 0.005);//tail3\n    \n    bmask = clamp(bmask,0.,1.);\n    wmask = clamp(wmask,0.,1.);\n    col = mix(col,vec3(0.),bmask);\n    col = mix(col,vec3(1.),wmask);\n    fragColor = vec4(col+logo(uvl),1.0);\n    }\n    else if(fract(iTime/2.)<0.67){\n    //color theme 2\n    //BackGround\n    vec3 c1 = vec3(.15,.15,.75);\n    vec3 c2 = vec3(.1,.2,1);\n    vec3 col = mix(c1,c2,uv.y);\n    \n    //Colormask\n    float bmask = circle(uv,vec2(0.4,0.6),0.13,0.005);//head\n    float rmask = triangle(rotate(uv,vec2(.35,.69),2.7),vec2(.35,.69),0.05,0.005);//rightear\n    rmask += triangle(rotate(uv,vec2(.43,.715),-.15),vec2(.43,.715),0.05,0.005);//leftear\n    rmask = clamp(rmask-circle(uv,vec2(0.4,0.6),0.13,0.04),0.,1.);\n    rmask += circle(uv,vec2(0.402,0.58),0.11,0.09)*0.8;\n    bmask += circle(uv,vec2(0.5,0.45),0.21,0.005);//body\n    bmask *= smoothstep(0.28,0.285,uv.y); //butt\n\n    rmask += segment(uv, vec2(.401,.60), vec2(.41,.56), 0.04, 0.005);//nose\n    rmask += circle(uv,vec2(.405,.53),0.025,0.005);//mouth\n    rmask += circle(uv,vec2(.425,.545),0.025,0.005);//mouth\n    float wmask = rectangle(uv,vec2(.365,.56),vec2(.385,.55),0.005);//righteye\n    wmask += rectangle(rotate(uv,vec2(.435,.598),-2.4),vec2(.425,.603),vec2(.445,.593),0.005);//lefteye\n\n    \n    \n    \n    rmask += circle(uv,vec2(.42,.3),0.03,0.005);//foot\n    bmask += segment(uv, vec2(.595,.45), vec2(.595,.2), 0.08, 0.005);//tail1\n    bmask += arc(uv, vec2(.53,.2),.115,1.57,2.,0.08, 0.005);//tail2\n    float a = circle(uv,vec2(.6,.2),0.15,0.08);\n    a *= clamp(bmask,0.,1.);\n    rmask +=a;\n    rmask += arc(uv, vec2(.53,.2),.115,1.57,4.71,0.08, 0.005);//tail3\n    \n    bmask = clamp(bmask,0.,1.);\n    wmask = clamp(wmask,0.,1.);\n    rmask = clamp(rmask,0.,1.);\n    col = mix(col,vec3(.93,.83,.7),bmask);\n    //col = mix(col,vec3(.65,.5,.4),rmask);\n    col = mix(col,vec3(.25,.15,.15),rmask);\n    col = mix(col,vec3(0.),wmask);\n    fragColor = vec4(col+logo(uvl),1.0);\n    }\n    else{\n    //color theme 3\n    //BackGround\n    vec3 c1 = vec3(1.,0.7,0.2);\n    vec3 c2 = vec3(.8,1,0.4);\n    vec3 col = mix(c2,c1,uv.y);\n    \n    //Colormask\n    float omask = circle(uv,vec2(0.4,0.6),0.13,0.005);//head\n    omask += circle(uv,vec2(0.5,0.45),0.21,0.005);//body\n    omask *= smoothstep(0.28,0.285,uv.y); //butt\n\n    float wmask = segment(uv, vec2(.401,.60), vec2(.41,.56), 0.04, 0.005);//nose\n    wmask += circle(uv,vec2(.405,.53),0.025,0.005);//mouth\n    wmask += circle(uv,vec2(.425,.545),0.025,0.005);//mouth\n    float bmask = triangle(rotate(uv,vec2(.35,.69),2.7),vec2(.35,.69),0.05,0.005);//rightear\n    bmask += triangle(rotate(uv,vec2(.43,.715),-.15),vec2(.43,.715),0.05,0.005);//leftear\n    wmask += triangle(rotate(uv,vec2(.35,.69),2.7),vec2(.34,.70),0.02,0.005);//rightear\n    wmask += triangle(rotate(uv,vec2(.43,.715),-.15),vec2(.43,.695),0.02,0.005);//leftear\n    bmask += rectangle(uv,vec2(.365,.56),vec2(.385,.55),0.005);//righteye\n    bmask += rectangle(rotate(uv,vec2(.435,.598),-2.4),vec2(.425,.603),vec2(.445,.593),0.005);//lefteye\n    \n    bmask += segment(uv, vec2(.38,.64), vec2(.41,.65), 0.015, 0.005);//wang\n    bmask += segment(uv, vec2(.374,.658), vec2(.41,.67), 0.015, 0.005);\n    bmask += segment(uv, vec2(.379,.620), vec2(.415,.632), 0.015, 0.005);\n    bmask += segment(uv, vec2(.392,.663), vec2(.397,.626), 0.015, 0.005);\n    \n    wmask += circle(uv,vec2(.42,.3),0.03,0.005);//foot\n    omask += segment(uv, vec2(.595,.45), vec2(.595,.2), 0.08, 0.005);//tail1\n    omask += arc(uv, vec2(.53,.2),.115,1.57,4.2,0.08, 0.005);//tail2\n    bmask += arc(uv, vec2(.53,.2),.115,4.2,4.71,0.08, 0.005);//tail3\n    \n    float str = arc(uv, vec2(0.4,0.6),.15,1.1,2.2,0.04, 0.005);//stripes\n    str += arc(rotate(uv,vec2(.4,.3),-0.25), vec2(0.4,0.6),.15,.8,2.1,0.04, 0.005);\n    str += arc(rotate(uv,vec2(.4,.3),-0.4), vec2(0.4,0.6),.18,.8,1.8,0.04, 0.005);\n    for(float i=0.;i<5.;i++){\n    str += arc(rotate(uv,vec2(.53,.2),i*(0.4)+1.), vec2(.467,.23),.05,1.8,4.4,0.02, 0.005);}//tail stripes\n    str*=omask;\n    bmask += str;\n    \n    \n    omask = clamp(omask,0.,1.);\n    wmask = clamp(wmask,0.,1.);\n    bmask = clamp(bmask,0.,1.);\n    col = mix(col,vec3(1.,.5,0.),omask);\n    col = mix(col,vec3(.3,.1,0.),bmask);\n    col = mix(col,vec3(1.),wmask);\n\n    fragColor = vec4(col+logo(uvl),1.0);\n    }\n}\nfloat logo(vec2 uv){\nfloat n = 0.;\nn += S(.05,abs(length(uv-vec2(-1.23,0))-.12));\nn *= 1.-S(-1.25,uv.x);\nn += S(.17,abs(uv.y))*S(.05,abs(uv.x+1.29));\nn += S(.05,abs(length(uv-vec2(-1.5,0))-.12));\nn += S(.05,abs(length(uv-vec2(-0.9,0))-.12));\nn += (1.+S(-.6,uv.x)-S(.05,uv.y))*S(.05,abs(length(uv-vec2(-0.6,.03))-.09));\nn += (1.-S(-.6,uv.x)+S(-.05,uv.y))*S(.05,abs(length(uv-vec2(-0.6,-.04))-.09));\nreturn n;\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}