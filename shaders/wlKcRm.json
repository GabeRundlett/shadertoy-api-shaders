{
    "Shader": {
        "info": {
            "date": "1610733826",
            "description": "Flying spheres. But wait... Its not really 3D is it?",
            "flags": 0,
            "hasliked": 0,
            "id": "wlKcRm",
            "likes": 3,
            "name": "Faking 3D - Spheres",
            "published": 3,
            "tags": [
                "spheres",
                "25d",
                "fake3d"
            ],
            "usePreview": 0,
            "username": "oneshade",
            "viewed": 165
        },
        "renderpass": [
            {
                "code": "#define BIG_NUMBER 1000000.0\n#define FOCAL_LENGTH 0.25\n\nvec3 Hash13(in float x) {\n   vec3 p = fract(x * vec3(0.1031, 0.103, 0.0973));\n   p += dot(p, p.yzx + 33.33);\n   return fract((p.xxy + p.yzz) * p.zyx); \n}\n\nfloat Hash11(in float x) {\n    x = fract(x * 0.1031);\n    x *= x + 33.33;\n    x *= x + x;\n    return fract(x);\n}\n\nfloat fakeSphere(in vec2 p, in vec3 o, in float r) {\n    float persp = FOCAL_LENGTH / o.z;\n    o.xy *= persp;\n    r *= persp;\n\n    p -= o.xy;\n    float d = length(p);\n    if (d < r) {\n        return -cos(asin(d / r)) * r + o.z;\n    }\n\n    return BIG_NUMBER;\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    vec2 uv = (fragCoord - 0.5 * iResolution.xy) / iResolution.y;\n    fragColor = vec4(0.0, 0.0, 0.0, 1.0);\n\n    float depth = BIG_NUMBER;\n    for (float seed=318.547; seed < 338.547; seed++) {\n        vec3 o1 = Hash13(seed + floor(iTime)) * vec3(2.0, 2.0, 1.0) - vec3(1.0, 1.0, 0.0);\n        vec3 o2 = Hash13(seed + ceil(iTime)) * vec3(2.0, 2.0, 1.0) - vec3(1.0, 1.0, 0.0);\n        vec3 o = mix(o1, o2, fract(iTime));\n        float r = 0.1 + 0.1 * Hash11(seed);\n        depth = min(depth, fakeSphere(uv, o, r));\n    }\n\n    fragColor += 0.75 - depth;\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}