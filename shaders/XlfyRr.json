{
    "Shader": {
        "info": {
            "date": "1503327314",
            "description": "Text display routine to make life easier when writing text. \nFeel free to give me some performance improvement tips or other helpful feedback. ENJOY!",
            "flags": 0,
            "hasliked": 0,
            "id": "XlfyRr",
            "likes": 11,
            "name": "Text Display Helper",
            "published": 3,
            "tags": [
                "2d",
                "transparency",
                "text",
                "font",
                "scale",
                "print",
                "align",
                "texturedfont"
            ],
            "usePreview": 1,
            "username": "ingagard",
            "viewed": 1199
        },
        "renderpass": [
            {
                "code": "int _= 32; \nint _0 = 48;\nint _1 = 49;\nint\t_2 = 50;\nint\t_3 = 51;\nint\t_4 = 52;\nint _5 = 53;\nint _6 = 54;\nint _7 = 55;\nint _8 = 56;\nint _9 = 57;\nint _A = 65;\nint _B = 66;\nint _C = 67;\nint _D = 68;\nint _E = 69;\nint _F = 70;\nint _G = 71;\nint _H = 72;\nint _I = 73;\nint _J = 74;\nint _K = 75;\nint _L = 76;\nint _M = 77;\nint _N = 78;\nint _O = 79;\nint _P = 80;\nint _Q = 81;\nint _R = 82;\nint _S = 83;\nint _T = 84;\nint _U = 85;\nint _V = 65;\nint _W = 66;\nint _X = 67;\nint _Y = 68;\nint _Z = 69;\nint _a = 97;\nint _b = 98;\nint _c = 99;\nint _d = 100;\nint _e = 101;\nint _f = 102;\nint _g = 103;\nint _h = 104;\nint _i = 105;\nint _j = 106;\nint _k = 107;\nint _l = 108;\nint _m = 109;\nint _n = 110;\nint _o = 111;\nint _p = 112;\nint _q = 113;\nint _r = 114;\nint _s = 115;\nint _t = 116;\nint _u = 117;\nint _v = 118;\nint _w = 119;\nint _x = 120;\nint _y = 121;\nint _z = 122;\n\n/*\nascii table:\nhttp://www.theasciicode.com.ar/american-standard-code-information-interchange/ascii-codes-table.png\n*/\n\n\n\n\n// char size 64*64   16 char per row\nvoid WriteChar(vec2 screenCoord, vec2 pos, float charValue, float fontSize, vec4 fontColor, inout vec4 pixel)\n{\n  if (screenCoord.x >=pos.x && screenCoord.x <=pos.x+fontSize && screenCoord.y >=pos.y && screenCoord.y <=pos.y+fontSize)\n  {\n      // calculate texture grab position of character\n      float col = mod(charValue,16.0);\n      vec2 charPos = vec2(col,(charValue-col)/16.0);\n      charPos *= 64.0;\n      \n      vec2 dist = screenCoord-pos;\n\n      vec2 steps = (vec2(1.0,-1.0) / iChannelResolution[0].xy);\n      vec2 startOffset = charPos *steps;\n      \n      // scale texture uv step by fontSize\n      steps*=(1.0/(fontSize/64.0));\n      dist *=steps;\n      vec4 c = texture(iChannel0,startOffset+dist);\n\n      // Check if texture is a part of the character\n      if(c.r>0.6)\n      {\n        pixel=mix(pixel,fontColor, fontColor.w);\n      }      \n  }\n}\n\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float frame = radians(iTime)*120.0;\n    float cosValue = cos(frame);\n    float sinValue = sin(frame);\n    \n    vec2 screenCoord = vec2(fragCoord.x, iResolution.y-fragCoord.y);\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n\tvec4 color; \n        \n    // backdrop effect\n    if (mod(screenCoord.x,50.0)+mod(screenCoord.y,50.0) < 50.0)\n    {\n         color = vec4(0.15);\n    }\n    else\n    {\n         color = vec4(0);\n    }\n        \n    // SET TEXT VARIABLES ********************\n    vec2 textPos = vec2(-1150.0+(mod(frame*200.0,2000.0)),40.0+cos(frame+uv.x*5.0)*25.0);\n    float fontSize = 112.0;\n    float charSpacing = fontSize*0.5;\n    vec4 fontColor = vec4(uv.x,uv.x*4.0, 1.0-uv.x,1.0);\n\n    // write text by storing as an array of ascii values (table above)\n    // A SMALL TEST OF\n    int text[15] = int[](_A,_,_s,_m,_a,_l,_l,_,_T,_E,_S,_T,_,_O,_F);\n    \n    for(int i=0; i<15; i++)\n    {\n    WriteChar(screenCoord,textPos+vec2(float(i)*charSpacing,0.0),float(text[i]),fontSize, fontColor, color);\n    }  \n    // THE BELOW CODE IS JUST VARIATIONS\n    // ****************************************\n    \n    \n    // CENTER SCALE TEST ******************** \n    textPos = iResolution.xy*0.5;\n    fontSize = 78.0 + (cosValue*32.0);\n    charSpacing = fontSize*0.5;\n    fontColor = vec4(0.5-cosValue*0.5,0.5+cosValue*0.5, uv.x*1.0,1.0);\n    \n    // center text \n    // FONTS &\n    int text2[7] = int[](_f,_o,_n,_t,_s,_,38);\n    textPos.x -= (7.0*charSpacing)*0.5;\n    textPos.y -= fontSize*0.5;\n    \n    for(int i=0; i<7; i++)\n    {\n    WriteChar(screenCoord,textPos+vec2(float(i)*charSpacing,0.0),float(text2[i]),fontSize, fontColor, color);\n    }\n  \n    \n    // NUMBERS AND TRANSPARENCY ******************** \n    textPos = vec2(180.0+cos(frame+uv.x*25.0)*5.0,320.0+sin(frame+uv.x*25.0)*5.0);\n    fontSize = 76.0;\n    charSpacing = fontSize*0.5;\n    fontColor = vec4(uv.x*4.0,2.0-uv.x, 2.0*uv.y,0.2);\n    \n    // # 123456789\n    int text3[12] = int[](35,_,_1,_2,_3,_4,_5,_6,_7,_8,_9,_0);\n    \n    for(int i=0; i<12; i++)\n    {\n    WriteChar(screenCoord,textPos+vec2(float(i)*charSpacing,0.0),float(text3[i]),fontSize, fontColor, color);\n    }\n    \n    fragColor = color;\n}\n\n",
                "description": "",
                "inputs": [
                    {
                        "channel": 0,
                        "ctype": "texture",
                        "id": 49,
                        "published": 1,
                        "sampler": {
                            "filter": "mipmap",
                            "internal": "byte",
                            "srgb": "false",
                            "vflip": "true",
                            "wrap": "repeat"
                        },
                        "src": "/media/a/08b42b43ae9d3c0605da11d0eac86618ea888e62cdd9518ee8b9097488b31560.png"
                    }
                ],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}