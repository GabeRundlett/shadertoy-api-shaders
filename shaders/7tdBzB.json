{
    "Shader": {
        "info": {
            "date": "1663310863",
            "description": "La textura no es la misma pero bueno.",
            "flags": 0,
            "hasliked": 0,
            "id": "7tdBzB",
            "likes": 9,
            "name": "Manos",
            "published": 3,
            "tags": [
                "noise",
                "body"
            ],
            "usePreview": 0,
            "username": "lechuga",
            "viewed": 455
        },
        "renderpass": [
            {
                "code": "#define fin return vec2(d, id)\nfloat t;\n#define rot(a) mat2(cos(a),sin(a),-sin(a),cos(a))\n#define pil(a,d) clamp(a.y, 0., d)\n#define pi acos(-1.)\n#define NN texture(iChannel0, p0.xz*.211+sin(tt*2.663)).x - texture(iChannel0, p0.yz*.121+cos(tt*1.245)).x - texture(iChannel0, p0.yx*.0721+sin(tt*1.934)).x * pi - sin(length(pi-(p0*.95)-vec3(0., -15., 0.))-t*5.)*sin(p0.x*.451)*sin(p0.z*.94)*2.94\n#define TIC clamp(0., 1.,sin(t*.125))\nfloat smin(float a, float b, float k){\n  float h = max(0., k-abs(a-b))/k;\n  return min(a,b)-h*h*k*.25;\n}\nfloat d = 1., id = 0., flameC = 0., bodyC = 0., oceanC = 0.;\nvec2 body(vec3 p){\n  float tt = t*.1;\n  id = 1.;\n  vec3 p0=p, p1, p2, p3, p4=p, p5=p, p6 =p;\n  p.x = abs(p.x)-10.;\n  p.xy *= rot(pi/4.);\n  p1 = p2 = p3 = p;\n  float s1 = 3.,s2 = .15;\n  d = length(vec2(length(p1.xy)-s1, p1.z))-s2;\n  p3-=vec3(0., 7.5, 20.);\n  p3.zy *= rot(pi/1.75);\n  p3.y -= pil(p3, 20.);\n  d = smin(d, length(p3)-1.-NN*.1, 1.);\n  p2.y += sin(p2.y*.81);\n  for(float i = 0.; i++ < 4.;){\n    p2.x = abs(p2.x)-i*.001;\n    p2.x -= .5;\n    p2.xy *= rot(pi/11.);\n  }\n  p2.z += p2.y*p2.y*.069;\n  p2 += vec3(0., 5., 0.);\n  p2.y -= pil(p2, 3.);\n  \n  float d2 = length(p2)-.5;\n  d = smin(d, d2, 1.)*.55;\n  p4.yz *= rot(pi/3.);\n  p4.zy -= 14.;\n  float d3 = length(p4)-5.-sin(sin(p4.y*.374)*p4.z*.591875-pi)*.5-.5-NN*.1;\n  d = min(d, d3);\n  p5-=vec3(0., 5.,20.);\n  for(int i = 0; i++ < 4;){\n    float d4 = length(p5)-2.-sin(p5.x*.623)*.5-.5-NN;\n    d = min(d, d4);\n    p5-=vec3(0., 5.+p5.z*.5,5.);\n  }\n  float d5 = -p6.z+29.-NN;\n  oceanC += .1/(.1+d5*d5);\n  d = smin(d, d5,1.);\n  bodyC += 0.1/(0.1+d*d);\n  \n  fin;\n}\nvec2 flame(vec3 p){\n  p.x = abs(p.x)-8.;\n  vec3 p1, p2;\n  p1 = p2 = p;\n  id = 2.;\n  float d2 = length(p1)-1.25-sin(p1.y+t)*sin(sin(p1.x*.34+t)*p1.x*.23+t)*sin(p1.z*.345+t*2.)*.5-.5;\n  d2 = smin(d2, length(p1-vec3(0., 1., 0.)), 1.);\n  flameC += .3/(1.+d2*d2);\n  fin;\n}\nvec2 m(vec3 p){\n  p.z = abs(p.z)-10.+TIC*10.; // 2.6\n  p.xy *= rot(cos(t*.225+p.z*.087345));\n  vec2 e = body(p);\n  vec2 e2 = flame(p);\n  d = e.x < e2.x ? e.x : e2.x;\n  fin;\n}\nvec3 nm(vec3 p){\n  vec2 e = vec2(0.81,0.);\n  return normalize(m(p).x-vec3(m(p-e.xyy).x, m(p-e.yxy).x, m(p-e.yyx).x));\n}\nvoid ray(inout vec3 p, inout vec3 r){\n  const float MM = 300.;\n  float di = 0., dd = 0., id = -1.;\n  for(float i = 0.; i++ < 100.;){\n    vec2 e = m(p);\n    di = e.x;\n    id = e.y;\n    if(di < .00001){\n      break;\n    }\n    //else if(dd > MM){\n      //p = vec3(MM);\n      //di = MM;\n      //break;\n    //}\n    dd += di;\n    p+=di*r;\n  }\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    t = mod(iTime, 1e10)*2.;\n\tvec2 uv = vec2(fragCoord.x / iResolution.x, fragCoord.y / iResolution.y);\n\tuv -= 0.5;\n\tuv /= vec2(iResolution.y / iResolution.x, 1);\n  t += fract(sin(dot(uv.x*343., uv.y*344.))*232.)*.0125;\n  vec3 s = vec3(0.01,-15.01,-96.);\n  s.zy *= rot(pi/2.);\n  vec3 p = s;\n  vec3 tg = vec3(0.01,10.01, 0.01);\n  vec3 cz = normalize(tg-s);\n  vec3 cx = normalize(cross(cz,vec3(0., -1., 0.)));\n  vec3 cy = normalize(cross(cz,cx));\n  vec3 r = mat3(cx,cy,cz)*normalize(vec3(-uv, 1.-uv.x*uv.x*3.));\n  vec3 co = vec3(0.);\n  ray(p, r);\n  vec3 n = nm(p);\n  vec3 l = normalize(vec3(1., 1., 1.));\n  float dif = clamp(dot(l, n), 0., 1.);\n  float esp = pow(clamp(dot(reflect(-l, -r), n), 0., 1.), 40.);\n  float fr = pow(.1-dot(l,n), 3.);\n  vec3 OCCO = vec3(0.15,.745, .66);\n  vec3 OCCO2 = vec3(0.5,.745, 1.);\n  co += vec3(dif + esp)*fr;\n  co += flameC * vec3(.6234,.4598, 0.275);\n  co += oceanC * OCCO*.02;\n  co += bodyC * vec3(.78,.745, 0.46) *max(.007246,(.007246+TIC*.5));\n  co += OCCO2*length(p)*.00295;\n  co *= 1.-length(uv)*.777;\n  co = pow(co, vec3(.7111))*.65;\n\tfragColor = vec4(co, 1.);\n}",
                "description": "",
                "inputs": [
                    {
                        "channel": 0,
                        "ctype": "texture",
                        "id": 47,
                        "published": 1,
                        "sampler": {
                            "filter": "mipmap",
                            "internal": "byte",
                            "srgb": "false",
                            "vflip": "true",
                            "wrap": "repeat"
                        },
                        "src": "/media/a/ad56fba948dfba9ae698198c109e71f118a54d209c0ea50d77ea546abad89c57.png"
                    }
                ],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}