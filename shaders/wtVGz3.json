{
    "Shader": {
        "info": {
            "date": "1579523433",
            "description": "Just for test",
            "flags": 0,
            "hasliked": 0,
            "id": "wtVGz3",
            "likes": 2,
            "name": "Smiley Faces for test",
            "published": 3,
            "tags": [
                "test"
            ],
            "usePreview": 0,
            "username": "tonywu",
            "viewed": 337
        },
        "renderpass": [
            {
                "code": "float Circle(vec2 uv, vec2 p, float r, float blur){\n\tfloat d = length(uv-p);\n    float c = smoothstep(r, r-blur, d);\n    return c;\n}\n\nfloat Band(float t, float start, float end, float blur){\n\tfloat step1 = smoothstep(start-blur, start+blur, t);\n    float step2 = smoothstep(end+blur, end-blur, t);\n    float band = step1 * step2;\n    return band;\n}\n\nfloat Rect(vec2 uv, float left, float right, float top, float bottom, float blur){\n\tfloat band1 = Band(uv.x, left, right, blur);\n    float band2 = Band(uv.y, bottom, top, blur);\n    float rect = band1 * band2;\n    return rect;\n}\n\nfloat remap01(float a, float b, float t){\n\treturn (t-a) / (b-a);\n}\n\nfloat remap(float a, float b, float c, float d, float t){\n\treturn remap01(a, b, t) * (d-c) + c;\n}\n\nfloat Smiley(vec2 uv, vec2 p, float size){\n    \n    uv -= p;\n    uv /= size;\n    \n    float mask = Circle(uv, vec2(0), 0.4, 0.05);\n    vec3 col = vec3(1,1,0);\n    \n    \n    mask -= Circle(uv, vec2(-0.15,0.1), 0.08, 0.015);\n    mask -= Circle(uv, vec2(0.15,0.1), 0.08, 0.015);\n    //mask -= Circle(uv, vec2(0,-0.2), 0.1, 0.015);\n    \n    float mouth = Circle(uv, vec2(0), 0.3, 0.015) * abs(sin(iTime));\n    mouth -= Circle(uv, vec2(0,0.05), 0.3, 0.015) * abs(sin(iTime));\n    \n    mask-= mouth;\n    return mask;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n\t\n    float t  = iTime;\n    // Time varying pixel color\n    //vec3 col = 0.5 + 0.5*cos(iTime+uv.xyx+vec3(0,2,4));\n\tuv -= 0.5;\n    uv.x *= iResolution.x/iResolution.y;\n\t\n   \tfloat mask = Smiley(uv, vec2(sin(iTime)*0.3,cos(iTime)*0.3), 0.5);\n\tmask += Smiley(uv, vec2(cos(iTime)*0.1,sin(iTime)*0.5), 0.5);\n    \n    float x = uv.x;\n    float y = uv.y;\n    \n    float m = -(x-0.5)*(x+0.5);\n    //m = m*m*4.0;\n    m = m*sin(t+x*8.0)*0.5;\n    y = y-m;\n    \n    float blur = remap(-0.5, 0.5, 0.01, 0.25, x);\n    blur = pow(blur*4.0,3.0);\n    \n    mask += Rect(vec2(x,y), -0.5, 0.5, 0.1, -0.1, blur);\n    \n    vec3 col = vec3(1,1,0)*mask;\n    //col = vec3(mouth);\n    // Output to screen\n    fragColor = vec4(col,1.0);\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}