{
    "Shader": {
        "info": {
            "date": "1501511733",
            "description": "SDF tunnel",
            "flags": 0,
            "hasliked": 0,
            "id": "Ms2fR3",
            "likes": 1,
            "name": "SDF tunnel",
            "published": 3,
            "tags": [
                "sdftunnel"
            ],
            "usePreview": 0,
            "username": "mikatalk",
            "viewed": 610
        },
        "renderpass": [
            {
                "code": "#define PI 3.1415\n\nfloat stroke(float x, float s, float w) {\n  float d = step(s,x+w*.5) - step(s, x-w*.5);\n  return clamp(d, 0., 1.);\n}\n\nfloat fill(float x, float size) {\n  return 1. - step(size, x);\n}\n\nfloat rectSDF(vec2 st, vec2 s) {\n  st = st*2.-1.;\n  return max( abs(st.x/s.x), abs(st.y/s.y) );\n}\n\nfloat crossSDF(vec2 st, float s) {\n  vec2 size = vec2(.005, s);\n  return min( rectSDF(st, size.xy), rectSDF(st, size.yx) );\n}\n\nvec2 rotate(vec2 st, float a) {\n  st = mat2(cos(a), -sin(a), sin(a), cos(a)) * (st-.5);\n  return st+.5;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n  vec2 st = fragCoord.xy / iResolution.xy;\n  vec3 color = vec3(0.0, 0.0, 0.0);  \n  float timeSlow = iTime * .3;\n  vec2 offset = vec2(\n    sin(iTime*.7), \n    sin(iTime*.1)*.6\n  );\n  vec2 size = vec2(1.);\n  vec2 center = st*2.-1.;\n  vec2 ratio =  cos(abs((st-vec2(.5)) * 2. )/2. * PI);\n  center += offset * ratio/2.;    \n  float rect = max( abs(center.x/size.x), abs(center.y/size.y) );\n  color += fill(rect, .05);\n  color += stroke(rect, 0. + mod(timeSlow, .1), .02);\n  color += stroke(rect, .1 + mod(timeSlow, .1), .02);\n  color += stroke(rect, .2 + mod(timeSlow, .1), .02);\n  color += stroke(rect, .3 + mod(timeSlow, .1), .02);\n  color += stroke(rect, .4 + mod(timeSlow, .1), .02);\n  color += stroke(rect, .5 + mod(timeSlow, .1), .02);\n  color += stroke(rect, .6 + mod(timeSlow, .1), .02);\n  color += stroke(rect, .7 + mod(timeSlow, .1), .02);\n  color += stroke(rect, .8 + mod(timeSlow, .1), .02);\n  color += stroke(rect, .9 + mod(timeSlow, .1), .02);\n  color += stroke(rect, 1. + mod(timeSlow, .1), .02);\n  float cross = crossSDF(  rotate( center+vec2(.5), radians(45.)), 10.);\n  color = max( color, fill(cross, 5.) );\n  //color.r *= 1.0 - .5/length(center);\n  //color.g *= 1.0 - .5/length(center);\n  //color.b *= 1.0 - .5/length(center);\n  color = 1. - color;\n  fragColor = vec4(color, 1.0);\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}