{
    "Shader": {
        "info": {
            "date": "1410613824",
            "description": "tune with mouse x and y.  \nSpace to show tiles.",
            "flags": 16,
            "hasliked": 0,
            "id": "XdBSWR",
            "likes": 5,
            "name": "canvas",
            "published": 3,
            "tags": [
                "canvas",
                "short"
            ],
            "usePreview": 0,
            "username": "FabriceNeyret2",
            "viewed": 1565
        },
        "renderpass": [
            {
                "code": "bool keyToggle(int ascii) {\n\treturn (texture(iChannel3,vec2((.5+float(ascii))/256.,0.75)).x > 0.);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float t = iTime;\n    vec2 uv0 = fragCoord.xy / iResolution.y;\n    vec2 m = iMouse.xy/iResolution.xy;\n    if (iMouse.z<=0.) { // autodemo \n\t\t    uv0 += vec2(1.8*cos(.15*t)+.5*sin(.4*t),sin(.22*t)-.5*cos(.3*t));\n            uv0 *= 1.5-cos(.2*t);\n\t\t\tm = .5+.5*vec2(cos(t),sin(.6*t)); m.y*=m.x;\n    }\n\n    vec2 uv = uv0*10.;\n    float d = mod(floor(uv.x)+floor(uv.y),2.), s = mod(floor(uv.y),2.);\n    uv = fract (uv); if (d==1.) uv.x = 1.-uv.x; // checkered tile coordinates\n    uv = vec2(uv.x-uv.y,uv.x+uv.y);\n \n    float size = m.x+m.y*cos(.5*3.1415927*uv.y) *sign(s-.5)*sign(d-.5);\n    float l = abs(uv.x)-size;\n    float v = smoothstep(0.,.1,abs(l));\n    float v0 = step(0.,l);\n    \n    size = m.x+m.y*cos(.5*3.1415927*uv.x); \n    float ofs = (1.-size)*sign(s-.5)*sign(d-.5); // corner distance\n    l = (uv.y-1.)-ofs;\n    float v1 = step(0.,l);\n    float d0 =  mod(s+v1,2.);\n    float d1 =  mod(s+d+v1,2.); // corner area\n    v0 = ((d1<1.)?v0:0.); // background\n    v = ((d1<1.)?v:1.)*smoothstep(0.,.1,abs(l)); // contour\n\n    vec4 col = v0*texture(iChannel2,uv0) \n        + (1.-v0)*((d0==0.) ? texture(iChannel0,uv0) : texture(iChannel1,uv0));\n    if (keyToggle(32)) v/= 1.+.5*d;\n\tfragColor = col*v;\n}",
                "description": "",
                "inputs": [
                    {
                        "channel": 0,
                        "ctype": "texture",
                        "id": 2,
                        "published": 1,
                        "sampler": {
                            "filter": "mipmap",
                            "internal": "byte",
                            "srgb": "false",
                            "vflip": "false",
                            "wrap": "repeat"
                        },
                        "src": "/media/a/cd4c518bc6ef165c39d4405b347b51ba40f8d7a065ab0e8d2e4f422cbc1e8a43.jpg"
                    },
                    {
                        "channel": 1,
                        "ctype": "texture",
                        "id": 6,
                        "published": 1,
                        "sampler": {
                            "filter": "mipmap",
                            "internal": "byte",
                            "srgb": "false",
                            "vflip": "false",
                            "wrap": "repeat"
                        },
                        "src": "/media/a/1f7dca9c22f324751f2a5a59c9b181dfe3b5564a04b724c657732d0bf09c99db.jpg"
                    },
                    {
                        "channel": 2,
                        "ctype": "texture",
                        "id": 8,
                        "published": 1,
                        "sampler": {
                            "filter": "mipmap",
                            "internal": "byte",
                            "srgb": "false",
                            "vflip": "false",
                            "wrap": "repeat"
                        },
                        "src": "/media/a/52d2a8f514c4fd2d9866587f4d7b2a5bfa1a11a0e772077d7682deb8b3b517e5.jpg"
                    },
                    {
                        "channel": 3,
                        "ctype": "keyboard",
                        "id": 33,
                        "published": 1,
                        "sampler": {
                            "filter": "nearest",
                            "internal": "byte",
                            "srgb": "false",
                            "vflip": "false",
                            "wrap": "clamp"
                        },
                        "src": "/presets/tex00.jpg"
                    }
                ],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}