{
    "Shader": {
        "info": {
            "date": "1659931144",
            "description": "trees at sunset",
            "flags": 0,
            "hasliked": 0,
            "id": "fldyWM",
            "likes": 27,
            "name": "Trees at Sunset",
            "published": 3,
            "tags": [
                "sunset",
                "trees"
            ],
            "usePreview": 0,
            "username": "wyatt",
            "viewed": 401
        },
        "renderpass": [
            {
                "code": "#define R iResolution.xy\n#define ei(a) mat2(cos(a),sin(a),-sin(a),cos(a))\nfloat segment (vec2 p, vec2 a, vec2 b) {\n    return length(p-a-(b-a)*clamp(dot(p-a,b-a)/dot(b-a,b-a),0.,1.));\n}\nvec3 rodrigues( vec3 v, vec3 k, float t) {\n    return v*cos(t)+cross(k,v)*sin(t)+k*dot(k,v)*(1.-cos(t));\n}\nvec3 hash (vec2 p)\n{\n\tvec3 p3 = fract(vec3(p.xyx) * vec3(.1031, .1030, .0973));\n    p3 += dot(p3, p3.yxz+33.33);\n    return fract((p3.xxy+p3.yzz)*p3.zyx);\n}\nvec3 noise(vec2 p)\n{\n    vec4 w = vec4(\n        floor(p),\n        ceil (p)  );\n    vec3 \n        _00 = hash(w.xy),\n        _01 = hash(w.xw),\n        _10 = hash(w.zy),\n        _11 = hash(w.zw),\n    _0 = mix(_00,_01,fract(p.y)),\n    _1 = mix(_10,_11,fract(p.y));\n    return mix(_0,_1,fract(p.x));\n}\nvec3 fbm (vec2 p)\n{\n    vec3 w = vec3(0);\n    float N = 5.;\n    for (float i = 1.; i < N; i++)\n    {\n        p *= 1.7*ei(.5);\n        w += noise(p)/N/i;\n    }\n    return w;\n}\nvoid mainImage (out vec4 Q, in vec2 U) {\n    U = 2.*(U-.5*R)/R.y;\n    U.y += 1.;\n    Q = vec4(1);\n    for (float k = -5.; k <= 5.; k++) {\n    vec3 a = vec3(k/3.+.1*sin(3.*k),0,0),\n        b = vec3(k/3.+.1*sin(3.*k),.2+.1*sin(3.*k),0),\n        p = vec3(0,0,1);\n    float j = 0.;\n    for (float i = 1.; i < 10.; i++) {\n        Q *= step(.1*length(a-b),segment(U,a.xy,b.xy));\n        vec3 t = b;\n        vec3 h = floor(hash(k+U+iTime+100.*i)*5.)-2.;\n        if (abs(h.x)>1.) h.x = 0.;\n        vec3 f = hash(vec2(i,j+k))*2.-1.;\n        j += h.x*i;\n        vec3 u = b-a;\n        u *=.95-.5*abs(h.x);\n        vec3 k = normalize(u);\n        p.xz *= ei(.15*6.2*f.x);\n        u = rodrigues(u,p,-.1*j+.1*f.y+.5*3.*h.x);\n        b = b+u;\n        a = t;\n    }\n    Q *= step(.01,segment(U,a.xy,b.xy));\n        \n    }\n    \n    if (iFrame < 1) {\n        Q = sin(5.+2.-U.y+vec4(1,2,3,4));\n        Q -= .3*fbm(5.*U).x;\n        Q += .7*fbm(20.*U).x*(\n        smoothstep(.18,.15,length(U-vec2(1.35,1.65)))*\n        smoothstep(.18,.1,length(U-vec2(1.3,1.6)))\n        )\n        ;\n    }else \n    if (Q.x==1.) discard;\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}