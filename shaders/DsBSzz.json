{
    "Shader": {
        "info": {
            "date": "1669789692",
            "description": "using a 3x3x3 filter to convolve over pixels on the screen each frame over time\n\nLook at Buffer A for instructions and info\n\n",
            "flags": 32,
            "hasliked": 0,
            "id": "DsBSzz",
            "likes": 5,
            "name": "Convolution Filter Over Time",
            "published": 3,
            "tags": [
                "cnn"
            ],
            "usePreview": 0,
            "username": "SpicyMelon",
            "viewed": 254
        },
        "renderpass": [
            {
                "code": "// Nothing cool or needed here. Go to Buffer A\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n   fragColor = texelFetch(iChannel0, ivec2(fragCoord), 0);\n}",
                "description": "",
                "inputs": [
                    {
                        "channel": 0,
                        "ctype": "buffer",
                        "id": 257,
                        "published": 1,
                        "sampler": {
                            "filter": "linear",
                            "internal": "byte",
                            "srgb": "false",
                            "vflip": "true",
                            "wrap": "clamp"
                        },
                        "src": "/media/previz/buffer00.png"
                    }
                ],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            },
            {
                "code": "// All filters I have messed around with are in the Common tab.\n// Only three are being used which are filter0, filter1, and filter2\n// This is why the rest are commented out to make them deactivated.\n\n// You can go here to make 3 new random filters, https://editor.p5js.org/SpicyMelon/sketches/UkJmR8moU\n// If it wasn't clear, there are 3 filters to make an rgb image rather than just a black and white image.\n// Its cooler with rgb.\n\n\nfloat rand(float co) { return fract(sin(co*(91.3458)) * 47453.5453); }\nfloat rand(vec2 co){ return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453); }\nfloat rand(vec3 co){ return rand(co.xy+rand(co.z)); }\n\nivec2 pos;\nint width;\nint height;\n\nvec4 pixel(int x, int y) {\nivec2 npos = pos;\nnpos.x += x;\nnpos.y += y;\n\nnpos.x = int(mod(float(npos.x), float(width)));\nnpos.y = int(mod(float(npos.y), float(height)));\n\nreturn    texelFetch(iChannel0, npos, 0);\n}\n\nvec4 pixel(ivec2 v) {\nreturn  pixel(v.x, v.y);\n}\n\nfloat filterPixel(float[27] fil, int x, int y, int z) {\nint index = x + y * 3 + z * 3 * 3;\nreturn fil[index];\n}\n\nfloat filterForPos(float[27] fil) {\n    float v = 0.0;\n    vec4 p;\n\n        for(int y = -1; y <= 1; y++) {\n            for(int x = -1; x <= 1; x++) {\n            p = pixel(x, y);\n            v += p.r * filterPixel(fil, x + 1, y + 1, 0);\n            v += p.g * filterPixel(fil, x + 1, y + 1, 1);\n            v += p.b * filterPixel(fil, x + 1, y + 1, 2);\n\n    }\n    }\n    \n    \n    v = clamp(v, 0.0, 1.0);\n    return v;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    pos = ivec2(fragCoord);\n    width = int(iResolution.x);\n    height = int(iResolution.y);\n\n\n    if(iFrame == 0) {\n        fragColor = vec4(rand(fragCoord * 0.01), rand((fragCoord + vec2(float(width) * 0.5, 0.0)) * 0.01), rand((0.0, fragCoord + vec2(float(height) * 0.5)) * 0.01), 1);\n    \n    } else {\n    \n        float vr, vg, vb;\n        vr  = filterForPos(filter0);\n        vg  = filterForPos(filter1);\n        vb  = filterForPos(filter2);\n\n\n\n        fragColor = vec4(vr, vg, vb, 1);\n        //fragColor = pixel(0, 0);\n    \n\n\n    }\n}",
                "description": "",
                "inputs": [
                    {
                        "channel": 0,
                        "ctype": "buffer",
                        "id": 257,
                        "published": 1,
                        "sampler": {
                            "filter": "linear",
                            "internal": "byte",
                            "srgb": "false",
                            "vflip": "true",
                            "wrap": "clamp"
                        },
                        "src": "/media/previz/buffer00.png"
                    }
                ],
                "name": "Buffer A",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 257
                    }
                ],
                "type": "buffer"
            },
            {
                "code": "//rgb epilepsy\n//float[27] filter0 = float[](-0.9804343132248414, 0.3880082593908587, -0.873348322590926, -0.8157160970928912, 0.2510635028678605, -0.3014531295124807, -0.7234242314678516, 0.06909178462564824, -0.19291524868478138, 0.20065700096218464, -0.5588558254867784, 0.8047345344441941, -0.7050640632261116, 0.04556257192371893, -0.7562778600019704, 0.10166551908188604, 0.3256490785852022, -0.9693190685904027, 0.34829569499977797, -0.7113188397689676, 0.7632013352982474, -0.8486271294410566, 0.8354032265442033, 0.8876302317510669, -0.5259570704115801, 0.9609063191390224, 0.3813425215057271);\n//float[27] filter1 = float[](0.7931395145533462, 0.380928577942067, 0.5730740093769566, 0.3969134793953062, 0.8127857629336064, -0.7169886836826285, 0.08375770461906384, -0.04852441765068649, 0.7010984819371631, -0.9412244186321641, -0.3874298182174538, 0.47021984110067727, 0.30784400296234615, 0.8041937330003068, -0.5435837545545703, 0.5141849790987787, -0.15099058384973274, 0.04677990870623994, -0.9511125245437575, -0.36464743043174597, -0.659373405814121, -0.8250209272988669, 0.4815024140910089, -0.28614737036795734, -0.23190843622804636, -0.22567573741882896, -0.7458951158501002); \n//float[27] filter2 = float[](-0.6239377761399441, -0.6112561208235934, 0.9755885573123289, 0.3397811412573559, -0.4406018107854246, -0.921051287102653, -0.5611831045984879, -0.8755056281855178, 0.06356614818918205, -0.7361451033203035, 0.9520273955833489, 0.16044957615678257, 0.475661234667613, 0.9538397365125277, 0.7831424798759485, -0.8180241497335055, 0.39206749327335055, 0.8883238628675745, -0.8556470108384606, -0.48682865278771237, 0.18435305757693587, 0.8546698645905266, -0.088992820678234, -0.22041893544082614, -0.9271232802179785, -0.3233167566324515, 0.00943490768460764); \n\n//Angular ocean\n//float[27] filter0 = float[](-0.014520753356875193, -0.003997221620404723, -0.6191498768508681, -0.403944250628693, -0.96338761564509, -0.7488211609789301, 0.9708027474490541, -0.6408302917960707, 0.9381075293405106, 0.25216423503362595, -0.2978146060337292, 0.3165045540248532, -0.5460320008208774, -0.9357393732011694, 0.20602742628098092, -0.45902446718428047, -0.18559343426155994, 0.35187423233207005, 0.12946422924284828, 0.8147940242899225, 0.8555757006210807, 0.4260362864040874, -0.6191204974479776, -0.14235879894250614, -0.31843828202267543, 0.7369236691514995, 0.6310981155020259); \n//float[27] filter1 = float[](0.7728588399236265, -0.2894569850984601, 0.27491548208549155, -0.9908065861736781, -0.15444140308586451, 0.6902429361932088, 0.09558301453547102, -0.7060898672970679, 0.7108610750870334, -0.6114664535537302, -0.6695275893049581, -0.6274778355386914, -0.9321076745888344, -0.25875700079127695, 0.40888878892249725, -0.8331353665093997, -0.531444643666283, 0.3975135351206611, -0.24322607203217972, -0.8352022700557828, 0.1528801678952254, 0.9765707212846424, 0.6800290882631717, 0.1948692081281509, 0.8850778925128209, -0.5157620122155846, -0.7995930117642707); \n//float[27] filter2 = float[](-0.5613121721123226, -0.42083801735893855, 0.4512354841180355, 0.954662332143791, -0.4955592123958432, 0.31145408516026984, -0.08000121772499025, 0.7333390859470237, -0.022981703363329498, -0.8453580811557475, 0.6427890625909507, -0.1587394083483864, 0.33138086228576746, -0.41062842802701516, 0.6404321649021338, -0.4726405506593254, -0.7870706233947842, 0.12357970240053939, -0.8398476830347219, -0.5610969927979821, -0.43817367056958734, 0.4272782294616482, 0.797086975880744, -0.32026075598551795, -0.7152617969938206, -0.23224328345491063, -0.8947138084997648); \n\n//pink flames\n//float[27] filter0 = float[](-0.3824206403149435, 0.7841389323397658, 0.7738729197168963, 0.5986430160145422, -0.5724754099823199, -0.7827344221647738, -0.21415322099054146, 0.8558262761887896, -0.9954191357418258, 0.8056349847569018, -0.4274323743283954, -0.3184878887351559, -0.7276520163925402, -0.6595474794001208, -0.7804722587215132, -0.8043245836108635, 0.10236156735012836, -0.09225156891408481, 0.8849890310524455, 0.011008028052847063, -0.19720003853589674, 0.966052081484972, 0.013760116559135227, -0.058594940133061435, 0.05446779660135803, -0.22605332956330493, 0.9961478956168874); \n//float[27] filter1 = float[](0.10517837284480924, 0.5337700160637286, 0.08957404115020617, -0.23790402834946178, -0.45911319576851106, 0.10905138520655688, -0.198873119175615, 0.2258371036386002, 0.10896574665642733, -0.17131340966167352, -0.9490828799137008, -0.8275984576634481, -0.2080117559129695, -0.35706493163493924, -0.32365456081589716, 0.42991297307411847, -0.538735424518209, -0.0019676799926284794, -0.8488413468722524, -0.0010645210439990116, 0.49413796116976183, -0.1176241188544691, -0.6250520048762813, 0.7386480583948036, -0.3290022271049935, 0.7962099150943969, -0.9280696574271752); \n//float[27] filter2 = float[](0.2377942676513829, 0.10435893584099354, 0.9983186543805505, -0.06099318467709436, -0.4654243555078543, -0.3126274536831848, 0.6334633254534912, 0.27690986322355604, -0.6851333891550566, 0.8598170523553472, 0.8176682432341789, 0.12728752841144564, 0.7844273117791274, -0.5724944448072233, 0.7041719043144608, 0.268925025093643, -0.5443930010114286, 0.6672607188446387, -0.3714397556131135, -0.4414866544485254, 0.1114944455204685, 0.12984665636978887, -0.9461800826529871, 0.5795727635940153, 0.6608841646061436, 0.16941083510717103, -0.1909162638159243); \n\n//slither slime\n//float[27] filter0 = float[](0.41058762620232203, 0.9903967297930119, -0.7141992013265432, 0.24808913987818348, -0.7880798276016407, 0.7381335148610764, 0.6222589118309467, -0.47647182375671315, 0.9308036523871408, -0.45049930881859845, -0.2611589581917375, -0.17288507418304766, -0.44171251335733963, -0.4521635987747521, -0.9284982603983494, -0.9190484831133032, -0.12812961927889477, -0.42794628721888817, 0.8534998405924101, -0.20266133357258642, -0.7744809166260791, 10.49201554447288176, 10.4192562322639857, 0.3018507193315183, 0.1669527351315283, -0.16658130910648739, -0.24535140449030202); \n//float[27] filter1 = float[](0.06535995230876113, 0.07857522628661284, 0.4878496491680506, -0.16951981354877343, 0.3894434924216772, 0.32145653915889394, 0.09045900721709677, 0.5536055308104926, 0.2924525515684544, 0.2882511088056159, -0.04572546883778372, 0.04728039428989472, -0.327572425614461, 0.34915601897999693, -0.5425706504091563, -0.9969624072548804, -0.5459904661897235, -0.5708010079667076, 0.33665720363412, 0.23243522664537153, -0.9988874877324974, 0.16276503465346837, -0.06649472979057869, -0.37438614318657715, -0.7206184820540638, 0.6985856692686503, -0.42648513265491284); \n//float[27] filter2 = float[](-0.7796319609373765, 0.2468533020187813, 0.2775388063592348, 0.880402755630945, 0.11668893494399057, -0.19762084547706005, -0.3121171739511106, -0.9521610209217442, -0.70013173623961, -0.160916075541226, 0.10991019297444371, -0.9587967692031505, 0.9101775883149665, 0.9109532883046811, -0.35333387286174833, -0.1361833132752679, 0.029540478788852464, 0.9883051103344975, 0.16303847134071336, 0.9958285290404634, 0.4269363554661063, 0.6342483991675092, -100.40711851752193473, 0.47394200563365363, 0.05060447640570187, -0.9297952184699412, -0.08943558293927678); \n\n//red strings\nfloat[27] filter0 = float[](-0.1077809072276823, 0.4830991190100047, 0.18242868104324028, 0.1806713917168783, 0.2747248740188377, -0.4900890688339392, 0.7066703365224067, -0.41940860322048135, -0.8543595052290582, 0.2792444185284233, 0.6406656234578714, -0.053328744529867134, -0.5335999572436028, -0.17677136160696527, 0.7353059174050856, -0.1114352280377302, 0.6605685904475203, 0.6770220879444251, 0.14110173300542872, 0.8822168598833122, 0.1550752979031369, -0.19859170389362335, 0.4341469433833227, 0.3761549900631973, 0.5842256075124532, -0.9340294724543843, 0.8549392668959466); \nfloat[27] filter1 = float[](-0.9138610529700228, -0.3114128724707288, 0.4710602606014187, -0.6068866641950441, -0.5456662883592842, -0.12234771984734039, -0.9455570461917358, -0.5157915844041887, -0.29012051055816457, 0.47192117129458744, -0.9672992503427658, -0.9141355280675159, -0.28787366491131117, -0.8330056027213328, -0.7637187685151101, 0.08381426510477041, -0.48566154640311643, 0.23021467597737377, -0.3478153796427761, 0.641261603777346, -0.1402695333601902, -0.5924376172910275, 0.1509947268760108, 0.0023882754280082352, 0.6209809448402805, -0.051799723483665794, -0.47856689559956767); \nfloat[27] filter2 = float[](-0.6130046747494413, 0.25030847195517625, -0.5473240237259627, -0.4989128468132309, -0.839986222178613, -0.5978654854633656, -0.7564207984251836, 0.01017801193364365, 0.04140505399465111, -0.9881557300020778, 0.8697117377093164, 0.8912565976004214, 0.5385672689073964, 0.0283133288782218, 0.3398797334559531, 0.894443000098919, 0.2416376537362499, -0.3002707464605092, -0.3582712213063619, 0.2246045088805264, 0.2539959979237052, -0.42399610064138704, -0.6240854625173564, -0.9955023590415886, -0.15723482210447504, -0.3129798800340282, 0.24958864214351495); \n",
                "description": "",
                "inputs": [],
                "name": "Common",
                "outputs": [],
                "type": "common"
            }
        ],
        "ver": "0.1"
    }
}