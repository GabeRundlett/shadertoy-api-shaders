{
    "Shader": {
        "info": {
            "date": "1530452070",
            "description": "Exploring ideas from my Nova Shader Showdown Final entry. Thanks to ferris and kusma for the suggestion of a higher iteration count on the chromatic aberration.",
            "flags": 0,
            "hasliked": 0,
            "id": "4sGBDV",
            "likes": 14,
            "name": "test pattern 4",
            "published": 3,
            "tags": [
                "pattern"
            ],
            "usePreview": 0,
            "username": "yx",
            "viewed": 930
        },
        "renderpass": [
            {
                "code": "float func(float t)\n{\n    float u = iTime*8.;\n    return (sin(t*57.+u)+sin(t*59.+u*1.1)+t*13.313)*.8;\n}\n\nfloat func(vec2 t)\n{\n    return func(t.x + 8.5463*t.y);\n}\n\nvec4 pal(vec4 a, vec4 b, vec4 c, vec4 d, float t)\n{\n\treturn a+b*cos(2.*acos(-1.)*(c*t+d));\n}\n\nvec4 logichroma(float t)\n{\n\treturn pal(\n\t\tvec4(.5),\n\t\tvec4(.5),\n\t\tvec4(1.),\n\t\tvec4(0,.33,.67,1),\n\t\tt\n\t);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy-.5;\n\n    fragColor *= 0.;\n    for (int i = 0; i < 240; ++i)\n\t{\n    \tfloat f = fract(func(vec2(\n\t        uv.x*.5,\n\t        floor(uv.y*20.+.5)\n\t    ))+iTime*3.);\n\t    \n        vec4 pattern = vec4(step(.7,f)*step(.3,fract(uv.y*20.+.15+.5)));\n        vec4 color = logichroma(1.-float(i)/240.);\n        float alpha = (1.-(float(i)/240.));\n        \n\t    fragColor += pattern * color * alpha;\n\t\n        uv *= 0.998;\n\t}\n    fragColor *= .01;\n    fragColor = 1.-fragColor;\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}