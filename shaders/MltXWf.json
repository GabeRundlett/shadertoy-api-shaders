{
    "Shader": {
        "info": {
            "date": "1481978664",
            "description": "Mandelbrot pseudo 3d zoom from the pc-demo \"Calcatraz\"\nhttp://www.pouet.net/prod.php?which=67985\n\nOriginal \"Droste Mandelbrot\" by vgs\nhttps://www.shadertoy.com/view/XssXWr",
            "flags": 64,
            "hasliked": 0,
            "id": "MltXWf",
            "likes": 17,
            "name": "Yum yum candy mandelzoom",
            "published": 3,
            "tags": [
                "mandelbrot",
                "zoom",
                "pseudo3d"
            ],
            "usePreview": 0,
            "username": "Virgill",
            "viewed": 1320
        },
        "renderpass": [
            {
                "code": "// Original \"Droste Mandelbrot\" vgs/2014\n// https://www.shadertoy.com/view/XssXWr\n\n#define TAU 6.28318530718\n\n\n\nvec2 droste(in vec2 uv) {\n\tfloat alpha = atan(log(2.0/.3)/TAU) - 0.0;\n\tvec2 rot = vec2(cos(alpha), sin(alpha));\n\tuv = vec2(log(length(uv)), atan(uv.y, uv.x));\n\tuv = vec2(uv.x*rot.x - uv.y*rot.y, uv.x*rot.y + uv.y*rot.x)/rot.x;\n\tuv.x = mod(uv.x, log(2.0/.3));\n    return 0.3*exp(uv.x)*vec2(cos(uv.y-0.5*iTime), sin(uv.y-0.5*iTime)); // drehung\n\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tfloat t = exp(-mod(0.90*iTime, +20.825));\n\tvec2 z = vec2(0.0), dz = vec2(0.0);\n\tvec2 uv = droste(t*(-iResolution.xy+2.0*fragCoord.xy)/iResolution.y);\n\tvec2 c = uv - vec2(0.5, -0.2);\n\tfor (int i = 0; i < 256; ++i) \n    {\n\t\tif (dot(z, z) > 40.0) continue;\n\t\tdz = 2.0*vec2(z.x*dz.x - z.y*dz.y, z.x*dz.y + z.y*dz.x) + vec2(1.0, 0.0);\n\t\tz = vec2(z.x*z.x - z.y*z.y, 2.0*z.x*z.y) + c;\t\t\n\t}\n\tfloat d = abs(length(uv) -2.0);\n\td *= dot(z, z) <= 32.0 ? 0.0 : 0.5*sqrt(dot(z,z)/dot(dz,dz))*log(dot(z,z));\n\tfloat t2 = exp(-mod(0.9*iTime, +20.825)); \n\tvec2 z2 = vec2(0.0), dz2 = vec2(0.0);\n\tvec2 uv2 = droste(t2*(-iResolution.xy+2.01*fragCoord.xy)/iResolution.y);\n\tvec2 c2 = uv2 - vec2(0.5, -0.25);\n\tfloat iflo = 1.0;\n\tfor (int i2 = 0; i2 < 256; ++i2) \n    {\n\t\tif (dot(z2, z2) > 15.0) continue;\n        if (iflo >= 0.4) {iflo -= 0.08*(1./iflo);}\n        dz2 = 2.0*vec2(z2.x*dz2.x - z2.y*dz2.y, z2.x*dz2.y + z2.y*dz2.x) + vec2(1.0, 0.0);\n\t\tz2 = vec2(z2.x*z2.x - z2.y*z2.y, 2.0*z2.x*z2.y) + c2;\n\t}\n\tfloat d2 = abs(length(uv2) -2.0);\n\td2 *= dot(z2, z2) <= 32.0 ? 0.0 : 0.5*sqrt(dot(z2,z2)/dot(dz2,dz2))*log(dot(z2,z2));\n\n    vec3 col = vec3(9.*d,10.*d,12.0*d);\n    vec3 col2 = vec3(iflo,iflo,iflo*2.4);\n\tfragColor = mix(vec4(col*vec3(pow(d, 0.5)),1.0),vec4(col2*vec3(pow(d2, .2)),1.0),0.5*col2.z);\n    \n}",
                "description": "",
                "inputs": [
                    {
                        "channel": 0,
                        "ctype": "musicstream",
                        "id": 5899,
                        "published": 1,
                        "sampler": {
                            "filter": "linear",
                            "internal": "byte",
                            "srgb": "false",
                            "vflip": "true",
                            "wrap": "clamp"
                        },
                        "src": "https://soundcloud.com/virgill/calcatraz"
                    }
                ],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}