{
    "Shader": {
        "info": {
            "date": "1641695581",
            "description": ": )",
            "flags": 0,
            "hasliked": 0,
            "id": "fslcR8",
            "likes": 27,
            "name": "Marination",
            "published": 3,
            "tags": [
                "noise"
            ],
            "usePreview": 0,
            "username": "wyatt",
            "viewed": 515
        },
        "renderpass": [
            {
                "code": "vec2 hash(vec2 p)\n{\n\tvec3 p3 = fract(vec3(p.xyx) * vec3(.1031, .1030, .0973));\n    p3 += dot(p3, p3.yzx+33.33);\n    return fract((p3.xx+p3.yz)*p3.zy);\n\n}\n#define R iResolution.xy\n#define ei(a) mat2(cos(a),-sin(a),sin(a),cos(a))\nvoid mainImage(out vec4 Q, in vec2 U)\n{\n    Q = vec4(0);\n    { // water\n        U.y-=.1*R.y;\n        if (U.y < .2*R.y) {\n            U.y = .4*R.y-U.y;\n            vec2 v = U-vec2(.5,.2)*R;\n            v *= 1./(1.+v.y);\n            U.x += 6.*sin(1000.*v.y);\n            U.y += 6.*cos(2.*iTime+1000.*v.y);\n            U.y += 6.*sin(iTime+10.*v.x);\n            U += 4.*(hash(iTime+U)*2.-1.);\n        }\n    }\n    float h = 0.;\n    {  // cloud\n        vec2 v = U;\n        v.y -= R.y;\n        v.x += 5.*iTime;\n        for (float i = 10.; i <= 100.; i++)\n            h += hash(1e2*i+floor(-iTime*4e-2+v*ei(i)/i)).x/90.;\n        h = clamp(round(h*300.-144.-20.*v.y/R.y)/30.,0.,1.);\n        vec4 C = (.5+.5*sin(6.*max(h-.4,0.)+4.5+v.y/R.y+vec4(1,2,3,4)));\n        Q += mix(C,vec4(h),.5+.5*h);\n    }\n    { // Space Needle\n        vec2 v = U-vec2(.1,.5)*R;\n        vec2 u = U-vec2(.1,.55)*R;\n        if (abs(u.x) < 2.&&u.y<0.) Q = vec4(0);\n        if (abs(v.x)<-.2*v.y&&abs(v.x)>-.1*v.y) Q = vec4(1.+50.*v.x/R.x);\n        \n        v.x *= .4+.1*sin(v.y);\n        if (length(v)<.02*R.y) {\n            Q = vec4(0);\n            if (abs(v.y)>.01*R.y) Q = vec4(.5+100.*v.x/R.x);\n            if (abs(v.y)<.003*R.y) Q = vec4(.5+100.*v.x/R.x);\n        }\n        if (length(u)<.005*R.y) Q = mix(Q,vec4(1,0,0,1),(.5+.5*sin(iTime)));\n\n    }\n    {\n        // city\n        for (float j = -5.; j < 5.; j++)\n        for (float i = 1.; i < 3.; i++) {\n            vec2 v = 2.*(U-.5*R)/R.y;\n            v.x += .005*i;\n            v.y -= .005*i;\n            v.y -= .02*j;\n            v.x *= 1.4-.04*j*j;\n            vec2 u = vec2(floor(10.*v.x),0);\n            vec2 h = hash(.1*u+j);\n            h.x *= 6.*exp(-.01*u.x*u.x);\n            h.x = .1*h.x-.4;\n            if (fract(v.x*10.)>.4) {\n                if (v.y < h.x+.01) Q*=0.;\n                if (v.y < h.x) {\n                    Q = .2+.8*vec4(h.y,.4,1.-h.y,1);\n                    v = 50.*vec2(v.x,v.y-h.x);\n                    h = hash(v);\n                    float w = max(abs(fract(v.x)-.5),abs(fract(v.y)-.5));\n                    Q *= (.5+.05*j*j)*smoothstep(.4,.3,w)*max(0.,-1.+2.*hash(floor(.001*iTime*floor(v.x)*floor(v.y))+floor(v)).x);\n                }\n            }\n        }\n    }\n    {// Boardwalk\n    \n        if (abs(U.y-.2*R.y)<15.) Q *= 0.;\n        vec2 v = U-vec2(.8,.36)*R;\n        float t = .01*iTime+.5+.5*atan(v.y,-v.x)/3.14159;\n        float l = length(v);\n        float r = .15*R.y;\n        float s = smoothstep(.6,.7,abs(fract(t*20.)-1.));\n        s *= smoothstep(1.,0.,l-r);\n        s = max(s,smoothstep(5.,3.,abs(l-r)));\n        vec2 u = vec2(fract(40.*t),fract(.125*l))*2.-1.;\n        vec4 li = 2.*exp(-4.*dot(u,u))*(.6+.5*sin(-2.*iTime+.1*l+vec4(1,2,3,4)));\n        Q = mix(Q,li,s);\n    }\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}