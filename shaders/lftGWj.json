{
    "Shader": {
        "info": {
            "date": "1712156748",
            "description": "15 grids font v3",
            "flags": 0,
            "hasliked": 0,
            "id": "lftGWj",
            "likes": 15,
            "name": "15 grids font v3",
            "published": 3,
            "tags": [
                "fonts",
                "graphicdesign",
                "cineshader"
            ],
            "usePreview": 1,
            "username": "yasuo",
            "viewed": 643
        },
        "renderpass": [
            {
                "code": "#define Rot(a) mat2(cos(a),-sin(a),sin(a),cos(a))\n#define antialiasing(n) n/min(iResolution.y,iResolution.x)\n#define S(d,b) smoothstep(antialiasing(1.5),-antialiasing(1.5),d - b)\n#define B(p,s) max(abs(p).x-s.x,abs(p).y-s.y)\n#define BASE_FONT_SIZE 0.08\n\nint cA[15] = int[](1,1,1,0,0,1,1,1,1,1,0,1,1,1,1);\nint cB[15] = int[](1,1,1,1,0,1,1,1,0,1,0,1,1,1,1);\nint cC[15] = int[](1,1,1,1,0,0,1,0,0,1,0,0,1,1,1);\nint cD[15] = int[](1,1,0,1,0,1,1,0,1,1,0,1,1,1,0);\nint cE[15] = int[](1,1,1,1,0,0,1,1,0,1,0,0,1,1,1);\nint cF[15] = int[](1,1,1,1,0,0,1,1,0,1,0,0,1,0,0);\nint cG[15] = int[](1,1,1,1,0,0,1,0,1,1,0,1,1,1,1);\nint cH[15] = int[](1,0,1,1,0,1,1,1,1,1,0,1,1,0,1);\nint cI[15] = int[](0,1,0,0,0,0,0,1,0,0,1,0,0,1,0);\nint cJ[15] = int[](0,1,1,0,0,1,0,0,1,0,0,1,1,1,1);\nint cK[15] = int[](1,0,1,1,0,1,1,1,0,1,0,1,1,0,1);\nint cL[15] = int[](1,0,0,1,0,0,1,0,0,1,0,0,1,1,1);\nint cM[15] = int[](1,0,1,1,1,1,1,0,1,1,0,1,1,0,1);\nint cN[15] = int[](1,1,1,1,0,1,1,0,1,1,0,1,1,0,1);\nint cO[15] = int[](1,1,1,1,0,1,1,0,1,1,0,1,1,1,1);\nint cP[15] = int[](1,1,1,1,0,1,1,1,1,1,0,0,1,0,0);\nint cQ[15] = int[](1,1,1,1,0,1,1,0,1,1,1,1,0,0,1);\nint cR[15] = int[](1,1,1,1,0,1,1,1,0,1,0,1,1,0,1);\nint cS[15] = int[](1,1,1,1,0,0,1,1,1,0,0,1,1,1,1);\nint cT[15] = int[](1,1,1,0,1,0,0,1,0,0,1,0,0,1,0);\nint cU[15] = int[](1,0,1,1,0,1,1,0,1,1,0,1,1,1,1);\nint cV[15] = int[](1,0,1,1,0,1,1,0,1,1,1,0,1,0,0);\nint cW[15] = int[](1,0,1,1,0,1,1,0,1,1,1,1,1,0,1);\nint cX[15] = int[](1,0,1,1,0,1,0,1,0,1,0,1,1,0,1);\nint cY[15] = int[](1,0,1,1,0,1,1,1,1,0,1,0,0,1,0);\nint cZ[15] = int[](1,1,1,0,0,1,0,1,0,1,0,0,1,1,1);\nint c0[15] = int[](1,1,1,1,0,1,1,0,1,1,0,1,1,1,1);\nint c1[15] = int[](0,1,0,0,1,0,0,1,0,0,1,0,0,1,0);\nint c2[15] = int[](1,1,1,0,0,1,1,1,1,1,0,0,1,1,1);\nint c3[15] = int[](1,1,1,0,0,1,1,1,1,0,0,1,1,1,1);\nint c4[15] = int[](1,0,0,1,0,0,1,1,0,1,1,1,0,1,0);\nint c5[15] = int[](1,1,1,1,0,0,1,1,1,0,0,1,1,1,1);\nint c6[15] = int[](1,1,1,1,0,0,1,1,1,1,0,1,1,1,1);\nint c7[15] = int[](1,1,1,0,0,1,0,0,1,0,0,1,0,0,1);\nint c8[15] = int[](1,1,1,1,0,1,1,1,1,1,0,1,1,1,1);\nint c9[15] = int[](1,1,1,1,0,1,1,1,1,0,0,1,1,1,1);\n\n// thx iq! https://iquilezles.org/articles/distfunctions/\nfloat smin( float d1, float d2, float k ) {\n    float h = clamp( 0.5 + 0.5*(d2-d1)/k, 0.0, 1.0 );\n    return mix( d2, d1, h ) - k*h*(1.0-h); \n}\n\nfloat baseFontShape(vec2 p, float i){\n    float size = BASE_FONT_SIZE;\n    float d = length(p)-(size-(cos(10.*(100.+iTime)*(i+1.0)*.2)*(size*0.5)));\n    float d2 = length(p)-size;\n    d = min(d,d2);\n    return d;\n}\n\nfloat chars(vec2 p, int[15] data, float n){\n    vec2 prevP  = p;\n    float size = BASE_FONT_SIZE;\n    float d = 10.;\n    float k = size+0.05;\n    for(int i = 0; i<data.length(); i++){\n        p = prevP;\n        p.x-=(float(i%3)*(size*2.))-(size*2.);\n        p.y+=(float(i/3)*(size*2.))-(size*4.);\n        \n        if(data[i] == 1){\n            float d2 = baseFontShape(p,sin(float(i))*n);\n            d = smin(d,d2,k);\n        }\n    }\n    return d;\n}\n\nfloat drawFont(vec2 p, int char, float n){\n    float d = 10.;\n    if(char == 0) {\n        d = chars(p,c0,n);\n    } else if(char == 1) {\n        d = chars(p,c1,n);\n    } else if(char == 2) {\n        d = chars(p,c2,n);\n    } else if(char == 3) {\n        d = chars(p,c3,n);\n    } else if(char == 4) {\n        d = chars(p,c4,n);\n    } else if(char == 5) {\n        d = chars(p,c5,n);\n    } else if(char == 6) {\n        d = chars(p,c6,n);\n    } else if(char == 7) {\n        d = chars(p,c7,n);\n    } else if(char == 8) {\n        d = chars(p,c8,n);\n    } else if(char == 9) {\n        d = chars(p,c9,n);\n    } else if(char == 10) {\n        d = chars(p,cA,n);\n    } else if(char == 11) {\n        d = chars(p,cB,n);\n    } else if(char == 12) {\n        d = chars(p,cC,n);\n    } else if(char == 13) {\n        d = chars(p,cD,n);\n    } else if(char == 14) {\n        d = chars(p,cE,n);\n    } else if(char == 15) {\n        d = chars(p,cF,n);\n    } else if(char == 16) {\n        d = chars(p,cG,n);\n    } else if(char == 17) {\n        d = chars(p,cH,n);\n    } else if(char == 18) {\n        d = chars(p,cI,n);\n    } else if(char == 19) {\n        d = chars(p,cJ,n);\n    } else if(char == 20) {\n        d = chars(p,cK,n);\n    } else if(char == 21) {\n        d = chars(p,cL,n);\n    } else if(char == 22) {\n        d = chars(p,cM,n);\n    } else if(char == 23) {\n        d = chars(p,cN,n);\n    } else if(char == 24) {\n        d = chars(p,cO,n);\n    } else if(char == 25) {\n        d = chars(p,cP,n);\n    } else if(char == 26) {\n        d = chars(p,cQ,n);\n    } else if(char == 27) {\n        d = chars(p,cR,n);\n    } else if(char == 28) {\n        d = chars(p,cS,n);\n    } else if(char == 29) {\n        d = chars(p,cT,n);\n    } else if(char == 30) {\n        d = chars(p,cU,n);\n    } else if(char == 31) {\n        d = chars(p,cV,n);\n    } else if(char == 32) {\n       d = chars(p,cW,n);\n    } else if(char == 33) {\n       d = chars(p,cX,n);\n    } else if(char == 34) {\n       d = chars(p,cY,n);\n    } else if(char == 35) {\n       d = chars(p,cZ,n);\n    }\n    \n    return d;\n}\n\nfloat backOut(float t) {\n  float f = 1.0 - t;\n  return 1.0 - (pow(f, 3.0) - f * sin(f * 3.1415));\n}\n\nfloat cubicInOut(float t) {\n  return t < 0.5\n    ? 4.0 * t * t * t\n    : 0.5 * pow(2.0 * t - 2.0, 3.0) + 1.0;\n}\n\nfloat getTime(float t, float duration){\n    return clamp(t,0.0,duration)/duration;\n}\n\nfloat numberAnim(vec2 p, float speed, float n){\n    float morphVal = 0.;\n    float frame = mod(iTime*speed,10.0);\n    float time = frame;\n    \n    float duration = 0.7;\n    float d = drawFont(p,0,n);\n    if(frame>=0. && frame<1.){\n        time = getTime(time,duration);\n        morphVal = backOut(time);\n        d = mix(drawFont(p,0,n),drawFont(p,1,n),morphVal);\n    } else if(frame>=1. && frame<2.){\n        time = getTime(time-1.,duration);\n        morphVal = backOut(time);\n        d = mix(drawFont(p,1,n),drawFont(p,2,n),morphVal);\n    } else if(frame>=2. && frame<3.){\n        time = getTime(time-2.,duration);\n        morphVal = backOut(time);\n        d = mix(drawFont(p,2,n),drawFont(p,3,n),morphVal);\n    } else if(frame>=3. && frame<4.){\n        time = getTime(time-3.,duration);\n        morphVal = backOut(time);\n        d = mix(drawFont(p,3,n),drawFont(p,4,n),morphVal);\n    } else if(frame>=4. && frame<5.){\n        time = getTime(time-4.,duration);\n        morphVal = backOut(time);\n        d = mix(drawFont(p,4,n),drawFont(p,5,n),morphVal);\n    } else if(frame>=5. && frame<6.){\n        time = getTime(time-5.,duration);\n        morphVal = backOut(time);\n        d = mix(drawFont(p,5,n),drawFont(p,6,n),morphVal);\n    } else if(frame>=6. && frame<7.){\n        time = getTime(time-6.,duration);\n        morphVal = backOut(time);\n        d = mix(drawFont(p,6,n),drawFont(p,7,n),morphVal);\n    } else if(frame>=7. && frame<8.){\n        time = getTime(time-7.,duration);\n        morphVal = backOut(time);\n        d = mix(drawFont(p,7,n),drawFont(p,8,n),morphVal);\n    } else if(frame>=8. && frame<9.){\n        time = getTime(time-8.,duration);\n        morphVal = backOut(time);\n        d = mix(drawFont(p,8,n),drawFont(p,9,n),morphVal);\n    } else if(frame>=9. && frame<10.){\n        time = getTime(time-9.,duration);\n        morphVal = backOut(time);\n        d = mix(drawFont(p,9,n),drawFont(p,0,n),morphVal);\n    }\n\n    return d;\n}\n\nfloat random (vec2 p) {\n    return fract(sin(dot(p.xy, vec2(12.9898,78.233)))* 43758.5453123);\n}\n\nfloat dots(vec2 p){\n    float size = BASE_FONT_SIZE;\n    p = mod(p,size)-(size*0.5);\n    float d = length(p)-0.002;\n    return d;\n}\n\nfloat plus(vec2 p){\n    float d = min(B(p,vec2(0.001,0.015)),B(p,vec2(0.015,0.001)));\n    return d;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 p = (fragCoord-0.5*iResolution.xy)/iResolution.y;\n    vec2 prevP = p;\n    vec3 col = vec3(0.);\n    \n    p.y-=100.+iTime*0.2;\n    float d = dots(p);\n    col = mix(col,vec3(0.8),S(d,0.));\n    \n    p = prevP;\n    \n    p.x+=1.;\n    p.y+=1.;\n    p*=2.5;\n    p.y-=100.+iTime*0.5;\n    vec2 gv = fract(p)-0.5;\n    vec2 id = floor(p);\n\n    float n = random(id)*35.0;\n    int char = int(n);\n    \n    d = 10.;\n    vec3 fontColor = vec3(random(prevP*(iTime+100.)))+0.5;\n    if(char < 15){\n        d = numberAnim(gv,float(n*0.3),sin(n));\n        col = mix(col,vec3(fontColor),S(d,0.));\n    } else {\n        d = drawFont(gv,char,sin(n));\n        col = mix(col,vec3(fontColor),S(d,0.));\n    }\n    col = mix(col,vec3(0.6),S(abs(d)-0.003,0.));\n    \n    p = prevP;\n    \n    p.y-=iTime*0.2;\n    p = mod(p,0.4)-0.2;\n    d = plus(p);\n    col = mix(col,vec3(1.),S(d,0.));    \n    \n    fragColor = vec4(col,1.0);\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}