{
    "Shader": {
        "info": {
            "date": "1506015805",
            "description": "A simple Mandelbrot shader.",
            "flags": 0,
            "hasliked": 0,
            "id": "Xtsczl",
            "likes": 2,
            "name": "Trippe Mandelbrot ",
            "published": 3,
            "tags": [
                "fractal"
            ],
            "usePreview": 0,
            "username": "Mrfixit13",
            "viewed": 557
        },
        "renderpass": [
            {
                "code": "float maxIterations = 1024.0;\n\n\n\nfloat calcMadelbrot(vec2 p0)\n{\n   vec2 p=vec2(0.0,0.0);\n    \n    for(float i = 0.0;i < maxIterations;i++)\n    {        \n     \tif(length(p) > 3.1)\n            return i-log(log(length(p))/log(2.0))/log(2.0);\n\n     \tfloat x = p.x*p.x-p.y*p.y+p0.x;    \n     \tp.y = 2.0*p.y*p.x + p0.y;\n     \tp.x = x;\n    }\n    \n    return maxIterations;\n}\n\n/*\nfloat calcMadelbrot(vec2 p0)\n{\n   vec2 p=vec2(0.0,0.0);\n   vec2 pp = p*p;\n\n    for(float i = 0.0;i < maxIterations;i++)\n\t{    \n     \tif(pp.x+pp.y > 9.61f)    \n    \t\treturn i-log(log(length(p))/log(2.0))/log(2.0);\n\t\t\n        p.y=(p.x+p.y)*(p.x+p.y)-pp.x-pp.y;\n        p.y+=p0.y;\n        p.x=pp.x-pp.y+p0.x;\n        pp=p*p;        \n    }\n   \n    return maxIterations;\n}\n*/\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float scale = exp(float(iTime)/8.0-3.0);\n    \n    vec2 uv = (((fragCoord.xy) / iResolution.yy) - iMouse.xy/iResolution.yy)/scale;\n    uv+=vec2(-0.745428,0.113009);\n    //uv+=vec2(-1.7682823,0.0034376);\n    \n    vec4 color = vec4(0);\n    \n   \tfloat n =calcMadelbrot(uv);\n    \n    float temp = float(n)/float(1024.0);\n   \tcolor += (n==maxIterations)?vec4(0.0):texture(iChannel0 ,vec2(mod((temp+iTime/128.0), 1.0f),mod((temp+iTime/129.0), 1.0f)));\n    \n\t//fragColor = (sin(temp*3.14)-0.05)*vec4(1.0,0.5,0.25,1)*10.0;\n   \tfragColor = color;    \n}",
                "description": "",
                "inputs": [
                    {
                        "channel": 0,
                        "ctype": "texture",
                        "id": 30,
                        "published": 1,
                        "sampler": {
                            "filter": "linear",
                            "internal": "byte",
                            "srgb": "false",
                            "vflip": "true",
                            "wrap": "repeat"
                        },
                        "src": "/media/a/f735bee5b64ef98879dc618b016ecf7939a5756040c2cde21ccb15e69a6e1cfb.png"
                    }
                ],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}