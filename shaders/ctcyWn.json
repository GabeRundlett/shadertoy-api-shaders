{
    "Shader": {
        "info": {
            "date": "1699030612",
            "description": "Graphic Design Experiment 9",
            "flags": 0,
            "hasliked": 0,
            "id": "ctcyWn",
            "likes": 24,
            "name": "Graphic Design Experiment 9",
            "published": 3,
            "tags": [
                "graphicdesign",
                "cineshader"
            ],
            "usePreview": 0,
            "username": "yasuo",
            "viewed": 1104
        },
        "renderpass": [
            {
                "code": "#define Rot(a) mat2(cos(a),-sin(a),sin(a),cos(a))\n#define antialiasing(n) n/min(iResolution.y,iResolution.x)\n#define S(d,b) smoothstep(antialiasing(1.5),-antialiasing(1.5),d - b)\n#define B(p,s) max(abs(p).x-s.x,abs(p).y-s.y)\n#define deg45 .707\n#define R45(p) (( p + vec2(p.y,-p.x) ) *deg45)\n#define Tri(p,s) max(R45(p).x,max(R45(p).y,B(p,s)))\n#define DF(a,b) length(a) * cos( mod( atan(a.y,a.x)+6.28/(b*8.0), 6.28/((b*8.0)*0.5))+(b-1.)*6.28/(b*8.0) + vec2(0,11) )\n\nfloat random (vec2 p) {\n    return fract(sin(dot(p.xy, vec2(12.9898,78.233)))* 43758.5453123);\n}\n\nvec3 graphicItem0(vec2 p, vec3 col){\n    vec2 prevP = p;\n    float d = length(p-vec2(0.0,0.12))-0.06;\n    float d2 = B(p,vec2(0.025,0.1));\n    d = min(d,d2);\n    d2 = length(p-vec2(0.0,-0.098))-0.0256;\n    d = abs(min(d,d2))-0.007;\n    \n    d2 =  length(p-vec2(0.0,0.12))-0.02;\n    d = min(d,d2);\n    \n    d2 =  length(p-vec2(0.0,0.24))-0.015;\n    d = min(d,d2);    \n    \n    d2 = abs( length(p-vec2(0.0,0.24))-0.03)-0.002;\n    d = min(d,d2);      \n    \n    col = mix(col,vec3(0.8),S(d,0.0));\n    \n    return col;\n}\n\nvec3 graphicItem0Group(vec2 p, vec3 col){\n    vec2 prevP = p;\n    col = graphicItem0(p,col);\n    p.x = abs(p.x)-0.12;\n    p.y-=0.1;\n    col = graphicItem0(p,col);\n    return col;\n}\n\nvec3 graphicItem0Layer(vec2 p, vec3 col){\n    vec2 prevP = p;\n    p.x = abs(p.x);\n    p.y+=iTime*0.1;\n    p*=2.5;\n    vec2 id = floor(p);\n    vec2 gr = fract(p)-0.5;\n    \n    float n = random(id);\n    gr.x+=sin(n*2.)*0.25;\n    gr.y+=sin(n*2.)*0.3+mix(0.0,1.,step(0.9,n));\n    gr*=clamp(n*1.5,0.85,1.5);\n    col = graphicItem0Group(gr,col);\n    \n    return col;\n}\n\nvec3 graphicItem0Layer2(vec2 p, vec3 col){\n    vec2 prevP = p;\n    p.x = abs(p.x)-0.12;\n    p.y+=iTime*0.12;\n    p*=2.;\n    vec2 id = floor(p);\n    vec2 gr = fract(p)-0.5;\n    \n    float n = random(id);\n    gr.x+=sin(n*2.)*0.25;\n    gr.y+=sin(n*2.)*0.3+mix(0.0,1.,step(0.9,n));\n    gr*=clamp(n*1.5,0.6,1.5);\n    col = graphicItem0(gr,col);\n    \n    return col;\n}\n\nfloat hexagon(vec2 p, float animate){\n    p*=Rot(radians(-30.*iTime)*animate);\n    float size = 0.1;\n    float d = B(p,vec2(size-0.02,0.1));\n    p.x = abs(p.x)-size;\n    p.y = abs(p.y)-size*0.35;\n    float a = radians(-120.);\n    d = max(-dot(p,vec2(cos(a),sin(a))),d);\n    return abs(d)-0.003;\n}\n\nvec3 graphicItem1(vec2 p, vec3 col){\n    vec2 prevP = p;\n    float d = hexagon(p,0.0);\n    p.y = abs(p.y)-0.19;\n    float d2 = hexagon(p,0.0);\n    d = min(d,d2);\n    p = prevP;\n    p.x = abs(p.x)-0.16;\n    p.y = abs(p.y)-0.09;\n    d2 = hexagon(p,1.);\n    d = min(d,d2);\n    col = mix(col,vec3(0.7),S(d,0.0));\n    return col;\n}\n\nvec3 graphicItem1Layer(vec2 p, vec3 col){\n    vec2 prevP = p;\n    p.x = abs(p.x)-0.3;\n    p.y+=iTime*0.15;\n    p.y+=0.2;\n    p*=2.1;\n    vec2 id = floor(p);\n    vec2 gr = fract(p)-0.5;\n    \n    float n = random(id);\n    gr.x+=sin(n*10.)*0.1;\n    gr.y+=sin(n*10.)*0.1+mix(0.0,1.,step(0.9,n));\n    gr*=Rot(n*2.);\n    gr*=clamp(n*2.5,0.85,2.5);\n    col = graphicItem1(gr,col);\n    \n    return col;\n}\n\nvec3 graphicItem2(vec2 p, vec3 col){\n    \n    float d = 10.;\n    for(float i = 0.; i<3.; i++){\n        \n        p = abs(p)-0.01;\n        p*=Rot(radians(45.0+(30.0*iTime)));\n        p.y+=0.05;\n        p*=1.6;\n        \n        vec2 prevP = p;\n\n        p.y+=0.2;\n        p.x = abs(p.x);\n        p.x-=0.22;\n        p*=Rot(radians(30.0));\n        d = length(p)-0.4;\n        d = max(-(length(p-vec2(0.15,0.0))-0.31),d);\n\n        p = prevP;\n        p.y-=0.4;\n        float d2 = length(p)-0.4;\n        d2 = max(-(length(p-vec2(0.0,0.15))-0.31),d2);\n        d = min(d,d2);\n\n        p = prevP;\n        p.y-=0.05;\n        d2 = abs(length(p)-0.35)-0.05;\n        d = abs(min(d,d2))-0.01;\n    }\n    \n    col = mix(col,vec3(0.4),S(d,0.0));\n     \n    return col;\n}\n\nvec3 graphicItem2Layer(vec2 p, vec3 col){\n    vec2 prevP = p;\n    \n    p*=0.9;\n    \n    p.x+=0.5;\n    p.y+=iTime*0.2;\n    p.y+=0.5;\n    \n    vec2 id = floor(p);\n    vec2 gr = fract(p)-0.5;\n    \n    float n = random(id);\n    gr.y+=sin(n*50.)*0.2;\n    gr*=clamp(n*1.,0.6,1.);\n    col = graphicItem2(gr,col);\n    \n    return col;\n}\n\nfloat circleAnimation(vec2 p, float size, float lineWidth, float dir, float b){\n    vec2 prevP = p;\n    p*=Rot(radians(20.*iTime*dir));\n    float d = abs(abs(length(p)-0.5)-size)-lineWidth;\n    \n    p = DF(p,b);\n    p-=0.007;\n    p*=Rot(radians(45.));\n    float d2 = B(p,vec2(0.02,1.));\n    \n    d = max(-d2,d);\n    return d;\n}\n\nfloat graphicItem3(vec2 p){\n    float d = B(p,vec2(0.008,0.08));\n    float d2 = B(p,vec2(0.08,0.008));\n    d = min(d,d2);\n    return d;\n}\n\nvec3 lineGraphicsLayer(vec2 p, vec3 col){\n    vec2 prevP = p;\n    p.x = abs(p.x);\n    p.y+=iTime*0.08;\n    p*=4.;\n    \n    vec2 id = floor(p);\n    vec2 gr = fract(p)-0.5;\n\n    float n = random(id);\n    gr*=Rot(radians(mix(0.0,90.,step(0.5,n))));\n    \n    float lineWidth = 0.008;\n    vec3 lineColor = vec3(0.3);\n    gr*=Rot(radians(45.));\n    gr.x = abs(gr.x)-0.707;\n    float d = circleAnimation(gr,0.14,lineWidth,-1.0,2.);\n    col = mix(col,lineColor,S(d,-0.001));\n    d = abs(abs(length(gr)-0.5)-0.09)-lineWidth;\n    col = mix(col,lineColor,S(d,-0.001));\n    d = circleAnimation(gr,0.03,lineWidth,1.0,2.);\n    col = mix(col,lineColor,S(d,-0.001));\n    d = abs(abs(length(gr)-0.5)-0.19)-lineWidth;\n    col = mix(col,lineColor,S(d,-0.001));\n    return col;\n}\n\nvec3 lineGraphicsLayer2(vec2 p, vec3 col){\n    vec2 prevP = p;\n    p.y+=iTime*0.08;\n    p*=4.;\n    p-=0.5;\n    vec2 id = floor(p);\n    vec2 gr = fract(p)-0.5;\n\n    float n = random(id);\n    \n    float lineWidth = 0.008;\n    vec3 lineColor = vec3(0.6);\n\n    float d = mix(0.0,step(0.5,n),circleAnimation(gr,0.35,lineWidth,1.,1.5));\n    float d2 = mix(0.0,step(0.5,n),circleAnimation(gr,0.3,lineWidth,-1.,1.5));\n    d = min(d,d2);\n    d2 = mix(step(0.5,n),1.0,graphicItem3(gr));\n    d = min(d,d2);\n    col = mix(col,lineColor,S(d,-0.002));\n\n    return col;\n}\n\nvec3 drawGraphics(vec2 p, vec3 col){\n    vec2 prevP = p;\n    \n    col = graphicItem2Layer(p,col);\n    col = lineGraphicsLayer(p,col);\n    col = lineGraphicsLayer2(p,col);\n    col = graphicItem0Layer(p,col);\n    col = graphicItem0Layer2(p,col);\n    col = graphicItem1Layer(p,col);\n    \n    return col;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 p = (fragCoord-0.5*iResolution.xy)/iResolution.y;\n\n    vec3 col = vec3(0.0);\n    col = drawGraphics(p,col);\n    \n    fragColor = vec4(col,1.0);\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}