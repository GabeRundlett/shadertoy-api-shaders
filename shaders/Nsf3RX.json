{
    "Shader": {
        "info": {
            "date": "1616399103",
            "description": "Learning Shader Magic.",
            "flags": 0,
            "hasliked": 0,
            "id": "Nsf3RX",
            "likes": 1,
            "name": "8. Heart!",
            "published": 3,
            "tags": [
                "heart",
                "learning"
            ],
            "usePreview": 0,
            "username": "Sp3cim4n",
            "viewed": 228
        },
        "renderpass": [
            {
                "code": "#define S(a,b,t) smoothstep(a, b, t);\n\n#define HEART_COLOR vec3(1., .05, .05)\n\n// Drag mouse up or down in viewport.\n\nfloat smax(float a, float b,  float k)\n{\n    float h = clamp((b-a)/k + .5, 0., 1.);\n    return mix(a, b, h) + h*(1.-h)*k*.5;\n}\n\nfloat heart(vec2 uv, float b)\n{\n    float r = .25;\n    b *= r + .01;\n    \n    uv.x *= .7;\n    uv.y -= smax(sqrt(abs(uv.x)) * .5, b, .1);\n    uv.y += .1 + b*.5;\n    \n    float d = length(uv);\n    return S(r + b/.5, r-b/.5, d);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord - iResolution.xy * .5)/iResolution.y;\n    vec2 m = iMouse.xy/iResolution.xy;\n    \n    vec3 col = vec3(.0);\n\n    //heart\n    float c = heart(uv, m.y);\n    \n    col = vec3(c * HEART_COLOR);\n    \n    fragColor = vec4(col,1.0);\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}