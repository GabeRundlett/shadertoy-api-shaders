{
    "Shader": {
        "info": {
            "date": "1453991464",
            "description": "some work to do for reduce the code length i thnik. waiting the team golf :)",
            "flags": 0,
            "hasliked": 0,
            "id": "Mdy3Wz",
            "likes": 8,
            "name": "2D Gears Repeat (224c)",
            "published": 3,
            "tags": [
                "2d",
                "gears",
                "code",
                "2tweets",
                "repeat",
                "golf"
            ],
            "usePreview": 0,
            "username": "aiekick",
            "viewed": 827
        },
        "renderpass": [
            {
                "code": "// Created by Stephane Cuillerdier - @Aiekick/2016\n// License Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License.\n// Tuned via XShade (http://www.funparadigm.com/xshade/)\n\n/* FabriceNeyret2 Version */\nvoid mainImage( out vec4 f, vec2 g )\n{\n    f -= f;\n    \n    vec2 s = 2.*mod(floor(g/=1e2), 2.) - 1.,  u;\n       \n    for (int i=0; i<4; i++)\n        \n        u = fract(g = vec2(-g.y,g.x)),\n       \n        f += step(\n            clamp(1.5 * cos( 8.*atan(u.x,u.y) + s.x*s.y*iDate.w*5. + 1.6) \n                  + 6., 5., 7.), \n            length(u) * 12.3\n                 ) / 4.,\n            \n        s.x = -s.x;\n\n}\n\n/* with help of FabriceNeyret2 tricks \nvoid mainImage( out vec4 f, vec2 g )\n{\n    g/=1e2;\n    \n    f -= f;\n    \n    vec2 s = sign(mod(floor(g), 2.) - .2),\n        c, u;\n    \n    float w = s.x * s.y * iDate.w * 5., k = 1.5708;\n    \n    for (float i=0.;i<4.;i++)\n    {\n        c = sin(i * k + vec2(k,0));\n        \n        u = fract(mat2(c, -c.y, c.x) * g);\n        \n        f += step(\n            clamp(1.5 * cos(atan(u.x, u.y) * 8. + w + k) + 6., 5., 7.), \n            length(u) * 12.3) / 4.;\n            \n        w = -w;\n    }\n}/**/\n\n/* original 418c\n// inversion for each range\n#define y(a) sign(mod(floor(a), 2.) *.5 - .1)\n#define pi 3.14159\n\n// gear quadrant\nfloat k(vec2 g, float a)\n{\n\tfloat t = iDate.w * y(g.y) * y(g.x) * (a==.5||a==1.5?-5.:5.) + 1.565;\n\tvec2 cs = vec2(cos(a*pi), sin(a*pi));\n    g = abs(fract(g * mat2(cs.x,-cs.y,cs.y,cs.x))) * .123;\n\ta = min(max(.015*(cos(atan(g.x, g.y)*8.+t))+.06,.05),.07);\n\treturn smoothstep(a, a+0.001, length(g)) * .25;\n}\n\nvoid mainImage( out vec4 f, vec2 g )\n{\n    g /= iResolution.y * .3;\n    f = f - f + k(g, 0.) +  k(g, .5) + k(g, 1.) +k(g, 1.5);\n}\n/**/",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}