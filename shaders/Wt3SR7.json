{
    "Shader": {
        "info": {
            "date": "1580586516",
            "description": "Metaballs try...",
            "flags": 0,
            "hasliked": 0,
            "id": "Wt3SR7",
            "likes": 0,
            "name": "LazyBalls",
            "published": 3,
            "tags": [
                "metaballs"
            ],
            "usePreview": 0,
            "username": "hanabi",
            "viewed": 290
        },
        "renderpass": [
            {
                "code": "struct Ball {\n\tvec2 pos;\n    vec2 speed;\n    float s;\n    vec4 color;\n};\n\nvoid move(inout Ball box, float fFrame) {\n    float xPos = box.pos.x + box.speed.x * fFrame;\n    box.pos.x = mod(xPos, iResolution.x);\n    float tx = floor(mod(xPos / iResolution.x, 2.0));\n    box.pos.x = ((1. - tx) * box.pos.x) + (tx * (iResolution.x - box.pos.x));\n    \n    float yPos = box.pos.y + box.speed.y * fFrame;\n    box.pos.y = mod(yPos, iResolution.y);\n    float ty = floor(mod(yPos / iResolution.y, 2.0));\n    box.pos.y = ((1. - ty) * box.pos.y) + (ty * (iResolution.y - box.pos.y));\n}\n    \nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n    float fFrame = float(iFrame) / 1.;\n    \n    Ball[] balls = Ball[](\n        Ball(\n            iResolution.xy / 2.,\n            vec2(-3., 2),\n            8.,\n            vec4(1., 0., 0., 1.)\n        ),\n        Ball(\n            iResolution.xy / 3.,\n            vec2(-2.3, -1.3 * iResolution.x / iResolution.y),\n            8.,\n            vec4(1., 0., 0., 1.)\n        ),\n        Ball(\n            iResolution.xy / 4.,\n            vec2(1.5, -1.9 * iResolution.y / iResolution.x),\n            8.,\n            vec4(1., 0., 0., 1.)\n        )\n    );\n    \n    fragColor = vec4(0., 0., 0., 1.0);\n    \n    for (int i = 0; i < balls.length(); i++) {\n        Ball ball = balls[i];\n    \tmove(ball, fFrame);\n        float d = distance(fragCoord, ball.pos);\n        float f = inversesqrt(d) * ball.s;\n        f = smoothstep(0.75, 1., f);\n        fragColor += f * ball.color;\n    }\n\n    fragColor.a = 1.0;\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}