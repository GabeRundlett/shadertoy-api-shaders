{
    "Shader": {
        "info": {
            "date": "1566911298",
            "description": "滑稽",
            "flags": 0,
            "hasliked": 0,
            "id": "wlSSWG",
            "likes": 4,
            "name": "滑稽",
            "published": 3,
            "tags": [
                "funny"
            ],
            "usePreview": 0,
            "username": "mibai",
            "viewed": 398
        },
        "renderpass": [
            {
                "code": "#define BLUR 0.008\n\nfloat Circle(vec2 uv,vec2 center,float radiu){\n\tuv-=center;\n    return smoothstep(radiu+BLUR,radiu-BLUR,length(uv));\n}\n\nvoid override(float threshold,vec3 tarCol,inout vec3 col){\n\tcol=mix(col,tarCol,threshold);\n}\nvoid _eyebox(vec2 uv,vec2 center,float d,vec3 overrideCol,inout vec3 col){\n    uv-=center;\n    float t1=smoothstep(uv.y-BLUR,uv.y+BLUR,-0.8*uv.x*uv.x+d);\n    float t2=smoothstep(uv.y+BLUR,uv.y-BLUR,-0.8*uv.x*uv.x);\n    float clamp1=smoothstep(uv.y+BLUR,uv.y-BLUR,-6.*(uv.x+0.2));\n    float clamp2=smoothstep(uv.y+BLUR,uv.y-BLUR,6.*(uv.x-0.2));\n    float roundL=Circle(uv,vec2(0.201,0.0075),d/2.14);\n    float roundR=Circle(uv,vec2(-0.201,0.0075),d/2.14);\n    float res=t1*t2*clamp1*clamp2+(1.-clamp1*clamp2)*(roundL+roundR);\n    override(res,overrideCol,col);\n}\n\nvoid eye(vec2 uv,vec2 center,float mouseX,inout vec3 col){\n\tuv-=center;\n    float d=0.08;\n    //deep yellow eyebox outline\n    _eyebox(vec2(uv.x*0.96,uv.y*0.8),vec2(0.),d,vec3(0.4,0.3,0.1),col);\n    //white eyebox\n    _eyebox(uv,vec2(0.,0.006),d,vec3(1.),col);\n\t\n    //normal x=-0.15\n    float eyeBlack=Circle(uv,vec2(-0.14+mouseX*0.01,0.025),d/1.4);\n    col=clamp(col,0.,1.);\n    col-=eyeBlack;\n}\nvoid mouse(vec2 uv,vec2 center,inout vec3 col){\n    uv-=center;\n    uv.x*=0.76;\n    uv.y*=0.7;\n\tfloat a=Circle(uv,vec2(0.),0.4);\n    float b=Circle(uv,vec2(0.,0.06),0.43);\n    float res= a-a*b;\n    override(res,vec3(0.3,0.2,0.1),col);\n}\nvoid cheek(vec2 uv,vec2 center,inout vec3 col){\n\tuv-=center;\n    uv.x*=2.;\n    uv.y*=3.5;\n    float res=smoothstep(0.3,0.,length(uv));\n    override(res,vec3(1.,0.65,0),col);\n}\n\nvoid brow(vec2 uv,vec2 center,inout vec3 col){   \n\tuv-=center;\n    uv=vec2(uv.x*3.,uv.y*2.2);\n    float d=0.08;\n\tfloat h=0.1;\n    float res=smoothstep(uv.y-BLUR,uv.y+BLUR,-1.5*(uv.x-d)*(uv.x-d)+h)*\n        smoothstep(uv.y+BLUR,uv.y-BLUR,-0.8*uv.x*uv.x);\n    override(res,vec3(0.),col);   \n}\n\nvoid hua_ji(vec2 uv,vec2 center,float mouseX,inout vec3 col){\n\tuv-=center;\n    float threshold=smoothstep(0.7,0.3,length(uv));\n    float res=Circle(uv,vec2(0.),0.7);\n    override(res,vec3(.85+0.6*threshold,.7+0.3*threshold,0.2*threshold),col);\n    //eye\n    eye(vec2(uv.x*0.9,uv.y*0.96),vec2(0.34,0.32),mouseX,col);\n    eye(vec2(uv.x*0.9,uv.y*0.96),vec2(-0.34,0.32),mouseX,col);\n    //mouse\n    mouse(uv,vec2(0,0.05),col);\n    \n    //cheek\n    cheek(uv,vec2(0.38,0.218),col);\n    cheek(uv,vec2(-0.38,0.218),col);\n    \n    //brow\n    brow(uv,vec2(-0.46,0.6),col);\n    brow(vec2(1.-uv.x,uv.y),vec2(0.46,0.6),col);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv=(2.0*fragCoord-iResolution.xy)/iResolution.y;\n    \n    vec3 col=vec3(1.);\n    hua_ji(uv,vec2(0.),2.*(iMouse.x/iResolution.x)-1.,col);\n    fragColor=vec4(col,1.0);\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}