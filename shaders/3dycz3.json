{
    "Shader": {
        "info": {
            "date": "1603315606",
            "description": "mouse control\n[url]https://inktober.com/[/url]\n#inktober2020 themes: [img]https://i.imgur.com/b3gMiu0.png[/img]",
            "flags": 0,
            "hasliked": 0,
            "id": "3dycz3",
            "likes": 30,
            "name": "Fab23 #inktober2020 \"rip\"",
            "published": 3,
            "tags": [
                "spiral",
                "paper",
                "short",
                "golf",
                "inktober2020",
                "fault"
            ],
            "usePreview": 0,
            "username": "FabriceNeyret2",
            "viewed": 520
        },
        "renderpass": [
            {
                "code": "#define rot(a)      mat2( cos(a+vec4(0,11,33,0)) )            // rotation                  \n#define F(h)      ( q.x - sin(.3*(h)) - .3* sin(.79*(h)) )    // fault shape\n\nvoid mainImage(out vec4 O, vec2 U) {    \n    float t=9.,r=t,s,l,h,z, T = 20.*iTime;\n    vec3  R = iResolution,\n          M = iMouse.z > 0. ? iMouse.xyz/R-.5 : vec3(4,2,0)/1e2*cos(iTime+vec3(0,11,0)),\n          D = normalize(vec3( U+U, -1.5*R.y ) - R ),          // ray direction\n          p = vec3(0,0,80), q;                                // marching point along ray \n    \n    for ( O-=O ; O.x < 2. && t > .01 ; O+=.005 )\n        q = p, t=9.,\n        q.yz *= rot(    -6.*M.y),                             // rotations\n        q.xz *= rot(.2 -6.4*M.x),\n        l = dot(q.yz,q.yz),                                   // --- paper roll\n        s = 6.28*( fract( ( sqrt(l) -atan(q.y,q.z) -sqrt(T) ) /6.28 ) -.5), // spiral r = thetaÂ²/2 . cf https://www.desmos.com/calculator/hmjyvcbxqa and https://mathcurve.com/courbes2d.gb/archimede/archimede.shtml\n        t = min( t, l > T-1. ? t: r = max( F(l/2.-5.), abs(s)-.1 )),  // T = rolled lenght\n        h = q.y-T/2.,                                         // h = ripped length\n        \n        t = min( t, max( max( -q.y, h ),                      // --- ripped top paper part\n                   max( -F(h), z = abs( q.z+sqrt(T) ) -.1) )),\n        t = min( t, max(q.y, z) ),                            // --- unripped bottom paper part\n        p += .2*t*D;                                          // step forward = dist to obj          \n   \n    O = exp(-O);                                              // --- coloring\n    if (t<.01 && (t!=r || s<0.) ) O.rg *= 1. - max(0.,sin(.5*(r==t?l/2.-5.:h))-.8); // lines\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}