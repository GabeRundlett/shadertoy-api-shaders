{
    "Shader": {
        "info": {
            "date": "1526387319",
            "description": "an old 4k intro of ours that I recently found the shader code for when going through my files. code is near verbatim, and pretty terrible.",
            "flags": 0,
            "hasliked": 0,
            "id": "Msdfzf",
            "likes": 2,
            "name": "SVatG - 5dpl",
            "published": 3,
            "tags": [
                "intro",
                "old"
            ],
            "usePreview": 0,
            "username": "halcy",
            "viewed": 527
        },
        "renderpass": [
            {
                "code": "vec3 g;\nfloat m(float x, float y) {\n\tx-=g.x;\n\ty-=g.y;\n\tfloat z = 15.0-g.z;\n\tfloat r = (x*x+y*y+z*z)*1.5;\n\tr=min(1.0,r);\n\treturn(2.0*r*r*r-3.0*r*r+1.0);\n}\nint dist_bw_rend(float z_r,float z_i,float c_r,float c_i,float stepsize)\n{\n\tfloat z_r2=z_r*z_r,z_i2=z_i*z_i,dz_r=0.0,dz_i=0.0,tmp;\n\tfor(int iter=0;iter<60;iter++)\n\t{\n\t\ttmp=2.0*(z_r*dz_r-z_i*dz_i)+1.0;\n\t\tdz_i=2.0*(z_r*dz_i+z_i*dz_r);\n\t\tdz_r=tmp;\n\t\tz_i=2.0*z_r*z_i+c_i;\n\t\tz_r=z_r2-z_i2+c_r;\n\t\tz_r2=z_r*z_r;\n\t\tz_i2=z_i*z_i;\n\t\tif(z_r2+z_i2>4.0)\n\t\t{\n\t\t\tfloat z2=z_r*z_r+z_i*z_i;\n\t\t\tfloat dz=sqrt(dz_r*dz_r+dz_i*dz_i);\n\t\t\tfloat dist=log(z2)*sqrt(z2)/dz;\n\t\t\tif(dist<stepsize)\n\t\t\t{\n\t\t\t\tint c=int(dist/stepsize*256.0);\n\t\t\t\treturn(c);\n\t\t\t}\n\t\t\telse return(255);\n\t\t}\n\t}\n\treturn(255);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n\tfloat f = iTime;\n\tf=mod(f,105.0);\n\tvec3 r=normalize(vec3(3.0-0.01*fragCoord.x,1.5-0.01*fragCoord.y,10.0));\n\tg=vec3(0,0,0);\n\tfloat u=200.0;\n\tint c=0;\n\tfloat ball;\n\tfloat bs;\n\tfloat blb; \n\tfloat bbar;\n\tfloat bv;\n\tfloat ba;\n\tfloat bt;\n\tfloat bg;\n\tfloat balls;\n\tfloat cubefield;\n\tfloat tori;\n\tfloat tori2;\n\tfloat blobs;\n\tfor(int c2=0;c2<150;c2++){\n\t\tvec3 p=g;\n\t\tfloat sinescape = 3.0+sin(p.x+1.5)-p.y+sin(p.z-f*50.0);\n\t\tfloat sinescape2 = min(sinescape, 3.0+sin(p.x+1.5)+p.y+sin(p.z-f*50.0));\n\t\tfloat small = 0.0000001;\n\t\tfloat sunrise = cosh(p.x) * small*small*small*small + sinescape;\n\t\tball = abs((p.x*p.x+p.y*p.y)-0.1);\n\t\tvec3 e;\n\t\tvec3 d;\n\t\tp.z+=f*3.0;\n\t\te = p;\n\t\td = p;\n\t\te.x -= 0.5;\n\t\te.y -= 0.5;\n\t\td.y -= 0.5;\n\t\tp -= floor(p);\n\t\te -= floor(e);\n\t\td -= floor(d);\n\t\tp -= 0.5;\n\t\te -= 0.5;\n\t\td -= 0.5;\n\t\tballs = abs((p.x*p.x+p.y*p.y+p.z*p.z)-0.1);\n\t\tcubefield = max(max(abs(p.x),abs(p.y)),abs(p.z)) - 0.2;\n\t\ttori = length(vec2(length(e.xy)-0.3,e.z))-0.05;\n\t\ttori2 = length(vec2(length(d.xz)-0.3,d.y))-0.05;\n\t\tfloat t = cos(f) * p.z + sin(f)*0.2;\n\t\tp.x = p.x * cos(t) - p.y * sin(t);\n\t\tp.y = p.x * sin(t) - p.y * cos(t);\n\t\tfloat balls2 = abs((p.x*p.x+p.y*p.y+p.z*p.z)-0.1);\n\t\tfloat twistfield = max(max(abs(p.x),abs(p.y)),abs(p.z)) - 0.2;\n\t\tfloat start = (balls+ball)/(20.0+smoothstep(10.0,0.0,f)*50.0);\n\t\tfloat qfield = (balls2+twistfield)/2.0;\n\t\tif( f < 40.0 ) {\n\t\t\tu = start * smoothstep(18.0,0.0,f) + \n\t\t\t\tballs * smoothstep(15.0,18.0,f) * smoothstep(24.0,21.0,f)+ \n\t\t\t\tballs2 * smoothstep(22.0,25.0,f) * smoothstep(32.0,29.0,f) +\n\t\t\t\tcubefield * smoothstep(29.0,33.0,f) * smoothstep(40.0,37.0,f) +\n\t\t\t\ttwistfield * smoothstep(38.0,41.0,f) * smoothstep(45.0,43.0,f);\n\t\t} else if( f < 80.0 ) {\n\t\t\tu = twistfield * smoothstep(38.0,41.0,f) * smoothstep(45.0,43.0,f) +\n\t\t\t\tsunrise * smoothstep(43.0,44.0,f) * smoothstep(50.0,43.0,f) + \n\t\t\t\tsinescape * smoothstep(44.0,45.0,f) * smoothstep(48.0,46.0,f) +\n\t\t\t\t(balls+ball)/40.0 * smoothstep(48.0,49.0,f)*smoothstep(54.0,52.0,f) + \n\t\t\t\t(balls+ball)/40.0 * smoothstep(60.4,60.45,f)*smoothstep(65.1,65.0,f) +\n\t\t\t\tqfield * smoothstep(61.0,62.1,f) * smoothstep(65.0,64.0,f) +\n\t\t\t\tcubefield * smoothstep(64.0,66.0,f) * smoothstep(71.0,70.0,f) +\n\t\t\t\tcubefield * smoothstep(70.0,71.0,f) * smoothstep(78.0,77.0,f) +\n\t\t\t\tmin(tori2,tori) * smoothstep(77.0,78.0,f) * smoothstep(85.0,84.0,f);\n\t\t} else {\n\t\t\tblobs = 0.5;\n\t\t\tfor( float i = 0.0; i < 5.0; i++ ) {\n\t\t\t\tvec3 d = vec3(sin(f*2.0*cos(i*1243342.0)+i*20000.0),cos(i*200321.0)+sin(f*3.0+cos(i*20321.0)),10.0+sin(i*31233.0)*4.0)-g;\n\t\t\t\tfloat r = (d.x*d.x+d.y*d.y+d.z*d.z)*1.5;\n\t\t\t\tr=min(1.0,r);\n\t\t\t\tblobs-=(2.0*r*r*r-3.0*r*r+1.0);\n\t\t\t}\n\t\t\tfloat b1 = m(0.0,-1.5);\n\t\t\tbs = 0.5\t-m(1.0,-1.5)\n\t\t\t\t\t\t-b1\n\t\t\t\t\t\t-m(1.5,-0.5)\n\t\t\t\t\t\t-m(0.5,0.0)\n\t\t\t\t\t\t-m(-0.5,0.5)\n\t\t\t\t\t\t-m(0.0,1.5)\n\t\t\t\t\t\t-m(1.0,1.5);\n\t\t\tblb = 0.5 -m(1.0,-1.5)\n\t\t\t\t\t\t-m(1.0,-0.5)\n\t\t\t\t\t\t-m(1.0,0.5);\n\t\t\tbbar = blb-m(-1.0,-1.5)\n\t\t\t\t\t\t-m(-1.0,-0.5)\n\t\t\t\t\t\t-m(-1.0,0.5);\n\t\t\tbv = bbar -m(0.0,1.0);\n\t\t\tba = bbar -b1\n\t\t\t\t\t\t-m(0.0,-0.2)\n\t\t\t\t\t\t+0.2;\n\t\t\tbt = 0.5 \t-b1\n\t\t\t\t  \t\t-m(0.0,-0.5)\n\t\t\t\t \t\t-m(0.0,0.5)\n\t\t\t\t\t\t-m(-1.0,-1.5)\n\t\t\t\t\t\t-m(1.0,-1.5);\n\t\t\tbg = blb\t-b1\n\t\t\t\t\t\t-m(0.0,1.0)\n\t\t\t\t\t\t-m(-1.0,0.5)*0.6\n\t\t\t\t\t\t-m(-0.3,-0.2)*0.6;\n\t\t\tu = min(tori2,tori) * smoothstep(77.0,78.0,f) * smoothstep(85.0,84.0,f) +\n\t\t\t\tmin(sinescape2, blobs) * smoothstep(84.0,85.0,f) * smoothstep(89.0,88.0,f) +\n\t\t\t\tmin(sinescape2, bs) * smoothstep(88.0,89.0,f) * smoothstep(91.0,90.0,f) +\n\t\t\t\tmin(sinescape2, bv) * smoothstep(90.0,91.0,f) * smoothstep(93.0,92.0,f) +\n\t\t\t\tmin(sinescape2, ba) * smoothstep(92.0,93.0,f) * smoothstep(95.0,94.0,f) +\n\t\t\t\tmin(sinescape2, bt) * smoothstep(94.0,95.0,f) * smoothstep(97.0,96.0,f) +\n\t\t\t\tmin(sinescape2, bg) * smoothstep(96.0,97.0,f) * smoothstep(99.0,98.0,f);\n\t\t}\n\t\tg.x+=g.z*0.0003*smoothstep(50.0,51.0,f)*smoothstep(55.0,54.0,f);\n\t\tg.y-=g.x*0.005*smoothstep(50.0,51.0,f)*smoothstep(56.0,55.0,f);\n\t\tg.x+=p.y*0.001*smoothstep(52.0,54.0,f)*smoothstep(67.0,66.0,f);\n\t\tg.y+=p.x*0.001*smoothstep(53.0,55.0,f)*smoothstep(67.0,66.0,f);\n\t\tg.x+=p.y*0.01*smoothstep(61.0,67.1,f)*smoothstep(73.0,72.0,f);\n\t\tg.y+=p.x*0.01*smoothstep(61.0,67.1,f)*smoothstep(73.0,72.0,f);\n\t\tg.x-=p.y*0.01*smoothstep(72.0,72.1,f)*smoothstep(77.0,76.0,f);\n\t\tg.y-=p.x*0.01*smoothstep(72.0,72.1,f)*smoothstep(77.0,76.0,f);\n\t\tg=g+r*u;\n        c = c2;\n        if(u<=0.01) {\n        \tbreak;   \n        }\n\t}\n\tfloat h = f - 55.0;\n\tfloat xm = 0.398;\n\tif( f > 70.0 ) {\n\t\th = f - 81.0;\n\t\txm = 0.399;\n\t}\n\tr.z=1.0;\n\tfloat zr = (r/pow(9.3,h)).x+xm;\n\tfloat zi = (r/pow(9.3,h)).y+0.199;\n\tfloat fr = float(dist_bw_rend(zr,zi,zr,zi,(r/pow(9.8,h)).z));\n\tc+=int(fr*smoothstep(52.0,52.9,f)*smoothstep(61.0,60.0,f));\n\tc+=int(fr*smoothstep(80.0,83.0,f)*smoothstep(84.0,81.0,f));\n\tfragColor.rgb=(\n\t\t\t\t\tvec3(0.6,0.0,0.1)*smoothstep(0.0,1.0,f)*smoothstep(33.0,29.0,f) +\n\t\t\t\t\tvec3(0.0,0.0,0.7)*ball*smoothstep(0.0,1.0,f)*smoothstep(41.0,40.0,f)+\n\t\t\t\t\tvec3(0.0,0.6,0.1)*smoothstep(29.0,33.0,f)*smoothstep(44.0,43.0,f)+\n\t\t\t\t\tvec3(1.0,1.0,1.0)*smoothstep(43.0,44.0,f)*smoothstep(49.0,48.0,f)+\n\t\t\t\t\tvec3(0.6,0.9,0.3)*smoothstep(48.0,49.0,f)*smoothstep(62.0,61.0,f)+\n\t\t\t\t\tvec3(0.5,0.0,0.1)*smoothstep(61.0,62.0,f)*smoothstep(66.0,64.0,f)+\n\t\t\t\t\tvec3(0.1,0.0,0.4)*smoothstep(64.0,66.0,f)*smoothstep(78.0,77.0,f)+\n\t\t\t\t\tvec3(0.0,0.0,0.1)*ball*smoothstep(64.0,66.0,f)*smoothstep(85.0,84.0,f)+\n\t\t\t\t\tvec3(1.0,0.5,0.0)*smoothstep(77.0,78.0,f)\n\t)*float(c)/(75.0);\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}