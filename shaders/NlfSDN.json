{
    "Shader": {
        "info": {
            "date": "1625670073",
            "description": "displays analog clock on vectorscope",
            "flags": 0,
            "hasliked": 0,
            "id": "NlfSDN",
            "likes": 4,
            "name": "vectorscope clock",
            "published": 3,
            "tags": [
                "clock",
                "ycbcr",
                "vectorscope"
            ],
            "usePreview": 0,
            "username": "schobbejack",
            "viewed": 308
        },
        "renderpass": [
            {
                "code": "vec3 to_rgb(vec3 ycbcr)\n{\n    // full range bt709 matrix\n    const mat3 c709=mat3(1.0000000000, 1.0000000000, 1.0000000000,\n                      0.0000000000, -0.1873242729, 1.8556000000,\n                      1.5748000000, -0.4681242729, 0.0000000000);\n    return c709 * ycbcr;\n}\n\nvec2 rot(vec2 uv, float r)\n{\n    float s=sin(r);\n    float c=cos(r);\n    \n    return vec2(uv.x*c-uv.y*s,uv.x*s+uv.y*c);\n}\n\nconst float pi = acos(-1.);\nconst float pi2 = pi*2.;\n\nvec2 vsphere(float x)\n{\n    return vec2(sin(x*pi),cos(x*pi))*.25;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (2.*fragCoord-iResolution.xy)/iResolution.xy;\n    \n    float t = iDate.w;\n    \n    uv.y = uv.y*2.5+sin(t*3.+uv.x*6.)*sin(uv.x*4.)*.3;\n    \n    const float fm[]=float[](1.,60.,3600.,43200.);\n    float m = floor(clamp(uv.y+2.5,1.,4.)-1.);\n    float r = mod(t,fm[int(m)])*(1./fm[int(m)])*pi2;\n        \n    vec2 cbcr=mix(rot(vsphere(uv.x),sin(t)*pi2),rot(vec2(0.0,uv.x*.5+.5),-r)*(0.25-pow(m/3.,.8)*.1),float(uv.y>-1.5));\n    \n    fragColor = vec4(to_rgb(vec3(.5,cbcr)),1.0);\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}