{
    "Shader": {
        "info": {
            "date": "1719471075",
            "description": "/*originals https://www.shadertoy.com/view/DtGyWh https://www.shadertoy.com/view/43cXWB https://www.shadertoy.com/view/433SWB",
            "flags": 0,
            "hasliked": 0,
            "id": "l33SDS",
            "likes": 4,
            "name": "fractal Lattes",
            "published": 3,
            "tags": [
                "fractalcineshader"
            ],
            "usePreview": 0,
            "username": "nayk",
            "viewed": 269
        },
        "renderpass": [
            {
                "code": "#define R(p,a,r)mix(a*dot(p,a),p,cos(r))+sin(r)*cross(p,a)\n#define H(h)(cos((h)*6.3+vec3(50,23,11))*.5+.5)\n#define PI 3.1415926538\n\nvec2 cMul(in vec2 z1, in vec2 z2) {\n    return  mat2(z1,-z1.y,z1.x) * z2;\n}\n\nvec2 cDiv(in vec2 z1, in vec2 z2) {\n    return z1 * mat2(z2,-z2.y,z2.x) / dot(z2,z2);\n}\n\nvec2 lattes(in vec2 z) {\n    vec2 z_2 = cMul(z, z);\n    vec2 numerator = z_2 + vec2(1.0, 0.);\n    numerator = cMul(numerator, numerator);\n    vec2 denom = cMul(vec2(4.0, 0.), cMul(z, z_2 - vec2(1.0, 0.)));\n    return cDiv(numerator, denom);\n}\n\nvec2 lattes_n(in vec2 z, in int n) {\n    vec2 result = z;\n    for (int i =0; i < n; i++) {\n        result = lattes(result);\n    }\n    return result;\n}\n#define S (2.-abs(p.x*sin(.2*p.z)+p.y*cos(.2*p.z)))\nvoid mainImage(out vec4 O, vec2 C)\n{\n    O=vec4(0);\n    vec3 n1,q,r=iResolution,\n    d=normalize(vec3((C*2.-r.xy)/r.y,1)); \n     vec2 p2 = 6. * (2.*C-iResolution.xy) / max(iResolution.x, iResolution.y);\n    vec2 unit = vec2(1., 0.);\n    float factor = sin(iTime * .1);\n    p2 = lattes_n(p2, 3); // 2 fixed points, loxodromic\n   vec3 p;\n    float theta = atan(p2.y, p2.x);\n    float len = length(p2);\n    float x_index = sin( PI* ( theta * 12. / PI - iTime ));\n    float y_index = sin( PI* ( log(len) * 4.  - iTime));\n   \n vec4 O2 = O;\nvec3 p3 = vec3(0,0,-30.+iTime), t = normalize(vec3(C-iResolution.xy*.5,30.));\n    for (float d;d<40.;d+=S)\n    {\n        p3+=t*S;\n        if (S<.001) break;\n    }\n    O2=clamp(2.-abs(mod(100.*ceil(p3.z+iTime)/60.-vec4(0,2,4,1),6.)-3.),0.,1.);\n  \n    \n    float v = x_index*y_index;\n    for(float i=0.,a,s,e,g=0.;\n        ++i<110.;\n        O.xyz+=mix(vec3(1),H(g*.1),sin(.8))*1./e/8e3\n    )\n    {\n        n1=g*d*O2.xyz;\n        \n        a=10.;\n        n1=mod(n1-a,a*2.)-a;\n        s=6.;\n        for(int i=0;i++<8;){\n            n1=.3-abs(n1);\n            \n            n1.x<n1.z?n1=n1.zyx:n1;\n            n1.z<n1.y?n1=n1.xzy:n1;\n            n1.y<n1.x?n1=n1.zyx:n1;\n            \n            s*=e=1.4+sin(iTime*.234)*.1;\n            n1=abs(n1)*e-\n                vec3(\n                    5.+cos(iTime*.3+.5*cos(iTime*.3))*3.,\n                    120,\n                    8.+cos(iTime*.5)*5.\n                 )+v;\n         }\n     \n         g+=e=length(n1.yx+n1.zx)/s;\n    }\n    O*=O2;\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}