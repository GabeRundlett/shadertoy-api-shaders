{
    "Shader": {
        "info": {
            "date": "1471657050",
            "description": "This visualization was created simply by pasting SoundCloud url to the shader.",
            "flags": 96,
            "hasliked": 0,
            "id": "4td3Wj",
            "likes": 0,
            "name": "F-777: Space Battle",
            "published": 3,
            "tags": [
                "music"
            ],
            "usePreview": 0,
            "username": "hopskotchrainbow",
            "viewed": 743
        },
        "renderpass": [
            {
                "code": "vec3 hsv2rgb(vec3 hsv) {\n    float hh; float p; float q; float t; float ff;\n    float i;\n    vec3 rgb;\n    if (hsv.y <= 0.0) {\n        rgb.x = hsv.z;\n        rgb.y = hsv.z;\n        rgb.z = hsv.z;\n        return rgb;\n    } else {\n        hh = hsv.x;\n        hh = mod(hh, 360.0);\n        hh = hh/60.0;\n        i = floor(hh);\n        ff = hh-i;\n        p = hsv.z * (1.0-hsv.y);\n        q = hsv.z * (1.0-(hsv.y-ff));\n        t = hsv.z * (1.0-(hsv.y-(1.0-ff)));\n        if (i == 0.0) {\n            rgb = vec3(hsv.z,t,p);\n        } else if (i == 1.0) {\n            rgb = vec3(q,hsv.z,p);\n        } else if (i == 2.0) {\n            rgb = vec3(p,hsv.z,t);\n        } else if (i == 3.0) {\n            rgb = vec3(p,q,hsv.z);\n        } else if (i == 4.0) {\n            rgb = vec3(t,p,hsv.z);\n        } else {\n            rgb = vec3(hsv.z,p,q);\n        }\n    }\n    return rgb;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    vec4 tex = texture(iChannel1, vec2(uv.x,0.0));\n    vec3 hrg = hsv2rgb(tex.rgb);\n    float swk = tex.x;\n    vec3 color = vec3(0.0,0.0,0.0);\n    float sz = 0.0;\n    if (uv.y < swk) {\n        color = hrg;\n        sz = 1.0;\n    }\n    vec2 hchan = uv-0.5;\n    hchan *= 0.95;\n    hchan += 0.5;\n    vec4 rc = texture(iChannel0, hchan);\n    color = mix(color, rc.rgb, 1.0-tex.b*sz);\n\tfragColor = vec4(color,1.0);\n}",
                "description": "",
                "inputs": [
                    {
                        "channel": 0,
                        "ctype": "buffer",
                        "id": 257,
                        "published": 1,
                        "sampler": {
                            "filter": "linear",
                            "internal": "byte",
                            "srgb": "false",
                            "vflip": "true",
                            "wrap": "clamp"
                        },
                        "src": "/media/previz/buffer00.png"
                    },
                    {
                        "channel": 1,
                        "ctype": "musicstream",
                        "id": 4542,
                        "published": 1,
                        "sampler": {
                            "filter": "linear",
                            "internal": "byte",
                            "srgb": "false",
                            "vflip": "true",
                            "wrap": "clamp"
                        },
                        "src": "https://soundcloud.com/f-777/space-battle-ludicrous-speed-album"
                    }
                ],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            },
            {
                "code": "void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    fragColor = vec4(0.0,0.0,1.0,1.0);\n}",
                "description": "",
                "inputs": [],
                "name": "Buf A",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 257
                    }
                ],
                "type": "buffer"
            }
        ],
        "ver": "0.1"
    }
}