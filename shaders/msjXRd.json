{
    "Shader": {
        "info": {
            "date": "1670791439",
            "description": "inspiration https://www.shadertoy.com/view/mdjXRd\nsquircles = mixture square and circle",
            "flags": 0,
            "hasliked": 0,
            "id": "msjXRd",
            "likes": 5,
            "name": "today i learned: squircles",
            "published": 3,
            "tags": [
                "template"
            ],
            "usePreview": 0,
            "username": "jonasfrey",
            "viewed": 184
        },
        "renderpass": [
            {
                "code": "float f_n_inoutexp(float n, float n_sharpness){\n    n_sharpness = floor(n_sharpness) + mod(floor(n_sharpness),2.); // must be dividable by 2.\n    n = max(0.,min(1., n));\n    return min(pow(n, n_sharpness),pow( n-1., n_sharpness))*pow(2., n_sharpness);\n}\nfloat f_n_dist_square(vec2 o_p){\n    vec2 o_delta = vec2(0.)-o_p;\n    return min(o_delta.x, o_delta.y);\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\n    vec2 o_trpino = (fragCoord.xy - iResolution.xy*0.5)/ iResolution.y;\n    vec2 o_trmono = (iMouse.xy - iResolution.xy*0.5)/ iResolution.y;\n    vec2 o_trmono_nooffset = (iMouse.xy )/ iResolution.y;\n\n    \n    float n_tau = 6.2831;\n    float n_squircles = 10.; \n    vec2 o_delta = vec2(0.0) - o_trpino;\n    float n_ang = atan(o_delta.y, o_delta.x)+(n_tau/2.);\n    float n_ang_nor = n_ang / n_tau;\n    float n_ang_nor_snapped = (floor(n_ang_nor * n_squircles)+0.5) / n_squircles;\n    \n    float n_radius = 0.3;\n    \n    vec2 o_p = vec2(\n        cos(n_ang_nor_snapped*n_tau)*n_radius, \n        sin(n_ang_nor_snapped*n_tau)*n_radius\n    );\n    \n\n    float n_speed = iTime*n_tau+n_ang_nor_snapped*n_tau;\n    float n_dist_squircle = length(\n        pow(o_p-o_trpino, vec2(2.))\n    );\n    n_dist_squircle *= 1000.+sin(n_speed)*900.;\n    float n_dist_square = f_n_dist_square(o_p);\n    //float n = smoothstep(0.1, 0.11, n_dist_squircle);\n    //float n = sin(n_dist_squircle*6.2831*10.);\n    float n = f_n_inoutexp(n_dist_squircle, 2.);\n    n = n*0.1+n*(sin(n_speed+n_tau/2.)*0.5+0.5)*2.;\n    vec4 o_col = vec4(\n        //0.1+0.9*n,\n        //0.1-n*0.2, \n        //0.1-n*0.3, \n        //1.\n        n\n    );\n    fragColor = o_col;\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}