{
    "Shader": {
        "info": {
            "date": "1668880705",
            "description": "A quick Multiple inputs quick test generated in Material Maker",
            "flags": 0,
            "hasliked": 0,
            "id": "mdfXW4",
            "likes": 11,
            "name": "Multiple inputs quick test",
            "published": 3,
            "tags": [
                "materialmaker",
                "shadershrinker"
            ],
            "usePreview": 0,
            "username": "PauloFalcao",
            "viewed": 282
        },
        "renderpass": [
            {
                "code": "// Multiple inputs quick test\n//\n// Generated in Material Maker by PauloFalcao\n//\n//\n// Processed by 'GLSL Shader Shrinker' (Shrunk by 11,817 characters)\n// (https://github.com/deanthecoder/GLSLShaderShrinker)\n\n#define v4\tvec4\n#define v3\tvec3\n#define v2\tvec2\n#define RET\treturn\n#define NM\tnormalize\n#define FC\tfract\n#define _c\tclamp\n#define _f\tfloat\n#define iT\tiTime\n#define iR\tiResolution\n\nfloat SD(v2 p) {\n\tp *= 2.;\n\tv2 i,\n\t   w = max(abs(dFdx(p)), abs(dFdy(p))) + 1e-5;\n\tif (max(w.x, w.y) > 1.) RET mod(floor(p.x) + floor(p.y), 2.);\n\ti = ((1. - abs(2. * FC((p + .5 * w) / 2.) - 1.)) - (1. - abs(2. * FC((p - .5 * w) / 2.) - 1.))) / w;\n\tRET .5 - .5 * i.x * i.y;\n}\n\nvec3 M(v3 p, v3 a) {\n\t_f c = cos(a.x),\n\t   s = sin(a.x);\n\tv3 RV;\n\tRV.x = p.x;\n\tRV.y = p.y * c + p.z * s;\n\tRV.z = -p.y * s + p.z * c;\n\tc = cos(a.y);\n\ts = sin(a.y);\n\tp.x = RV.x * c + RV.z * s;\n\tp.y = RV.y;\n\tp.z = -RV.x * s + RV.z * c;\n\tc = cos(a.z);\n\ts = sin(a.z);\n\tRV.x = p.x * c + p.y * s;\n\tRV.y = -p.x * s + p.y * c;\n\tRV.z = p.z;\n\tRET RV;\n}\n\nfloat A(v3 p) {\n\tv3 w = max(abs(dFdx(p)), abs(dFdy(p))) + 1e-4,\n\t   i = ((1. - abs(2. * FC((p + .5 * w) / 2.) - 1.)) - (1. - abs(2. * FC((p - .5 * w) / 2.) - 1.))) / w;\n\tRET .5 - .5 * i.x * i.y * i.z;\n}\n\nfloat ss(v3 p) {\n\tconst v2 t = v2(.3, .15);\n\tRET length(v2(length(p.xz) - t.x, p.y)) - t.y;\n}\n\nvec3 x3(v3 c) {\n\t_f j = 4096. * sin(dot(c, v3(17, 59.4, 15)));\n\tv3 r;\n\tr.z = FC(512. * j);\n\tj *= .125;\n\tr.x = FC(512. * j);\n\tj *= .125;\n\tr.y = FC(512. * j);\n\tRET r - .5;\n}\n\nfloat Xd(v3 p) {\n\tv3 s = floor(p + dot(p, v3(.3333333))),\n\t   x = p - s + dot(s, v3(.1666667)),\n\t   e = step(v3(0), x - x.yzx),\n\t   F = e * (1. - e.zxy),\n\t   G = 1. - e.zxy * (1. - e),\n\t   X1 = x - F + .1666667,\n\t   X2 = x - G + .33333,\n\t   X3 = x - .5;\n\tv4 w, d;\n\tw.x = dot(x, x);\n\tw.y = dot(X1, X1);\n\tw.z = dot(X2, X2);\n\tw.w = dot(X3, X3);\n\tw = max(.6 - w, 0.);\n\td.x = dot(x3(s), x);\n\td.y = dot(x3(s + F), X1);\n\td.z = dot(x3(s + G), X2);\n\td.w = dot(x3(s + 1.), X3);\n\tw *= w;\n\tw *= w;\n\td *= w;\n\tRET dot(d, v4(52));\n}\n\nvec2 C(v3 y) { RET v2(atan(y.y, y.x), acos(y.z)) / v2(6.28319, 3.1415926); }\n\nfloat S2(v2 p) {\n\tv3 P3 = FC(p.xyx * .1031);\n\tP3 += dot(P3, P3.yzx + 33.33);\n\tRET FC((P3.x + P3.y) * P3.z);\n}\n\nfloat Se(v2 v) {\n\tv2 V1 = floor(v),\n\t   V2 = smoothstep(0., 1., FC(v));\n\tRET mix(mix(S2(V1), S2(V1 + v2(0, 1)), V2.y), mix(S2(V1 + v2(1, 0)), S2(V1 + v2(1)), V2.y), V2.x);\n}\n\nfloat St(v2 p) { RET Se(p) * .5 + Se(p * 2. + 13.) * .25 + Se(p * 4. + 23.) * .15 + Se(p * 8. + 33.) * .1 + Se(p * 16. + 43.) * .05; }\n\nvec3 SR(v3 p) {\n\tv3 v = (St(p.xz * .1) - .5) * v3(1);\n\t_f d = length(p);\n\tRET mix(v3(.15, .3, .6) + v, v3(.2, .5, 1) + v * 12. / max(d, 20.), _c(d * .1, 0., 1.));\n}\n\nvec3 Sr(v3 p) { RET (St(p.xz * .1) * .5 + .25) * v3(.7, .5, .4); }\n\nvec3 S0(v3 RD, v3 sn) {\n\tv3 p, c;\n\tif (RD.y > 0.) {\n\t\tp = RD * 5. / RD.y;\n\t\tc = SR(p);\n\t}\n\telse {\n\t\tp = RD * -10. / RD.y;\n\t\tc = mix(Sr(p), v3(.5, .7, 1), _c(1. - sqrt(-RD.y) * 3., 0., 1.));\n\t}\n\n\t_f z = _c(dot(sn, RD), 0., 1.);\n\tv3 sc = (z > .9997 ? v3(2) : v3(0)) + pow(z, 512.) * 4. + pow(z, 128.) * v3(.5) + pow(z, 4.) * v3(.5);\n\tif (RD.y > 0.) c += v3(.3) * pow(1. - abs(RD.y), 3.) * .7;\n\tRET c + sc;\n}\n\nvec3 Si(v2 p) {\n\tv3 sn = v3(-.68041, .68041, -.27217);\n\tv2 ti = (p * 2. - v2(1)) * v2(3.1415926, 1.5708);\n\tRET S0(v3(cos(ti.y) * cos(ti.x), sin(ti.y), cos(ti.y) * sin(ti.x)), sn);\n}\n\nfloat R(v3 p, _f _) { RET max((p).y + 1., length(v3((p).x, (p).y - 1., (p).z)) - 6.); }\n\nvec3 V(v4 p, _f _) { RET v3(SD((p).xz)) * .9 + .1; }\n\nfloat S(v3 p, _f _) { RET (length(M((p).xyz - v3(0, sin(iT) * .5, 0), v3(iT * 11., iT * 13., iT * 17.) * .01745329) / 1.98) - .4) * 1.98; }\n\nvec4 OT(_f x) {\n\tif (x < 0.) RET v4(.87109398, .87109398, .87109398, 1);\n\tif (x < 1.) RET mix(v4(.87109398, .87109398, .87109398, 1), v4(.230469, .230469, .230469, 1), x);\n\tRET v4(.230469, .230469, .230469, 1);\n}\n\nvec3 W(v4 p, _f _) { RET OT(dot(v3(A(M((p).xyz - v3(0, sin(iT) * .5, 0), v3(iT * 11., iT * 13., iT * 17.) * .01745329) / .198)), v3(1)) / 3.).rgb; }\n\nfloat T(v3 p, _f _) { RET ss((M((p).xyz - v3(1.012, -.001, 0), v3(iT * 29., iT * 31., iT * 33.) * .01745329) / 1.774).yzx) * 1.774; }\n\nfloat om(v3 q, _f _) {\n\t_f P = 0.,\n\t   ve = 0.,\n\t   se = 1.,\n\t   SE = 1.;\n\tfor (int i = 0; i < 6; i++) {\n\t\tve += Xd(q * SE) * se;\n\t\tP += se;\n\t\tSE *= 2.;\n\t\tse *= .5;\n\t}\n\n\tRET ve / P;\n}\n\nfloat Z(_f f, _f _) { RET f * 8.936 - 3.968; }\n\nvec3 X(v4 p, _f _) { RET _c(v3(Z(om((M((p).xyz - v3(1.012, -.001, 0), v3(iT * 29., iT * 31., iT * 33.) * .01745329) / 1.774).xyz * 2. + v3(0), _) * .5 + .5, _)), v3(0), v3(1)); }\n\nfloat U(v3 p, _f _) { RET ss((M((p).xyz - v3(-1.509, -.001, 0), v3(iT * 21., iT * 23., iT * 27.) * .01745329) / 1.774).yzx) * 1.774; }\n\nvec4 ot(_f x) {\n\tif (x < .4) RET v4(0, 0, 1, 1);\n\tif (x < .663636) RET mix(v4(0, 0, 1, 1), v4(1), (x - .4) / .26364);\n\tRET v4(1);\n}\n\nfloat OM(v3 q, _f _) {\n\t_f P = 0.,\n\t   ve = 0.,\n\t   se = 1.,\n\t   SE = 1.;\n\tfor (int i = 0; i < 6; i++) {\n\t\tve += Xd(q * SE) * se;\n\t\tP += se;\n\t\tSE *= 2.;\n\t\tse *= .451;\n\t}\n\n\tRET ve / P;\n}\n\nfloat oc(_f f, _f _) { RET f * 8.936 - 3.968; }\n\nvec3 Y(v4 p, _f _) { RET ot(dot(_c(v3(oc(OM((M((p).xyz - v3(-1.509, -.001, 0), v3(iT * 21., iT * 23., iT * 27.) * .01745329) / 1.774).xyz * 3.77 + v3(0), _) * .5 + .5, _)), v3(0), v3(1)), v3(1)) / 3.).rgb; }\n\nvec3 Q(v2 UV, _f _) { RET Si(v2((UV).x, -(UV).y + 1.)); }\n\nvec2 I(v3 p, _f _) {\n\tv2 sf = v2(999999, 0);\n\t_f m = R(p, _);\n\tif (m < sf.x) sf = v2(m, 1);\n\tm = S(p, _);\n\tif (m < sf.x) sf = v2(m, 2);\n\tm = T(p, _);\n\tif (m < sf.x) sf = v2(m, 3);\n\tm = U(p, _);\n\tif (m < sf.x) sf = v2(m, 4);\n\tRET sf;\n}\n\nvec3 t6(v3 p, _f H, _f _) {\n\tv3 t = v3(0);\n\tif (H > .5 && H < 1.5) t = V(v4(p, H), _);\n\tif (H > 1.5 && H < 2.5) t = W(v4(p, H), _);\n\tif (H > 2.5 && H < 3.5) t = X(v4(p, H), _);\n\tif (H > 3.5 && H < 4.5) t = Y(v4(p, H), _);\n\tRET t;\n}\n\nvec3 O(v3 p, _f _) {\n\tconst v3 e = v3(.001, -.001, 0);\n\t_f V1 = I(p + e.xyy, _).x,\n\t   V2 = I(p + e.yyx, _).x,\n\t   V3 = I(p + e.yxy, _).x,\n\t   V4 = I(p + e.xxx, _).x;\n\tRET NM(v3(V4 + V1 - V3 - V2, V3 + V4 - V1 - V2, V2 + V4 - V3 - V1));\n}\n\nvoid K(inout float d, inout vec3 p, inout vec2 B, v3 RO, v3 RD, _f _) {\n\tfor (int i = 0; i < 500; i++) {\n\t\tp = RO + RD * d;\n\t\tB = I(p, _);\n\t\td += B.x;\n\t\tif (d > 50. || abs(B.x) < 1e-4) break;\n\t}\n}\n\nfloat b(v3 ps, v3 N, _f _) {\n\t_f OC = 0.,\n\t   sa = 1.;\n\tfor (int i = 0; i < 5; i++) {\n\t\t_f h = .001 + .25 * _f(i) / 4.,\n\t\t   d = I(ps + h * N, _).x;\n\t\tOC += (h - d) * sa;\n\t\tsa *= .98;\n\t}\n\n\tRET _c(1. - 1.6 * OC, 0., 1.);\n}\n\nfloat g(v3 RO, v3 RD, _f _) {\n\t_f rs = 1.,\n\t   t = .05;\n\tfor (int i = 0; i < 32; i++) {\n\t\t_f h = I(RO + RD * t, _).x;\n\t\trs = min(rs, 10. * h / t);\n\t\tt += h;\n\t\tif (rs < 1e-4 || t > 5.) break;\n\t}\n\n\tRET _c(rs, 0., 1.);\n}\n\nvec3 r6(v2 UV) {\n\t_f _ = 0.,\n\t   d = 0.;\n\tUV -= .5;\n\tv3 or, J,\n\t   k = v3(sin(sin(iT * .2) * 2.) * 4., 2, sin(cos(iT) * 1.9) * 3.) * 1.338,\n\t   ry = NM(v3(0, .3, 0) - k),\n\t   u = NM(cross(v3(0, 1, 0), ry)),\n\t   RD = NM(ry * 1.864 + u * UV.x + NM(cross(u, ry)) * UV.y),\n\t   RO = k,\n\t   p = v3(0),\n\t   o = v3(0);\n\tv2 B = v2(0);\n\tK(d, p, B, RO, RD, _);\n\tor = t6(p, B.y, _);\n\tJ = v3(.68041, .68041, .27217);\n\tif (d < 50.) {\n\t\tv3 rf, of,\n\t\t   n = O(p, _);\n\t\t_f l = _c(dot(-J, -n), 0., 1.);\n\t\trf = NM(reflect(RD, -n));\n\t\to = min(v3(max(mix(1., g(p, J, _), 1.), .25)), max(l, .25)) * max(mix(1., b(p, n, _), 1.), .25) * or;\n\t\td = .01;\n\t\tK(d, p, B, p, rf, _);\n\t\tof = v3(0);\n\t\tif (d < 50.) {\n\t\t\tof = t6(p, B.y, _);\n\t\t\tn = O(p, _);\n\t\t\tl = _c(dot(-J, -n), 0., 1.);\n\t\t\tof = max(l, .25) * of;\n\t\t}\n\t\telse of = Q(C(rf.xzy), _).xyz;\n\n\t\to = mix(o, of, .144);\n\t}\n\telse o = Q(C(RD.xzy), _).xyz;\n\n\tRET o;\n}\n\nvoid mainImage(out vec4 D, v2 E) {\n\t_f L = min(iR.x, iR.y);\n\tD = v4(r6(v2(0, 1) + v2(1, -1) * (E - .5 * (iR.xy - v2(L))) / L), 1);\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}