{
    "Shader": {
        "info": {
            "date": "1663364813",
            "description": "a little ride to nowhere",
            "flags": 0,
            "hasliked": 0,
            "id": "fldBRB",
            "likes": 34,
            "name": "Are we there yet?",
            "published": 3,
            "tags": [
                "2d",
                "tunnel",
                "minecraft"
            ],
            "usePreview": 0,
            "username": "cmzw",
            "viewed": 819
        },
        "renderpass": [
            {
                "code": "#define AA 2\n\nvoid mainImage( out vec4 O, in vec2 I )\n{\n    vec3 a = vec3(0); vec3 z = vec3(1); vec3 tot = a;\n\n    for( int m=0; m++<AA; )\n    for( int n=0; n++<AA; )\n    {\n        vec2 o = vec2(float(m),float(n)) / float(AA) - .5;\n        vec2 p = (2.*I+o - iResolution.xy) / iResolution.y;\n       \n        float np = normalize(p).x;\n        p *= length(p)*.2+.8;\n        vec2 c = abs(p);\n\n        float s = 9.;\n        float t = iTime*s*2.;\n        float f = max(c.x,c.y);\n        float i = s/f;\n        \n        vec2 it = vec2(i+t,0);\n        vec2 piyx = floor(p*i+it.yx);\n        \n        vec3 x = vec3(hash12(floor(p*i + it.xy)));\n        vec3 y = vec3(hash12(piyx+.1));\n        \n        float g = hash12(piyx+.2);\n        float h = hash12(piyx+.3);\n        \n        float d = step(abs(np),.68);\n        float anp = abs(np);\n        float e0 = step(abs(anp-.5),.08);\n        float e1 = step(abs(anp-.5),.03);\n        float e2 = step(abs(anp-.55),.04);\n        \n        if (p.y < 0.)\n        {\n            y = mix(y,vec3(.7,-.05,-.5)-g*.5, step(sin(it.x+1.5),-.9)*d);\n            y = mix(y,vec3(.9,.2,-.5)+h*.5,  step(sin(it.x+.45),-.8)*d);\n            y -= e0*.4;\n            y = mix(y,vec3(-.2)*h*2.,e1);\n            y = mix(y,vec3(3)-h*1.1,e2);\n        }\n        \n        vec3 col = c.x > c.y ? x : y;   \n        \n        col = .3+col*.25;\n        \n        float ad = abs(-dot(c,vec2(-1,1)));\n        col = mix(col, a, smoothstep(.9,0.,ad)*.6);\n        col = mix(col, a, smoothstep(.2,0.,ad)*.25);\n        col = mix(col, a, smoothstep(.03,0.,ad)*.1);\n        col = mix(col, a, smoothstep(.3,1.5,1.-f));\n        \n        vec3 yy = vec3(.78,.57,.4)*4.5*smoothstep(5.,-.4,length(p));\n\n        col *= mix(col, yy, smoothstep(.2,2.5,length(p)*1.4));\n        col = mix(col, a, smoothstep(.3,3.5,length(p)));\n        \n        tot += col;\n    }   \n    tot /= float(AA*AA);\n   \n    O = vec4(aces_tonemap(tot),0);\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            },
            {
                "code": "float hash12(vec2 p)\n{\n\tvec3 p3  = fract(vec3(p.xyx) * .1031);\n    p3 += dot(p3, p3.yzx + 33.33);\n    return fract((p3.x + p3.y) * p3.z);\n}\n\nvec3 aces_tonemap(vec3 color){\t\n\tmat3 m1 = mat3(\n        0.59719, 0.07600, 0.02840,\n        0.35458, 0.90834, 0.13383,\n        0.04823, 0.01566, 0.83777\n\t);\n\tmat3 m2 = mat3(\n        1.60475, -0.10208, -0.00327,\n        -0.53108,  1.10813, -0.07276,\n        -0.07367, -0.00605,  1.07602\n\t);\n\tvec3 v = m1 * color;    \n\tvec3 a = v * (v + 0.0245786) - 0.000090537;\n\tvec3 b = v * (0.983729 * v + 0.4329510) + 0.238081;\n\treturn pow(clamp(m2 * (a / b), 0.0, 1.0), vec3(1.0 / 2.2));\t\n}",
                "description": "",
                "inputs": [],
                "name": "Common",
                "outputs": [],
                "type": "common"
            }
        ],
        "ver": "0.1"
    }
}