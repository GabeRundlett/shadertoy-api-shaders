{
    "Shader": {
        "info": {
            "date": "1512714403",
            "description": "Cylinder Twist test (bodge)",
            "flags": 0,
            "hasliked": 0,
            "id": "XlsfzX",
            "likes": 3,
            "name": "Twisty Slime Cylinder",
            "published": 3,
            "tags": [
                "cylinder"
            ],
            "usePreview": 0,
            "username": "Del",
            "viewed": 535
        },
        "renderpass": [
            {
                "code": "vec4 Slime(vec2 uv)\n{\n    const vec4 col1 = vec4(0.0,.1,.1,1.0);\n    const vec4 col2 = vec4(0.5,0.9,0.3,1.0);\n    \n    vec4 k = vec4(0.0);\n    \n    float s = sin(iTime*0.1);\n    float s2 = 0.5+sin(iTime*1.8);\n    vec2 d = uv*(3.0+s*.3);\t\t\t\t\t\t// mod 4.0 for irregularity...\n    \n    d.x += iTime*0.3+sin(d.x+d.y + iTime*0.3)*0.5;\n    d.y += iTime*0.15+sin(d.x + iTime*0.3)*0.5;\t//-(s*0.5);\n    float v1=length(0.5-fract(d.xy))+0.55;\t\t\t\t// 0.9 =more gooey bits, 1.2 = less gooey bits\n\n    d = (uv);\t\t\t// zoom\n    float v2=length(0.5-fract(d.xx))-0.175;\t\t// border\n    v1 *= 1.0-v2*v1;\n    v1 = v1*v1*v1;\n    v1 *= 2.9+s2*0.2;\n    k = mix(col2,col1,v1)*(3.2+(s2*0.2));\n    k *= 1.0-(v2);\n    \n    if (k.g<=0.4)\n    {\n        float m = 1.0-clamp(k.g,0.0,0.5);\n\t\tfloat f = mod( floor(6.0*uv.x) + floor(6.0*uv.y), 2.0);\n        float col = 0.3 + 0.2*f*1.0;\n        k.x = k.y = k.z = col*m;\n\t\tk.rb *= 1.2;\n    }\n    else\n    {\n\t\tfloat f = mod( floor(6.0*uv.x) + floor(6.0*uv.y), 2.0);\n        vec4 _col = 0.2*f*vec4(0.175);\n        k+=_col;\n    }\n    return k;\n}\n\n// mirror mod\nfloat pModMirror1(inout float p, float size)\n{\n\tfloat halfsize = size*0.5;\n\tfloat c = floor((p + halfsize)/size);\n\tp = mod(p + halfsize,size) - halfsize;\n\tp *= mod(c, 2.0)*2. - 1.;\n\treturn c;\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = (2.*fragCoord.xy - iResolution.xy)/ iResolution.y;\n    \n    float speed = iTime*0.15;\n    float _fd = iTime*0.4;\n    vec2 cst = vec2( cos(_fd), sin(_fd) );\n    float zoom = 2.0+sin(speed)*0.5;\n    mat2 rot = mat2(cst.x,-cst.y,cst.y,cst.x) * zoom;\n    uv = rot*uv;\n\n\tfloat t = iTime*0.5;\n    \n    uv.y *= 0.5;\n\n    // click mouse for many... :)\n    if (iMouse.z>0.5)\n    {\n        // repeat :)\n        uv *= 1.25;\t\t// extra zoom\n        float dist = abs(sin(iTime*0.9));\n        dist = 2.+smoothstep(0.0,4.0,dist*3.0);\n        pModMirror1(uv.x,dist);\n    }\n\n    float c = abs(uv.x);\t\t// dirty shading bodge...\n    \n\tfragColor = vec4(0.3,0.3,0.6,1.0);\n\t//fragColor = vec4(0.3,0.3,0.6,1.0)*(3.0-c);\n    if (c-0.5 < 0.5)\n    {\n\t\tuv.x = acos(uv.x)/3.14159;\n\t\tuv.x += sin(t+uv.y*0.7);\n        c = acos(c);\n        //c=smoothstep(1.4,0.1,c*c*c*c);\n        fragColor = Slime(uv*3.0)*c;\n        //fragColor=vec4(c);\n    }\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}