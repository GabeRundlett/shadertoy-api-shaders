{
    "Shader": {
        "info": {
            "date": "1580349981",
            "description": "Greensleeves is a classic medieval song. This is a sound shader that plays it based on some MIDI data I had using what's effectively a MIDI player I wrote.",
            "flags": 8,
            "hasliked": 0,
            "id": "wlV3Dc",
            "likes": 4,
            "name": "Greensleeves",
            "published": 3,
            "tags": [
                "sound",
                "audio",
                "midi"
            ],
            "usePreview": 0,
            "username": "EFHIII",
            "viewed": 343
        },
        "renderpass": [
            {
                "code": "/*\nSound text copied from\nhttps://www.shadertoy.com/view/MtyXRW\n*/\n\n#define C(c) U.x-=.5; T+= U.x<.0||U.x>1.||U.y<0.||U.y>1. ?vec4(0): textureGrad(iChannel3, U/16. + fract( vec2(c, 15-c/16) / 16.), dFdx(U/16.),dFdy(U/16.) )\n#define initMsg vec4 T = vec4(0)\n#define endMsg  return length(T.yz)==0. ? 0. : T.x\n\nfloat message(vec2 U) { // to alter in the icon with the alter message\n    vec4 T = vec4(0);   // or: initMsg;\n    C(83);C(111);C(117);C(110);C(100);C(32);C(105);C(110); // message \"Sound in\"\n    return length(T.yz)==0. ? -1. : T.x; // or: endMsg;\n}\n\nfloat getWave(in float time){\n\tfloat Tau=6.2831853;\n \n    float C=Tau*261.6256;\n    \n    return sin(time*C);\n}\n\nfloat func(in float x){\n    float Tau = 6.2831853;\n    float t = (x+iTime/6.)*Tau*2.;\n    float val = -getWave(x*0.01+iTime);\n\treturn val/2.1+0.5;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    if (iResolution.y<2000.) {\n        float c=message((fragCoord/iResolution.y-vec2(.1,.2))*8.);\n    \tif(c>=0.){\n            fragColor=vec4(c);return;\n        }\n    }\n    \n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n\n    // Time varying pixel color\n    vec3 col = 0.5 + 0.5*cos(iTime+uv.xyx+vec3(0,2,4));\n\n   \tfloat mag=50.;\n    float maxV=0.;\n    \n    float val = func(uv.x);\n    if(uv.y>val-0.02&&uv.y<val+0.02){\n\t\tval = (abs(uv.y-val))*mag;\n    \tfragColor = vec4(1.-val,0.,val,1.);\n    }\n    else{\n    \tfragColor=vec4(0.,0.,0.2,1.);\n    }\n}",
                "description": "",
                "inputs": [
                    {
                        "channel": 3,
                        "ctype": "texture",
                        "id": 49,
                        "published": 1,
                        "sampler": {
                            "filter": "mipmap",
                            "internal": "byte",
                            "srgb": "false",
                            "vflip": "true",
                            "wrap": "repeat"
                        },
                        "src": "/media/a/08b42b43ae9d3c0605da11d0eac86618ea888e62cdd9518ee8b9097488b31560.png"
                    }
                ],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            },
            {
                "code": "/*\nADSR- Attack Decay Sustain Release\nNote range- A-440, C0-c6\n\nNote adding\n\n\n*/\n\n/*\nThis is a bare-bones MIDI:\nTime(sec), MIDI(0-88), velocity(0-1), duration(sec)\n*/\n// piano\nconst float midi[1832] = float[1832](0.,64.,0.5039370078740157,0.49895833333333334,0.5,67.,0.5039370078740157,0.9989583333333334,0.5,52.,0.3858267716535433,0.4989583333333333,1.,55.,0.3858267716535433,0.4989583333333334,1.5,69.,0.5039370078740157,0.4989583333333334,1.5,59.,0.3858267716535433,0.4989583333333334,2.,71.,0.5039370078740157,0.7489583333333334,2.,52.,0.3858267716535433,0.4989583333333334,2.5,55.,0.3858267716535433,0.4989583333333334,2.75,72.,0.5039370078740157,0.2489583333333334,3.,71.,0.5039370078740157,0.4989583333333334,3.,59.,0.3858267716535433,0.4989583333333334,3.5,69.,0.5039370078740157,0.9989583333333334,3.5,50.,0.3858267716535433,0.4989583333333334,4.,54.,0.3858267716535433,0.4989583333333334,4.5,66.,0.5039370078740157,0.4989583333333334,4.5,57.,0.3858267716535433,0.4989583333333334,5.,62.,0.5039370078740157,0.7489583333333334,5.,50.,0.3858267716535433,0.4989583333333334,5.5,54.,0.3858267716535433,0.4989583333333334,5.75,64.,0.5039370078740157,0.2489583333333334,6.,66.,0.5039370078740157,0.4989583333333334,6.,57.,0.3858267716535433,0.4989583333333334,6.5,67.,0.5039370078740157,0.9989583333333334,6.5,48.,0.3858267716535433,0.4989583333333334,7.,52.,0.3858267716535433,0.4989583333333334,7.5,64.,0.5039370078740157,0.4989583333333334,7.5,55.,0.3858267716535433,0.4989583333333334,8.,64.,0.5039370078740157,0.7489583333333325,8.,48.,0.3858267716535433,0.4989583333333325,8.5,52.,0.3858267716535433,0.4989583333333325,8.75,63.,0.5039370078740157,0.2489583333333325,9.,64.,0.5039370078740157,0.4989583333333325,9.,55.,0.3858267716535433,0.4989583333333325,9.5,66.,0.5039370078740157,0.9989583333333325,9.5,47.,0.3858267716535433,0.4989583333333325,10.,51.,0.3858267716535433,0.4989583333333325,10.5,63.,0.5039370078740157,0.4989583333333325,10.5,54.,0.3858267716535433,0.4989583333333325,11.,59.,0.5039370078740157,0.9989583333333325,11.,47.,0.3858267716535433,0.4989583333333325,11.5,54.,0.3858267716535433,0.4989583333333325,12.,64.,0.5039370078740157,0.4989583333333325,12.,57.,0.3858267716535433,0.4989583333333325,12.5,67.,0.5039370078740157,0.9989583333333325,12.5,52.,0.3858267716535433,0.4989583333333325,13.,55.,0.3858267716535433,0.4989583333333325,13.5,69.,0.5039370078740157,0.4989583333333325,13.5,59.,0.3858267716535433,0.4989583333333325,14.,71.,0.5039370078740157,0.7489583333333325,14.,52.,0.3858267716535433,0.4989583333333325,14.5,55.,0.3858267716535433,0.4989583333333325,14.75,72.,0.5039370078740157,0.2489583333333325,15.,71.,0.5039370078740157,0.4989583333333325,15.,59.,0.3858267716535433,0.4989583333333325,15.5,69.,0.5039370078740157,0.9989583333333343,15.5,50.,0.3858267716535433,0.4989583333333325,16.,54.,0.3858267716535433,0.4989583333333343,16.5,66.,0.5039370078740157,0.4989583333333343,16.5,57.,0.3858267716535433,0.4989583333333343,17.,62.,0.5039370078740157,0.7489583333333343,17.,50.,0.3858267716535433,0.4989583333333343,17.5,54.,0.3858267716535433,0.4989583333333343,17.75,64.,0.5039370078740157,0.24895833333333428,18.,66.,0.5039370078740157,0.4989583333333343,18.,57.,0.3858267716535433,0.4989583333333343,18.5,67.,0.5039370078740157,0.7489583333333343,18.5,48.,0.3858267716535433,0.4989583333333343,19.,52.,0.3858267716535433,0.4989583333333343,19.25,66.,0.5039370078740157,0.24895833333333428,19.5,64.,0.5039370078740157,0.4989583333333343,19.5,55.,0.3858267716535433,0.4989583333333343,20.,63.,0.5039370078740157,0.7489583333333343,20.,47.,0.3858267716535433,0.4989583333333343,20.5,54.,0.3858267716535433,0.4989583333333343,20.75,61.,0.5039370078740157,0.24895833333333428,21.,63.,0.5039370078740157,0.4989583333333343,21.,59.,0.3858267716535433,0.4989583333333343,21.5,64.,0.5039370078740157,0.9989583333333343,21.5,52.,0.3858267716535433,0.7489583333333343,22.25,57.,0.3858267716535433,0.24895833333333428,22.5,64.,0.5039370078740157,0.4989583333333343,22.5,54.,0.3858267716535433,0.4989583333333343,23.,64.,0.5039370078740157,1.4989583333333343,23.,59.,0.3858267716535433,1.4989583333333343,23.,55.,0.3858267716535433,1.4989583333333343,23.,52.,0.3858267716535433,1.4989583333333343,24.5,74.,0.5039370078740157,1.4989583333333343,24.5,55.,0.3858267716535433,0.4989583333333343,25.,59.,0.3858267716535433,0.4989583333333343,25.5,62.,0.3858267716535433,0.4989583333333343,26.,74.,0.5039370078740157,0.7489583333333343,26.,55.,0.3858267716535433,0.4989583333333343,26.5,59.,0.3858267716535433,0.4989583333333343,26.75,73.,0.5039370078740157,0.24895833333333428,27.,71.,0.5039370078740157,0.4989583333333343,27.,62.,0.3858267716535433,0.4989583333333343,27.5,69.,0.5039370078740157,0.9989583333333343,27.5,50.,0.3858267716535433,0.4989583333333343,28.,54.,0.3858267716535433,0.4989583333333343,28.5,66.,0.5039370078740157,0.4989583333333343,28.5,57.,0.3858267716535433,0.4989583333333343,29.,62.,0.5039370078740157,0.7489583333333343,29.,50.,0.3858267716535433,0.4989583333333343,29.5,54.,0.3858267716535433,0.4989583333333343,29.75,64.,0.5039370078740157,0.24895833333333428,30.,66.,0.5039370078740157,0.4989583333333343,30.,57.,0.3858267716535433,0.4989583333333343,30.5,67.,0.5039370078740157,0.9989583333333343,30.5,48.,0.3858267716535433,0.4989583333333343,31.,52.,0.3858267716535433,0.4989583333333343,31.5,64.,0.5039370078740157,0.4989583333333343,31.5,55.,0.3858267716535433,0.4989583333333343,32.,64.,0.5039370078740157,0.7489583333333343,32.,48.,0.3858267716535433,0.4989583333333343,32.5,52.,0.3858267716535433,0.4989583333333343,32.75,63.,0.5039370078740157,0.24895833333333428,33.,64.,0.5039370078740157,0.4989583333333343,33.,55.,0.3858267716535433,0.4989583333333343,33.5,66.,0.5039370078740157,0.9989583333333343,33.5,47.,0.3858267716535433,0.4989583333333343,34.,51.,0.3858267716535433,0.4989583333333343,34.5,63.,0.5039370078740157,0.4989583333333343,34.5,54.,0.3858267716535433,0.4989583333333343,35.,59.,0.5039370078740157,1.4989583333333343,35.,47.,0.3858267716535433,0.4989583333333343,35.5,54.,0.3858267716535433,0.4989583333333343,36.,57.,0.3858267716535433,0.4989583333333343,36.5,74.,0.5039370078740157,1.4989583333333343,36.5,55.,0.3858267716535433,0.4989583333333343,37.,59.,0.3858267716535433,0.4989583333333343,37.5,62.,0.3858267716535433,0.4989583333333343,38.,74.,0.5039370078740157,0.7489583333333343,38.,55.,0.3858267716535433,0.4989583333333343,38.5,59.,0.3858267716535433,0.4989583333333343,38.75,73.,0.5039370078740157,0.24895833333333428,39.,71.,0.5039370078740157,0.4989583333333343,39.,62.,0.3858267716535433,0.4989583333333343,39.5,69.,0.5039370078740157,0.9989583333333343,39.5,50.,0.3858267716535433,0.4989583333333343,40.,54.,0.3858267716535433,0.4989583333333343,40.5,66.,0.5039370078740157,0.4989583333333343,40.5,57.,0.3858267716535433,0.4989583333333343,41.,62.,0.5039370078740157,0.7489583333333343,41.,50.,0.3858267716535433,0.4989583333333343,41.5,54.,0.3858267716535433,0.4989583333333343,41.75,64.,0.5039370078740157,0.24895833333333428,42.,66.,0.5039370078740157,0.4989583333333343,42.,57.,0.3858267716535433,0.4989583333333343,42.5,67.,0.5039370078740157,0.7489583333333343,42.5,48.,0.3858267716535433,0.4989583333333343,43.,52.,0.3858267716535433,0.4989583333333343,43.25,66.,0.5039370078740157,0.24895833333333428,43.5,64.,0.5039370078740157,0.4989583333333343,43.5,55.,0.3858267716535433,0.4989583333333343,44.,63.,0.5039370078740157,0.7489583333333343,44.,47.,0.3858267716535433,0.4989583333333343,44.5,54.,0.3858267716535433,0.4989583333333343,44.75,61.,0.5039370078740157,0.24895833333333428,45.,63.,0.5039370078740157,0.4989583333333343,45.,59.,0.3858267716535433,0.4989583333333343,45.5,64.,0.5039370078740157,1.4989583333333343,45.5,52.,0.3858267716535433,0.4989583333333343,46.,55.,0.3858267716535433,0.4989583333333343,46.5,59.,0.3858267716535433,0.4989583333333343,47.,64.,0.5039370078740157,0.9989583333333343,47.,59.,0.3858267716535433,1.4989583333333343,47.,55.,0.3858267716535433,1.4989583333333343,47.,52.,0.3858267716535433,1.4989583333333343,48.,76.,0.5039370078740157,0.4989583333333343,48.5,79.,0.5039370078740157,0.9989583333333343,48.5,52.,0.3858267716535433,0.4989583333333343,49.,55.,0.3858267716535433,0.4989583333333343,49.5,81.,0.5039370078740157,0.4989583333333343,49.5,59.,0.3858267716535433,0.4989583333333343,50.,83.,0.5039370078740157,0.7489583333333343,50.,52.,0.3858267716535433,0.4989583333333343,50.5,55.,0.3858267716535433,0.4989583333333343,50.75,84.,0.5039370078740157,0.24895833333333428,51.,83.,0.5039370078740157,0.24895833333333428,51.,59.,0.3858267716535433,0.4989583333333343,51.25,79.,0.5039370078740157,0.24895833333333428,51.5,81.,0.5039370078740157,0.9989583333333343,51.5,50.,0.3858267716535433,0.4989583333333343,52.,54.,0.3858267716535433,0.24895833333333428,52.25,57.,0.3858267716535433,0.24895833333333428,52.5,78.,0.5039370078740157,0.24895833333333428,52.5,62.,0.3858267716535433,0.24895833333333428,52.75,76.,0.5039370078740157,0.24895833333333428,52.75,57.,0.3858267716535433,0.24895833333333428,53.,74.,0.5039370078740157,0.7489583333333343,53.,50.,0.3858267716535433,0.4989583333333343,53.5,54.,0.3858267716535433,0.4989583333333343,53.75,76.,0.5039370078740157,0.24895833333333428,54.,78.,0.5039370078740157,0.24895833333333428,54.,57.,0.3858267716535433,0.4989583333333343,54.25,81.,0.5039370078740157,0.24895833333333428,54.5,79.,0.5039370078740157,0.9989583333333343,54.5,48.,0.3858267716535433,0.4989583333333343,55.,52.,0.3858267716535433,0.24895833333333428,55.25,55.,0.3858267716535433,0.24895833333333428,55.5,76.,0.5039370078740157,0.4989583333333343,55.5,60.,0.3858267716535433,0.24895833333333428,55.75,55.,0.3858267716535433,0.24895833333333428,56.,76.,0.5039370078740157,0.7489583333333343,56.,48.,0.3858267716535433,0.4989583333333343,56.5,52.,0.3858267716535433,0.4989583333333343,56.75,75.,0.5039370078740157,0.24895833333333428,57.,76.,0.5039370078740157,0.24895833333333428,57.,55.,0.3858267716535433,0.4989583333333343,57.25,79.,0.5039370078740157,0.24895833333333428,57.5,78.,0.5039370078740157,0.9989583333333343,57.5,47.,0.3858267716535433,0.4989583333333343,58.,51.,0.3858267716535433,0.24895833333333428,58.25,54.,0.3858267716535433,0.24895833333333428,58.5,75.,0.5039370078740157,0.4989583333333343,58.5,59.,0.3858267716535433,0.24895833333333428,58.75,54.,0.3858267716535433,0.24895833333333428,59.,71.,0.5039370078740157,0.9989583333333343,59.,47.,0.3858267716535433,0.4989583333333343,59.5,54.,0.3858267716535433,0.4989583333333343,60.,76.,0.5039370078740157,0.4989583333333343,60.,57.,0.3858267716535433,0.4989583333333343,60.5,79.,0.5039370078740157,0.9989583333333343,60.5,52.,0.3858267716535433,0.4989583333333343,61.,55.,0.3858267716535433,0.4989583333333343,61.5,81.,0.5039370078740157,0.4989583333333343,61.5,59.,0.3858267716535433,0.4989583333333343,62.,83.,0.5039370078740157,0.7489583333333343,62.,52.,0.3858267716535433,0.4989583333333343,62.5,55.,0.3858267716535433,0.4989583333333343,62.75,84.,0.5039370078740157,0.24895833333333428,63.,83.,0.5039370078740157,0.24895833333333428,63.,59.,0.3858267716535433,0.4989583333333343,63.25,79.,0.5039370078740157,0.24895833333333428,63.5,81.,0.5039370078740157,0.9989583333333343,63.5,50.,0.3858267716535433,0.4989583333333343,64.,54.,0.3858267716535433,0.24895833333333428,64.25,57.,0.3858267716535433,0.24895833333333428,64.5,78.,0.5039370078740157,0.24895833333333428,64.5,62.,0.3858267716535433,0.24895833333333428,64.75,76.,0.5039370078740157,0.24895833333333428,64.75,57.,0.3858267716535433,0.24895833333333428,65.,74.,0.5039370078740157,0.7489583333333343,65.,50.,0.3858267716535433,0.4989583333333343,65.5,54.,0.3858267716535433,0.4989583333333343,65.75,76.,0.5039370078740157,0.24895833333333428,66.,78.,0.5039370078740157,0.24895833333333428,66.,57.,0.3858267716535433,0.4989583333333343,66.25,81.,0.5039370078740157,0.24895833333333428,66.5,79.,0.5039370078740157,0.7489583333333343,66.5,48.,0.3858267716535433,0.4989583333333343,67.,52.,0.3858267716535433,0.4989583333333343,67.25,78.,0.5039370078740157,0.24895833333333428,67.5,76.,0.5039370078740157,0.24895833333333428,67.5,55.,0.3858267716535433,0.4989583333333343,67.75,79.,0.5039370078740157,0.24895833333333428,68.,75.,0.5039370078740157,0.7489583333333343,68.,47.,0.3858267716535433,0.4989583333333343,68.5,51.,0.3858267716535433,0.24895833333333428,68.75,73.,0.5039370078740157,0.24895833333333428,68.75,54.,0.3858267716535433,0.24895833333333428,69.,75.,0.5039370078740157,0.4989583333333343,69.,59.,0.3858267716535433,0.24895833333333428,69.25,54.,0.3858267716535433,0.24895833333333428,69.5,76.,0.5039370078740157,0.9989583333333343,69.5,52.,0.3858267716535433,0.4989583333333343,70.,57.,0.3858267716535433,0.4989583333333343,70.5,76.,0.5039370078740157,0.4989583333333343,70.5,59.,0.3858267716535433,0.4989583333333343,71.,76.,0.5039370078740157,1.4989583333333343,71.,59.,0.3858267716535433,1.4989583333333343,71.,55.,0.3858267716535433,1.4989583333333343,71.,52.,0.3858267716535433,1.4989583333333343,72.5,86.,0.5039370078740157,1.4989583333333343,72.5,55.,0.3858267716535433,0.4989583333333343,73.,59.,0.3858267716535433,0.4989583333333343,73.5,62.,0.3858267716535433,0.4989583333333343,74.,86.,0.5039370078740157,0.7489583333333343,74.,55.,0.3858267716535433,0.4989583333333343,74.5,59.,0.3858267716535433,0.4989583333333343,74.75,85.,0.5039370078740157,0.24895833333333428,75.,83.,0.5039370078740157,0.24895833333333428,75.,62.,0.3858267716535433,0.4989583333333343,75.25,79.,0.5039370078740157,0.24895833333333428,75.5,81.,0.5039370078740157,0.9989583333333343,75.5,50.,0.3858267716535433,0.4989583333333343,76.,54.,0.3858267716535433,0.24895833333333428,76.25,57.,0.3858267716535433,0.24895833333333428,76.5,78.,0.5039370078740157,0.4989583333333343,76.5,62.,0.3858267716535433,0.24895833333333428,76.75,57.,0.3858267716535433,0.24895833333333428,77.,74.,0.5039370078740157,0.7489583333333343,77.,50.,0.3858267716535433,0.4989583333333343,77.5,54.,0.3858267716535433,0.4989583333333343,77.75,76.,0.5039370078740157,0.24895833333333428,78.,78.,0.5039370078740157,0.24895833333333428,78.,57.,0.3858267716535433,0.4989583333333343,78.25,81.,0.5039370078740157,0.24895833333333428,78.5,79.,0.5039370078740157,0.9989583333333343,78.5,48.,0.3858267716535433,0.4989583333333343,79.,52.,0.3858267716535433,0.4989583333333343,79.5,76.,0.5039370078740157,0.4989583333333343,79.5,55.,0.3858267716535433,0.4989583333333343,80.,76.,0.5039370078740157,0.7489583333333343,80.,48.,0.3858267716535433,0.4989583333333343,80.5,52.,0.3858267716535433,0.4989583333333343,80.75,75.,0.5039370078740157,0.24895833333333428,81.,76.,0.5039370078740157,0.24895833333333428,81.,55.,0.3858267716535433,0.4989583333333343,81.25,79.,0.5039370078740157,0.24895833333333428,81.5,78.,0.5039370078740157,0.9989583333333343,81.5,47.,0.3858267716535433,0.4989583333333343,82.,51.,0.3858267716535433,0.24895833333333428,82.25,54.,0.3858267716535433,0.24895833333333428,82.5,75.,0.5039370078740157,0.4989583333333343,82.5,59.,0.3858267716535433,0.24895833333333428,82.75,54.,0.3858267716535433,0.24895833333333428,83.,71.,0.5039370078740157,1.4989583333333343,83.,47.,0.3858267716535433,0.4989583333333343,83.5,54.,0.3858267716535433,0.4989583333333343,84.,59.,0.3858267716535433,0.4989583333333343,84.5,86.,0.5039370078740157,1.4989583333333343,84.5,55.,0.3858267716535433,0.4989583333333343,85.,59.,0.3858267716535433,0.4989583333333343,85.5,62.,0.3858267716535433,0.4989583333333343,86.,86.,0.5039370078740157,0.7489583333333343,86.,55.,0.3858267716535433,0.4989583333333343,86.5,59.,0.3858267716535433,0.4989583333333343,86.75,85.,0.5039370078740157,0.24895833333333428,87.,83.,0.5039370078740157,0.24895833333333428,87.,62.,0.3858267716535433,0.4989583333333343,87.25,79.,0.5039370078740157,0.24895833333333428,87.5,81.,0.5039370078740157,0.9989583333333343,87.5,50.,0.3858267716535433,0.4989583333333343,88.,54.,0.3858267716535433,0.24895833333333428,88.25,57.,0.3858267716535433,0.24895833333333428,88.5,78.,0.5039370078740157,0.4989583333333343,88.5,62.,0.3858267716535433,0.24895833333333428,88.75,57.,0.3858267716535433,0.24895833333333428,89.,74.,0.5039370078740157,0.7489583333333343,89.,50.,0.3858267716535433,0.4989583333333343,89.5,54.,0.3858267716535433,0.4989583333333343,89.75,76.,0.5039370078740157,0.24895833333333428,90.,78.,0.5039370078740157,0.24895833333333428,90.,57.,0.3858267716535433,0.4989583333333343,90.25,81.,0.5039370078740157,0.24895833333333428,90.5,79.,0.5039370078740157,0.7489583333333343,90.5,48.,0.3858267716535433,0.4989583333333343,91.,52.,0.3858267716535433,0.4989583333333343,91.25,78.,0.5039370078740157,0.24895833333333428,91.5,76.,0.5039370078740157,0.24895833333333428,91.5,55.,0.3858267716535433,0.4989583333333343,91.75,79.,0.5039370078740157,0.24895833333333428,92.,75.,0.5039370078740157,0.7489583333333343,92.,47.,0.3858267716535433,0.4989583333333343,92.5,51.,0.3858267716535433,0.24895833333333428,92.75,73.,0.5039370078740157,0.24895833333333428,92.75,54.,0.3858267716535433,0.24895833333333428,93.,75.,0.5039370078740157,0.4989583333333343,93.,59.,0.3858267716535433,0.24895833333333428,93.25,54.,0.3858267716535433,0.24895833333333428,93.5,76.,0.5039370078740157,1.4989583333333343,93.5,52.,0.3858267716535433,0.4989583333333343,94.,60.,0.3858267716535433,0.4989583333333343,94.,57.,0.3858267716535433,0.4989583333333343,94.5,54.,0.3858267716535433,0.4989583333333343,95.,76.,0.5039370078740157,0.9989583333333343,95.,59.,0.3858267716535433,0.9989583333333343,95.,55.,0.3858267716535433,0.9989583333333343,95.,52.,0.3858267716535433,0.9989583333333343,96.,64.,0.5039370078740157,0.4989583333333343,96.5,67.,0.5039370078740157,0.9989583333333343,96.5,52.,0.3858267716535433,0.4989583333333343,97.,55.,0.3858267716535433,0.4989583333333343,97.5,69.,0.5039370078740157,0.4989583333333343,97.5,59.,0.3858267716535433,0.4989583333333343,98.,71.,0.5039370078740157,0.7489583333333343,98.,52.,0.3858267716535433,0.4989583333333343,98.5,55.,0.3858267716535433,0.4989583333333343,98.75,72.,0.5039370078740157,0.24895833333333428,99.,71.,0.5039370078740157,0.4989583333333343,99.,59.,0.3858267716535433,0.4989583333333343,99.5,69.,0.5039370078740157,0.9989583333333343,99.5,50.,0.3858267716535433,0.4989583333333343,100.,54.,0.3858267716535433,0.4989583333333343,100.5,66.,0.5039370078740157,0.4989583333333343,100.5,57.,0.3858267716535433,0.4989583333333343,101.,62.,0.5039370078740157,0.7489583333333343,101.,50.,0.3858267716535433,0.4989583333333343,101.5,54.,0.3858267716535433,0.4989583333333343,101.75,64.,0.5039370078740157,0.24895833333333428,102.,66.,0.5039370078740157,0.4989583333333343,102.,57.,0.3858267716535433,0.4989583333333343,102.5,67.,0.5039370078740157,0.9989583333333343,102.5,48.,0.3858267716535433,0.4989583333333343,103.,52.,0.3858267716535433,0.4989583333333343,103.5,64.,0.5039370078740157,0.4989583333333343,103.5,55.,0.3858267716535433,0.4989583333333343,104.,64.,0.5039370078740157,0.7489583333333343,104.,48.,0.3858267716535433,0.4989583333333343,104.5,52.,0.3858267716535433,0.4989583333333343,104.75,63.,0.5039370078740157,0.24895833333333428,105.,64.,0.5039370078740157,0.4989583333333343,105.,55.,0.3858267716535433,0.4989583333333343,105.5,66.,0.5039370078740157,0.9989583333333343,105.5,47.,0.3858267716535433,0.4989583333333343,106.,51.,0.3858267716535433,0.4989583333333343,106.5,63.,0.5039370078740157,0.4989583333333343,106.5,54.,0.3858267716535433,0.4989583333333343,107.,59.,0.5039370078740157,0.9989583333333343,107.,47.,0.3858267716535433,0.4989583333333343,107.5,54.,0.3858267716535433,0.4989583333333343,108.,64.,0.5039370078740157,0.4989583333333343,108.,57.,0.3858267716535433,0.4989583333333343,108.5,67.,0.5039370078740157,0.9989583333333343,108.5,52.,0.3858267716535433,0.4989583333333343,109.,55.,0.3858267716535433,0.4989583333333343,109.5,69.,0.5039370078740157,0.4989583333333343,109.5,59.,0.3858267716535433,0.4989583333333343,110.,71.,0.5039370078740157,0.7489583333333343,110.,52.,0.3858267716535433,0.4989583333333343,110.5,55.,0.3858267716535433,0.4989583333333343,110.75,72.,0.5039370078740157,0.24895833333333428,111.,71.,0.5039370078740157,0.4989583333333343,111.,59.,0.3858267716535433,0.4989583333333343,111.5,69.,0.5039370078740157,0.9989583333333343,111.5,50.,0.3858267716535433,0.4989583333333343,112.,54.,0.3858267716535433,0.4989583333333343,112.5,66.,0.5039370078740157,0.4989583333333343,112.5,57.,0.3858267716535433,0.4989583333333343,113.,62.,0.5039370078740157,0.7489583333333343,113.,50.,0.3858267716535433,0.4989583333333343,113.5,54.,0.3858267716535433,0.4989583333333343,113.75,64.,0.5039370078740157,0.24895833333333428,114.,66.,0.5039370078740157,0.4989583333333343,114.,57.,0.3858267716535433,0.4989583333333343,114.5,67.,0.5039370078740157,0.7489583333333343,114.5,48.,0.3858267716535433,0.4989583333333343,115.,52.,0.3858267716535433,0.4989583333333343,115.25,66.,0.5039370078740157,0.24895833333333428,115.5,64.,0.5039370078740157,0.4989583333333343,115.5,55.,0.3858267716535433,0.4989583333333343,116.,63.,0.5039370078740157,0.7489583333333343,116.,47.,0.3858267716535433,0.4989583333333343,116.5,54.,0.3858267716535433,0.4989583333333343,116.75,61.,0.5039370078740157,0.24895833333333428,117.,63.,0.5039370078740157,0.4989583333333343,117.,59.,0.3858267716535433,0.4989583333333343,117.5,64.,0.5039370078740157,0.9989583333333343,117.5,52.,0.3858267716535433,0.7489583333333343,118.25,57.,0.3858267716535433,0.24895833333333428,118.5,64.,0.5039370078740157,0.4989583333333343,118.5,54.,0.3858267716535433,0.4989583333333343,119.,64.,0.5039370078740157,1.4989583333333343,119.,59.,0.3858267716535433,1.4989583333333343,119.,55.,0.3858267716535433,1.4989583333333343,119.,52.,0.3858267716535433,1.4989583333333343);\n\nfloat g1(float x, float a){\n\treturn 0.25/(a-0.5)+0.5+sqrt(\n        x*(-0.5/(a-0.5))+\n        (-0.5+-0.25/(a-0.5))*(-0.5+-0.25/(a-0.5))\n        );\n}\nfloat g2(float x,float a){\n    return 0.25/(a-0.5)+0.5-sqrt(\n        x*(-0.5/(a-0.5))+\n        (-0.5+-0.25/(a-0.5))*(-0.5+-0.25/(a-0.5))\n        );\n}\n\nfloat bez(float x,float a){\n    if(a==0.5){return x;}\n    float b=1.-a;\n    if(a>0.5){\n        float g=g2(x,a);\n    \treturn 2.*g*b-2.*g*g*b+g*g;\n    }\n    float g=g1(x,a);\n    return 2.*g*b-2.*g*g*b+g*g;\n}\n\n// Attack Decay Sustain Release\nfloat ADSR(float time, float[3] A, float[3] D, float[3] S, float[3] R){\n    float b=0.;\n\tif(time<A[0]){\n    \treturn A[1]*bez((time)/A[0],A[2]);\n    }\n\tb+=A[0];\n    if(time<b+D[0]){\n    \treturn (A[1]+(D[1]-A[1])*bez((time-b)/D[0],D[2]));\n    }\n\tb+=D[0];\n    if(time<b+S[0]){\n    \treturn (D[1]+(S[1]-D[1])*bez((time-b)/S[0],S[2]));\n    }\n\tb+=S[0];\n    if(time<b+R[0]){\n    \treturn (S[1]+(R[1]-S[1])*bez((time-b)/R[0],R[2]));\n    }\n    return 0.;\n}\n\nfloat notePitch(float mid){\n    /*\n    switch(int(mid)){\n        case(21):\n        \treturn 27.5;\n        case(22):\n        \treturn 29.135;\n        case(23):\n        \treturn 30.868;\n        case(60):\n        \treturn 261.63;\n        case(61):\n        \treturn 277.18;\n        case(62):\n        \treturn 293.67;\n        case(63):\n        \treturn 311.13;\n        case(64):\n        \treturn 328.63;\n        case(65):\n        \treturn \n\t\tdefault:\n\t\t\treturn 0.;\n\t}\n\t*/\n    return (440./32.)*(pow(2.,(mid-9.)/12.));\n}\n\n// Should make a piano tone\nfloat piano(float time, float MIDI, float dur){\n    float A[3]=float[3](0.02,0.3,1.);\n    float D[3]=float[3](0.02,1.,0.2);\n    float S[3]=float[3](dur-0.05,0.5,0.3);\n    float R[3]=float[3](0.16,0.,0.);\n\t//return sin(6.2831853*notePitch(MIDI)*time)*ADSR(time,A,D,S,R);\n    return sin(6.2831853*notePitch(MIDI)*time+  cos(6.2831853*notePitch(MIDI)*time) )*ADSR(time,A,D,S,R);\n}\n\nvec2 mainSound( in int samp, float time ){\n    //midi[0]=0.;\n\tfloat sum=0.;\n    for(int i=0; i<1832; i+=4){\n        if(time>=midi[i]){\n\t\t\tsum+=piano(time-midi[i],midi[i+1],midi[i+3])*midi[i+2];\n        }\n        else if(time>midi[i]+midi[i+3]){\n\t\t\ti=10000;\n        }\n\t}\n\n    // A 440 Hz wave that attenuates quickly overt time\n    return vec2( sum*0.4 );\n}",
                "description": "",
                "inputs": [],
                "name": "Sound",
                "outputs": [],
                "type": "sound"
            }
        ],
        "ver": "0.1"
    }
}