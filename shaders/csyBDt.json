{
    "Shader": {
        "info": {
            "date": "1698754556",
            "description": "detects if a circle intersects with a rectangle",
            "flags": 0,
            "hasliked": 0,
            "id": "csyBDt",
            "likes": 1,
            "name": "Circle Rectangle intersection",
            "published": 3,
            "tags": [
                "collision"
            ],
            "usePreview": 0,
            "username": "secs",
            "viewed": 149
        },
        "renderpass": [
            {
                "code": "bool in_rect(vec2 center, vec2 size, vec2 coord){\n    return center.x <= coord.x && coord.x <= size.x && center.y <= coord.y && coord.y <= size.y;\n}\n\nbool in_circ(vec2 origin, float radius, vec2 coord){\n    return length(origin - coord)<=radius;\n}\n\nvec2 closest_point(vec2 origin, vec2 center, vec2 size){\n    float x = max(center.x, min(origin.x, size.x));\n    float y = max(center.y, min(origin.y, size.y));\n    return vec2 (x,y);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    fragColor = vec4(0.0);\n    vec2 coord = fragCoord.xy/iResolution.xy*vec2(1920,1080);\n    \n    vec2 center = vec2(300.,300.);\n    vec2 size = center + vec2(600.,300.);\n    \n    vec2 o = iMouse.xy/iResolution.xy*vec2(1920,1080);\n    float r = 150.;\n    \n    vec2 cp = closest_point(o, center, size);\n   \n    if (in_rect(center, size, coord)){\n        fragColor = vec4(0.0, 0.0, 1.0, 0.0);\n    }\n    if (in_circ(o, r, coord)){\n        if (length(o - cp) <= r){\n            fragColor = vec4(1.0,0.0,0.0,0.0);\n        }\n        else{\n        fragColor = vec4(0.0,1.0,0.0,0.0);\n        }\n    }\n     if (in_circ(cp, 10., coord)){\n        fragColor = vec4(1.0);\n    }\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}