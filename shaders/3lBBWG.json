{
    "Shader": {
        "info": {
            "date": "1599674823",
            "description": "Rainbox matrix.",
            "flags": 0,
            "hasliked": 0,
            "id": "3lBBWG",
            "likes": 29,
            "name": "rainbow matrix",
            "published": 3,
            "tags": [
                "color",
                "glsl",
                "bitmap",
                "font",
                "rainbow",
                "matrix"
            ],
            "usePreview": 0,
            "username": "dkaraush",
            "viewed": 1103
        },
        "renderpass": [
            {
                "code": "\nprecision mediump float;\n\nfloat random(vec2 v) {\n    return fract(sin(v.x * 32.1231 - v.y * 2.334 + 13399.2312) * 2412.32312);\n}\nfloat random(float x, float y) {\n    return fract(sin(x * 32.1231 - y * 2.334 + 13399.2312) * 2412.32312);\n}\nfloat random(float x) {\n    return fract(sin(x * 32.1231 + 13399.2312) * 2412.32312);\n}\n\nfloat hue2rgb(float f1, float f2, float hue) {\n    if (hue < 0.0)\n        hue += 1.0;\n    else if (hue > 1.0)\n        hue -= 1.0;\n    float res;\n    if ((6.0 * hue) < 1.0)\n        res = f1 + (f2 - f1) * 6.0 * hue;\n    else if ((2.0 * hue) < 1.0)\n        res = f2;\n    else if ((3.0 * hue) < 2.0)\n        res = f1 + (f2 - f1) * ((2.0 / 3.0) - hue) * 6.0;\n    else\n        res = f1;\n    return res;\n}\nvec3 hsl2rgb(vec3 hsl) {\n    vec3 rgb;\n    \n    if (hsl.y == 0.0) {\n        rgb = vec3(hsl.z); // Luminance\n    } else {\n        float f2;\n        \n        if (hsl.z < 0.5)\n            f2 = hsl.z * (1.0 + hsl.y);\n        else\n            f2 = hsl.z + hsl.y - hsl.y * hsl.z;\n            \n        float f1 = 2.0 * hsl.z - f2;\n        \n        rgb.r = hue2rgb(f1, f2, hsl.x + (1.0/3.0));\n        rgb.g = hue2rgb(f1, f2, hsl.x);\n        rgb.b = hue2rgb(f1, f2, hsl.x - (1.0/3.0));\n    }   \n    return rgb;\n}\n\nint character(float i) {\n    if (i == 0.) return 0x7b6f; // 0\n    if (i == 1.) return 0x4d24; // 1\n    if (i == 2.) return 0x79cf; // 2\n    if (i == 3.) return 0x79e7; // 3\n    if (i == 4.) return 0x5be4; // 4\n    if (i == 5.) return 0x73e7; // 5\n    if (i == 6.) return 0x73ef; // 6\n    if (i == 7.) return 0x7924; // 7\n    if (i == 8.) return 0x7bef; // 8\n    if (i == 9.) return 0x7be7; // 9\n    if (i == 10.) return 0x7bed; // A\n    if (i == 11.) return 0x3beb; // B\n    if (i == 12.) return 0x724f; // C\n    if (i == 13.) return 0x3b6b; // D\n    if (i == 14.) return 0x73cf; // E\n    if (i == 15.) return 0x73c9; // F\n    return 0;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n    vec2 S = 15. * vec2(3., 2.);\n    vec2 coord = vec2(\n        fragCoord.x / iResolution.y,\n        fragCoord.y / iResolution.y + (iResolution.y - iResolution.x) / (2. * iResolution.y)\n    );\n    vec2 c = floor(coord * S);\n\n    float offset = random(c.x) * S.x;\n    float speed = (random(c.x * 3.) * 1. + 0.5) * .7;\n    float len = random(c.x) * 15. + 10.;\n    float X = c.y / len + iTime * speed + offset, _X = mod(X, 1.);\n    float u = 1. - 2. * 1.23 * _X * (1.45 * _X) * (1. - pow(_X, 9.));\n\n    float padding = 2.;\n    vec2 smS = vec2(3., 5.);\n    vec2 sm = floor(fract(coord * S) * (smS + vec2(padding))) - vec2(padding);\n    int symbol = character(floor(random(c + floor(iTime * speed)) * 15.));\n    bool s = sm.x < 0. || sm.x > smS.x || sm.y < 0. || sm.y > smS.y ? false\n             : mod(floor(float(symbol) / pow(2., sm.x + sm.y * smS.x)), 2.) == 1.;\n\n    fragColor = vec4(s ? hsl2rgb(vec3(c.x / S.x, 1., 0.5)) * u : vec3(0.), 1.);\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}