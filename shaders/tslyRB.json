{
    "Shader": {
        "info": {
            "date": "1585087145",
            "description": "potato",
            "flags": 0,
            "hasliked": 0,
            "id": "tslyRB",
            "likes": 14,
            "name": "Day 97",
            "published": 3,
            "tags": [
                "motion",
                "logpolar",
                "mdtmjvm"
            ],
            "usePreview": 0,
            "username": "jeyko",
            "viewed": 495
        },
        "renderpass": [
            {
                "code": "#define pmod(p,x) mod(p,x) - 0.5*x\n#define pal(a,b,c,d,e) ((a) + (b)*sin((c)*(d) + (e)))\n#define rot(x) mat2(cos(x),-sin(x),sin(x),cos(x))\n#define iTime (iTime*1.6)\n\nvec4 valueNoise(vec2 t, float w){\n    vec2 fr = fract(t);\n\treturn \n        mix(\n            mix( \n                texture(iChannel0,vec2(floor(t.x), floor(t.y))/256.),\n                texture(iChannel0,vec2(floor(t.x), floor(t.y) + 1.)/256.),\n            \tsmoothstep(0.,1.,fr.y)\n            ),\n            mix( \n                texture(iChannel0,vec2(floor(t.x) + 1.,floor(t.y))/256.),\n                texture(iChannel0,vec2(floor(t.x) + 1.,floor(t.y) + 1.)/256.),\n            \tsmoothstep(0.,1.,fr.y)\n            ),\n            smoothstep(0.,1.,pow(fr.x, w)));\n}\nvec4 fbm(vec2 uv){\n\tvec4 n = vec4(0);\n    n += valueNoise(uv*800.,0.1);\n    n += valueNoise(uv*1700.,0.1)*0.5;\n    n -= valueNoise(uv*10.,1.)*1.;\n    n -= valueNoise(uv*20.,0.5)*0.5;\n    n = max(n, 0.);\n    return n;\n}\n#define pi acos(-1.)\n#define rot(x) mat2(cos(x),-sin(x),sin(x),cos(x))\n\n\nvec3 get(vec2 fragCoord )\n{\n    vec2 uv = (fragCoord - 0.5*iResolution.xy)/iResolution.y;\n\tvec2 uvn = uv;\n    uv *= 1. - dot(uv,uv)*0.3;\n    \n    uv *= 4.;\n    \n    float rang = 0.2;\n    \n    uv -= rang*0.5;\n    uv.x += iMouse.x/iResolution.y*rang;\n    uv.y += iMouse.y/iResolution.y*rang;\n    \n\n    vec3 col = vec3(0);\n\n    vec2 p = uv;\n    \n    \n    float un = 1.;\n    float T = iTime*1.;\n    float fa; \n    float its = 1.;\n    \n    float xx;\n    float yy;\n    for(float i = 0.; i < its; i++){\n        \n        float dpp = dot(p, p);\n        dpp = clamp(dpp, 0.04,0.6);\n        \n        p = (p + 0.)/dpp;\n        \n        \n        float yy=abs(sin(p.y*40. + T/1.));\n        float xx=abs(sin(p.x*40. + T/1.));\n        \n        if(i == its -1.)\n    \t\tfa = exp(-min(yy,xx)*6.)*un;\n        \n        float f = sin(iTime*0.125*pi);\n        float ff = sin(iTime*0.125*pi + pi/2.);\n        \n        p.x -= xx = pow(abs(f),2.5 )*sign(f)*3.5;\n        p *= 1. + pow(fract(abs(ff)),5.)*0.6;\n        float tt = iTime*0.25;\n        float ft = mod(tt, 2.);\n        tt = floor(tt);\n        ft = pow(smoothstep(0.,1.,pow(ft, 1.5) - 0.4), 2.25);\n        p.xy *= rot((tt + ft)*pi*1.);\n        p = clamp(p,-4.,4.);\n        \n        \n    }\n    \n    \n    float modD = 0.04 - smoothstep(0.,1.,iTime*0.005)*0.0;\n\n    p = mix(p,sin(p*11.14 + T*1.), smoothstep(0.,1.,0. +smoothstep(0.,1.,dot(uvn,uvn)*0.9 )*0.4)*0.1);\n\n    float i = log(length(((p.xy)/modD)) + 70.) + iTime*0.05;\n    \n    float id = floor(i*30.);\n    vec3 aa =pal(0.5,0.55,vec3(0.1,0.7,0.9), 0.6 + sin(id*0.4 + iTime)*.4, id*0.9 + iTime*0.5 - dot(uvn,uvn)*.5);\n    \n    aa = max(aa, 0.);\n    col += aa;\n    col = max(col, 0.);\n    col = mix(col,smoothstep(0.,1.,col), 0.8);\n    \n    col -= fbm(uvn).x*0.01;\n    col += fbm(uv + 4.).x*0.01;\n    \n    col = max(col, 0.);\n    col = pow(col, vec3(1. + dot(uvn,uvn)*0.4) + pow(fa, 1.)*0.2);\n    \n    col *= 1. - dot(uvn,uvn);\n    \n    return col;\n}\n    \n    \n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec3 col = vec3(0);\n    \n    for(float i =0.; i < 9. + float(min(iFrame,0)); i++){\n    \tcol += get(fragCoord + vec2(mod(i,3.),floor(i/3.))*0.25);\n    }\n    col /= 9.;\n    \n    col = max(col, 0.);\n\tcol = pow(col, vec3(0.4545));\n    \n    fragColor = vec4(col,1.0);\n}",
                "description": "",
                "inputs": [
                    {
                        "channel": 0,
                        "ctype": "texture",
                        "id": 30,
                        "published": 1,
                        "sampler": {
                            "filter": "mipmap",
                            "internal": "byte",
                            "srgb": "false",
                            "vflip": "true",
                            "wrap": "repeat"
                        },
                        "src": "/media/a/f735bee5b64ef98879dc618b016ecf7939a5756040c2cde21ccb15e69a6e1cfb.png"
                    }
                ],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}