{
    "Shader": {
        "info": {
            "date": "1601949232",
            "description": "just some more noise",
            "flags": 0,
            "hasliked": 0,
            "id": "3d3cDs",
            "likes": 6,
            "name": "dust01",
            "published": 3,
            "tags": [
                "noise",
                "volumetric",
                "dust"
            ],
            "usePreview": 0,
            "username": "Del",
            "viewed": 399
        },
        "renderpass": [
            {
                "code": "// volume noise test\n\nvec3 erot(vec3 p, vec3 ax, float ro)\n{\n    return mix(dot(p,ax)*ax,p,cos(ro))+sin(ro)*cross(ax,p);\n}\n\nfloat WaveletNoise(vec3 p, float z, float k) {\n    // https://www.shadertoy.com/view/wsBfzK\n    float d=0.,s=1.,m=0., a;\n    for(float i=0.; i<3.; i++) {\n        vec3 q = p*s, g=fract(floor(q)*vec3(123.34,233.53,314.15));\n    \tg += dot(g, g+23.234);\n\t\ta = fract(g.x*g.y)*1e3 +z*(mod(g.x+g.y, 2.)-1.); // add vorticity\n        q = (fract(q)-.5);\n        q = erot(q, normalize(tan(g+.1)), a);\n        d += sin(q.x*10.+z)*smoothstep(.25, .0, dot(q,q))/s;\n        p = erot(p,normalize(vec3(-1,1,0)),atan(sqrt(2.)))+i; //rotate along the magic angle\n        m += 1./s;\n        s *= k; \n    }\n    return d/m;\n}\n\n#define brightness -7.7\n#define saturation 0.9\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv=fragCoord.xy/iResolution.xy-.5;\n\tuv.y*=iResolution.y/iResolution.x;\n\tvec3 dir=vec3(uv*0.8,2.);\n\tfloat time=iTime*0.04;\n\n\t//rotation\n    vec2  mm = iMouse.xy/iResolution.xy;\n\tfloat a1=0.5+(mm.x*0.5);\n\tfloat a2=0.8+(mm.y*0.5);\n    \n\tmat2 rot1=mat2(cos(a1),sin(a1),-sin(a1),cos(a1));\n\tmat2 rot2=mat2(cos(a2),sin(a2),-sin(a2),cos(a2));\n\tdir.xz*=rot1;\n\tdir.xy*=rot2;\n\tvec3 from=vec3(1.,.5,.75);\n\tfrom+=vec3(time*1.8,time,-5.);\n\tfrom.xz*=rot1;\n\tfrom.xy*=rot2;\n\t\n\t// volumetric\n\tfloat s=0.1;\n    float fade=1.;\n\tvec3 v=vec3(0.);\n\tfor (int r=0; r<50; r++)\n    {\n\t\tvec3 p=from+s*dir*.5;\n\t\tvec3 p2 = p*4.0;\n\t\tfloat a = WaveletNoise(p2, 0.0, 1.9)*2.0 - 1.0;\n\t\ta *= a * a;\n\t\tv += vec3(s, s*s, s*s*s*s)* a * brightness * fade;\n\t\tfade *= 0.925;\n\t\ts += 0.032;\n\t}\n\tv=mix(vec3(length(v)),v,saturation);\n\tfragColor = vec4(v.gbr*.01,1.);\t\n\t\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}