{
    "Shader": {
        "info": {
            "date": "1703930009",
            "description": "Happy holidays.",
            "flags": 0,
            "hasliked": 0,
            "id": "XcS3Rw",
            "likes": 5,
            "name": "C2H5OH",
            "published": 3,
            "tags": [
                "molecule",
                "chemistry",
                "ethanol"
            ],
            "usePreview": 0,
            "username": "FordPerfect",
            "viewed": 178
        },
        "renderpass": [
            {
                "code": "// Public Domain under http://unlicense.org, see link for details.\n\n// Space-filling model of ethanol molecule (C2H5OH).\n// See https://en.wikipedia.org/wiki/Space-filling_model\n\nvec3 light=normalize(vec3(1));\n\n// col=(rgb,specular)\n// cur=(rgb,distance)\n// output=(rgb,distance)\nvec4 add_atom(vec3 ro,vec3 rd,vec3 pos,float r,vec4 col,vec4 cur)\n{\n    // Quadratic equation of the form t*t+2*b*t+c=0.\n    float b=dot(ro-pos,rd),c=dot(ro-pos,ro-pos)-r*r;\n    float d=b*b-c;\n    if(d>0.0)\n    {\n        float t=-sqrt(d)-b;\n        if(t<cur.a)\n        {\n            vec3 p=ro+t*rd;\n            vec3 n=normalize(p-pos);\n            vec3 c=col.xyz*(0.75*max(dot(n,light),0.0)+0.25);\n            vec3 g=normalize(light-rd);\n            c+=col.w*pow(max(dot(g,n),0.0),32.0);\n            return vec4(c,t);\n        }\n        else return cur;\n    }\n    else return cur;\n}\n\nvoid mainImage(out vec4 fragColor,in vec2 fragCoord)\n{\n\tvec2 xy=(2.0*fragCoord-iResolution.xy)/iResolution.y;\n\tfloat a=0.25*iTime;\n\tvec3 ro=vec3(7.0*cos(a)+sin(1.3*a),5.0*sin(0.7*a),7.0*sin(a)+cos(1.3*a));\n    vec3 ta=vec3(0.0,0.0,0.0);\n    vec3 ww=normalize(ta-ro);\n    vec3 uu=normalize(cross(ww,vec3(0.0,1.0,0.0)));\n    vec3 vv=normalize(cross(uu,ww));\n\tvec3 rd=normalize(xy.x*uu+xy.y*vv+1.5*ww);\n    light=normalize(vec3(cos(0.7*a)+sin(0.5*a),cos(0.7*a),sin(0.7*a)+cos(0.5*a)));\n\tvec4 cur=vec4(0.1,0.08,0.04,1e7);\n    // Standard-ish coloring, similar to\n    // https://en.wikipedia.org/wiki/CPK_coloring\n    vec4 H=vec4(0.7,0.7,0.7,0.3);\n    vec4 C=vec4(0.1,0.1,0.1,0.3);\n    vec4 O=vec4(0.8,0.1,0.1,0.3);\n    // Atomic radii, in angstrem.\n    // See https://en.wikipedia.org/wiki/Atomic_radii_of_the_elements_(data_page)\n    // float rH=0.25,rC=0.70,rO=0.60; // empirical radii\n    // float rH=0.32,rC=0.75,rO=0.63; // covalent radii\n    float rH=1.10,rC=1.70,rO=1.52; // van der Waals radii\n    // Ethanol molecule geometry.\n    // See https://cccbdb.nist.gov/exp2x.asp?casno=64175&charge=0\n    cur=add_atom(ro,rd,vec3( 1.1879,-0.3829, 0.0000),rC,C,cur);\n    cur=add_atom(ro,rd,vec3( 0.0000, 0.5526, 0.0000),rC,C,cur);\n    cur=add_atom(ro,rd,vec3(-1.1867,-0.2472, 0.0000),rO,O,cur);\n    cur=add_atom(ro,rd,vec3(-1.9237, 0.3850, 0.0000),rH,H,cur);\n    cur=add_atom(ro,rd,vec3( 2.0985, 0.2306, 0.0000),rH,H,cur);\n    cur=add_atom(ro,rd,vec3( 1.1184,-1.0093, 0.8869),rH,H,cur);\n    cur=add_atom(ro,rd,vec3( 1.1184,-1.0093,-0.8869),rH,H,cur);\n    cur=add_atom(ro,rd,vec3(-0.0227, 1.1812, 0.8852),rH,H,cur);\n    cur=add_atom(ro,rd,vec3(-0.0227, 1.1812,-0.8852),rH,H,cur);\n    cur.xyz=mix(12.92*cur.xyz,1.055*pow(cur.xyz,vec3(1.0/2.4))-0.055,step(0.0031308,cur.xyz)); // sRGB\n\tfragColor=vec4(cur.xyz,1.0);\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}