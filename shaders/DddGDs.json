{
    "Shader": {
        "info": {
            "date": "1678056188",
            "description": "Iterative domain warping. Someone please teach me how to do this without a loop. <3",
            "flags": 0,
            "hasliked": 0,
            "id": "DddGDs",
            "likes": 25,
            "name": "color.flow",
            "published": 3,
            "tags": [
                "colorful",
                "vortex",
                "polar",
                "calming"
            ],
            "usePreview": 0,
            "username": "yozic",
            "viewed": 476
        },
        "renderpass": [
            {
                "code": "#define PI 3.14159265359\n#define TWO_PI 2. * PI\n#define ITERATIONS 10.\n\nvec4 k_orb(vec2 uv, float size, vec2 position, vec3 color, float contrast) {\n  return pow(vec4(size / length(uv + position) * color, 1.), vec4(contrast));\n}\n\nvec3 k_rainbow(float progress, float stretch, float offset) {\n  return vec3(cos(vec3(-2, 0, -1) * TWO_PI / 3. + TWO_PI * (progress * stretch) + offset) * 0.5 + 0.5);\n}\n\nmat2 k_rotate2d(float a) {\n  return mat2(cos(a), -sin(a), sin(a), cos(a));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n  float time = iTime / 7.8;\n  vec2 uv = -1. + 2. * fragCoord.xy / iResolution.xy;\n  uv.x *= iResolution.x/iResolution.y;\n  uv *= 0.199;\n  uv /= dot(uv, uv);\n  uv *= k_rotate2d(time); \n  fragColor = vec4(0.);\n  \n  // so slow :(\n  for (float i = 0.; i < ITERATIONS; i++) {\n    uv.x += 1.5 * cos(0.53 * uv.y);\n    uv.y += 0.84 * cos(0.42 * uv.x + time/.15);\n    vec3 color = k_rainbow(i / (ITERATIONS * 1.6), 0.825, 0.);\n    fragColor += k_orb(uv,6., vec2(0, 0), color, 1.262);\n  }\n\n  fragColor.xyz = 1. - abs(1.-log(abs(fragColor.xyz)));\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}