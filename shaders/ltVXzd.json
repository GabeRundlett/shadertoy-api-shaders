{
    "Shader": {
        "info": {
            "date": "1485525437",
            "description": "A epileptic circle, probably way to complicated.",
            "flags": 0,
            "hasliked": 0,
            "id": "ltVXzd",
            "likes": 4,
            "name": "Epilepsy #FirstShader",
            "published": 3,
            "tags": [
                "2d",
                "test",
                "firstshader"
            ],
            "usePreview": 0,
            "username": "Moritz",
            "viewed": 662
        },
        "renderpass": [
            {
                "code": "\n/**\n * sharpness: 0 - 1, 1 = 100%\n * size: 0 - 1, 1 = iResolution.y\n * thickness: 1 = 100%, 2 = 50%, ...\n */\nfloat donut(vec2 fragCoord, vec2 center, float sharpness, float size, float thickness) {\n    float dist = distance(center, fragCoord);\n    float distPer = (1.0 - (dist * 2.0 / iResolution.y) / size);\n    float color = clamp(distPer, 0.0, 1.0) * thickness;\n\n    if (color > 1.0 + sharpness) {\n        color = (1.0 + sharpness) - (color - 1.0);\n    }\n\n    return clamp(color, 0.0, 1.0);\n}\n\nfloat shake(float time, float n, float smallShaking, float largeShaking, float slDiff) {\n    const float sinMax = 1.0;\n    float small = (1.0 - slDiff) + sin(time * smallShaking) / (sinMax / slDiff);\n    float large = sin(time * largeShaking);\n    return n * (small * large);\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    float t = iTime * 16.0;\n    float smallLargeShakeDiff = 0.6;\n    \n    float shaking = iResolution.x / 20.0;\n    vec2 screeCenter = vec2(iResolution.xy / 2.0);\n\n    vec2 centerR = vec2(\n        screeCenter.x + shake(t, shaking, 5.2, 2.6, smallLargeShakeDiff),\n        screeCenter.y + shake(t, shaking, 5.3, 2.8, smallLargeShakeDiff)\n    );\n\n    vec2 centerG = vec2(\n        screeCenter.x + shake(t, shaking, 5.1, 2.5, smallLargeShakeDiff),\n        screeCenter.y + shake(t, shaking, 5.4, 2.7, smallLargeShakeDiff)\n    );\n\n    vec2 centerB = vec2(\n        screeCenter.x + shake(t, shaking, 5.5, 2.4, smallLargeShakeDiff),\n        screeCenter.y + shake(t, shaking, 5.0, 2.9, smallLargeShakeDiff)\n    );\n\n    float sharpness = 0.1;\n    float size = 0.85 + shake(t, 0.1, 6.2, 1.9, 0.2);\n    float thickness = 5.0;\n\n    fragColor = vec4(\n        0.0 + 0.8 * donut(fragCoord, centerR, sharpness, size, thickness),\n        0.0 + 0.8 * donut(fragCoord, centerG, sharpness, size, thickness),\n        0.1 + 0.8 * donut(fragCoord, centerB, sharpness, size, thickness),\n        1.0\n    );\n}\n",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}