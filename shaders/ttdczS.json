{
    "Shader": {
        "info": {
            "date": "1609404678",
            "description": "ちくわ",
            "flags": 0,
            "hasliked": 0,
            "id": "ttdczS",
            "likes": 2,
            "name": "gaming chikuwa",
            "published": 3,
            "tags": [
                "3d",
                "gaming"
            ],
            "usePreview": 0,
            "username": "bigdra50",
            "viewed": 246
        },
        "renderpass": [
            {
                "code": "#define rot(a) mat2(cos(a), sin(a), -sin(a), cos(a))\n#define EPS 0.0001\n\nvec3 lightDir = vec3(1, 2, 3);\nfloat dSphere(vec3 p, float r){\n    return length(p)-r;\n}\n\n\nfloat dRing(vec3 p, float inR, float exR, float height){\n    float sdf2d = abs(length(p.xy) - inR)-exR;\n    float d = abs(p.z)-height;\n    return max(sdf2d, d);\n}\n\n    \nfloat map(vec3 p){\n    p.xy *= rot(iTime*.5);\n    p.yz *= rot(iTime*.3);\n    return dRing(p, .2, .1, 1.);\n    return dSphere(p, .3);\n}\n\nvec3 getNormal(vec3 p){\n    return normalize(vec3(\n        map(p)-map(vec3(p.x-EPS, p.yz)),\n        map(p)-map(vec3(p.x, p.y-EPS, p.z)),\n        map(p)-map(vec3(p.xy, p.z-EPS))\n        ));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    \n    vec2 uv  = (fragCoord*2.-iResolution.xy)/min(iResolution.x, iResolution.y);\n    vec3 col = vec3(.2);\n    vec2 st = uv;\n\n    st*= rot(iTime*1.5);\n    col.xy += sin(st)+.8;\n    col.z += cos(st.y)*.6;\n    vec3 ro = vec3(0,0,10);\n    vec3 rd = normalize(vec3(uv, 0)-ro);\n    vec3 cur = ro;\n    for(int i = 0; i < 99; i++){\n        float d = map(cur);\n        if(d < EPS){\n            vec3 normal = getNormal(cur);\n            col += dot(normal, lightDir)+vec3(.1);\n            col *= vec3(cur.zxy+(sin(iTime*5.)+1.)*.05);\n            break;\n        }\n        cur += rd*d;\n    }\n\n    fragColor = vec4(col,1.0);\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}