{
    "Shader": {
        "info": {
            "date": "1601209742",
            "description": "j.Cole",
            "flags": 0,
            "hasliked": 0,
            "id": "wsdcRS",
            "likes": 7,
            "name": "RS-DREAMER",
            "published": 3,
            "tags": [
                "reproduction",
                "puma",
                "jcole"
            ],
            "usePreview": 0,
            "username": "yasuo",
            "viewed": 293
        },
        "renderpass": [
            {
                "code": "#define Rot(a) mat2(cos(a),-sin(a),sin(a),cos(a))\n#define skew(x, y) mat2(1,tan(x),tan(y),1)\n#define antialiasing(n) n/min(iResolution.y,iResolution.x)\n#define S(d,b) smoothstep(antialiasing(1.0),b,d)\n\nmat2 bend(float p, float k) {\n    float c = cos(k*p);\n    float s = sin(k*p);\n    mat2  m = mat2(c,-s,s,c);\n    return m;\n}\n\nfloat sdBox( in vec2 p, in vec2 b )\n{\n    vec2 d = abs(p)-b;\n    return length(max(d,0.0)) + min(max(d.x,d.y),0.0);\n}\n\nvec3 formstripe(vec2 p, vec3 col) {\n    p*=0.6;\n    p.x*=0.78;\n    p*=Rot(radians(-10.0));\n    \n    vec2 pref = p;\n    p.x*=0.5;\n    p.y*=0.8;\n    float d = length(p-vec2(0.0,0.0))-0.14;\n    float d2 = length(p-vec2(0.22,-0.1))-0.22;\n    \n    d = max(-p.y-0.02,max(-d2,d ));\n    p = pref;\n    \n    mat2  m = bend(p.y,-0.4);\n    p = m*p;\n    \n    float sc = mix(0.07,1.6,smoothstep(-1.0,1.0,p.x));\n    p.y*=sc;\n    float d3 = sdBox((p-vec2(0.25,0.185))*Rot(radians(-17.8)), vec2(0.335,0.041));\n    d = min(d,d3);\n    \n    col = mix(col,vec3(1.0),S(d,0.0));\n    return col;\n}\n\nvec3 cloud(vec2 p, vec3 col) {\n    float d = (length(p)-0.1);\n    float d2 = (length(p-vec2(-0.1,-0.08))-0.12);\n    float d3 = (length(p-vec2(0.1,-0.03))-0.1);\n    float d4 = (length(p-vec2(0.17,-0.09))-0.09);\n    float d5 = (length(p-vec2(0.03,-0.12))-0.1);\n    d = min(d,d2);\n    d = min(d,d3);\n    d = min(d,d4);\n    d = min(d,d5);\n    \n    float prevD = d;\n    d = abs(d)-0.03;\n    \n    col = mix(col,vec3(0.0),S(d,0.0));\n    col = mix(col,vec3(1.0),S(prevD,0.0));\n    \n    return col;\n}\n\nvec3 clouds(vec2 p, vec3 col, float scale) {\n    p*=scale;\n    p.x = mod(p.x,0.58)-0.29;\n    col = cloud(p,col);\n    \n    return col;\n}\n\nfloat distCharD(vec2 p) {\n    p.x*=1.1;\n    p.y*=0.8;\n    p.y = abs(p.y);\n    p.y -= 0.015;\n    float d = sdBox(p,vec2(0.03,0.03));\n    p.y-=0.01;\n    p*=Rot(radians(60.0));\n    d = max(d,-p.x-0.02);\n    return d;\n}\n\nfloat distCharR(vec2 p) {\n    float d = abs(sdBox(p,vec2(0.04,0.05)))-0.01;\n    float d2 = sdBox(p-vec2(-0.04,-0.05),vec2(0.01,0.08));\n    d = min(d,d2);\n    d2 = sdBox((p-vec2(0.025,-0.085))*Rot(radians(-20.0)),vec2(0.01,0.045));\n    d = min(d,d2);\n    \n    return d;\n}\n\nfloat distCharE(vec2 p) {\n    float d = sdBox(p,vec2(0.05,0.06));\n    float d2 = sdBox(p-vec2(0.02,0.0),vec2(0.05,0.04));\n    d = max(d,-d2);\n\td2 = sdBox(p-vec2(0.01,0.0),vec2(0.04,0.01));\n    d = min(d,d2);\n    return d;\n}\n\nfloat distCharA(vec2 p) {\n    float d = sdBox(p,vec2(0.05,0.05));\n    float d2 = sdBox(p-vec2(0.00,0.01),vec2(0.03,0.015));\n    d = max(d,-d2);\n\td2 = sdBox(p-vec2(0.0,-0.0475),vec2(0.03,0.025));\n    d = max(d,-d2);\n    return d;\n}\n\nfloat distCharM(vec2 p) {\n    float d = sdBox(p,vec2(0.07,0.06));\n    float d2 = sdBox(p-vec2(0.0,-0.03),vec2(0.05,0.06));\n    d = max(d,-d2);\n\td2 = sdBox(p-vec2(0.0,-0.01),vec2(0.01,0.05));\n    d = min(d,d2);\n    return d;\n}\n\nvec3 dreamer(vec2 p, vec3 col) {\n    vec2 prevP = p;\n    p*=0.65;\n    col = cloud(p,col);\n    \n    p = prevP;\n    p*=0.7;\n    // D\n    vec2 dpos = (p-vec2(-0.18,-0.09))*Rot(radians(-8.0));\n    float d = abs(distCharD(dpos))-0.012;\n\tcol = mix(col,vec3(0.0),S(d,0.0));\n    \n    p = prevP;\n    \n    // R\n    p.y*=0.8;\n    vec2 rpos = (p-vec2(-0.13,-0.05))*Rot(radians(-8.0));\n    d = distCharR(rpos)-0.008;\n    col = mix(col,vec3(0.0),S(d,0.0));\n    \n    p = prevP;\n    \n    // E\n    vec2 epos = (p-vec2(0.0,-0.01))*Rot(radians(-8.0));\n    d = distCharE(epos)-0.008;\n    col = mix(col,vec3(0.0),S(d,0.0));\n    \n    p = prevP;\n    \n    // A\n    vec2 apos = (p-vec2(0.02,-0.16))*Rot(radians(-8.0));\n    d = distCharA(apos)-0.007;\n    col = mix(col,vec3(0.0),S(d,0.0));\n    \n    p = prevP;\n    \n    // M\n    vec2 mpos = (p-vec2(0.16,-0.02))*Rot(radians(4.0));\n    mpos.x*=1.1;\n    mpos.y*=0.9;\n    d = distCharM(mpos*skew(0.2,0.1))-0.007;\n    col = mix(col,vec3(0.0),S(d,0.0));\n    \n    p = prevP;\n    \n    // E\n    epos = (p-vec2(0.18,-0.17))*Rot(radians(10.0));\n    epos.x*=0.8;\n    epos.y*=1.5;\n    d = distCharE(epos*skew(0.2,0.1))-0.008;\n    col = mix(col,vec3(0.0),S(d,0.0));\n    \n    p = prevP;\n    \n    // R\n    rpos = (p-vec2(0.305,-0.09))*Rot(radians(-.0));\n    rpos.x*=1.5;\n    rpos.y*=1.2;\n    d = distCharR(rpos*skew(0.2,0.2))-0.015;\n    col = mix(col,vec3(0.0),S(d,0.0));\n    \n    return col;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord-.5*iResolution.xy)/iResolution.y;\n    vec2 prevUV = uv;\n    vec2 dreamerUV = uv;\n    vec2 m = iMouse.xy/iResolution.xy-.5;\n    vec3 col = vec3(0.6,0.9,1.0);\n    \n    col = formstripe(uv-vec2(-0.28,0.05),col);\n    \n    uv = prevUV;\n    for(float i = 0.; i<1.0; i+=1.0/5.0) {\n        uv.y+=(i*0.5)-0.1;\n        uv.y+=sin(iTime*i)*0.05;\n        uv.x += (i-iTime*0.1)+m.y;\n        float z = mix(-0.6,-0.1,i);\n        col = clouds(uv,col,0.4+((1.0-i)*1.5+z));\n        if(i == 0.6){\n            col = dreamer(dreamerUV-vec2(0.0,sin(iTime*2.0)*0.03),col);\n        }\n    }\n    \n    fragColor = vec4(col,1.0);\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}