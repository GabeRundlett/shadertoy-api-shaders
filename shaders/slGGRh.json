{
    "Shader": {
        "info": {
            "date": "1637126247",
            "description": "模拟火焰",
            "flags": 0,
            "hasliked": 0,
            "id": "slGGRh",
            "likes": 18,
            "name": "入门之路-17",
            "published": 3,
            "tags": [],
            "usePreview": 0,
            "username": "jialouluo",
            "viewed": 378
        },
        "renderpass": [
            {
                "code": "\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    vec2 uv = 2. * fragCoord / iResolution.xy;\n    uv -= 1.0;\n    uv *= 3.;\n\n    for(float i = 1.0; i < 8.0; i++) {\n        uv.y += 0.1 * sin(4.20 * iTime / (1. + i)) / (1. + i);               // 纵向上的抖动函数\n        uv.x += 0.1 * cos(uv.y / 4.20 + 2.40 * iTime / (1. + i)) / (1. + i);// 横向上的抖动函数\n    }\n    uv.y += 0.04 * fract(sin(iTime * 60.));//正弦扰动\n    vec3 color = vec3(0.0);\n    float y = - pow(abs(uv.x), 4.2) / 0.0004;// 外焰的形状\n    float dir = abs(uv.y-y) * sin(.3);//计算外焰的大小（扩大渐变区域）的公式 \n    if(dir < 0.7) {\n        color.rg += smoothstep(0.0, 1.00, .75 - dir);\n        color.g /= 1.8;\n    }\n    color *= (0.6 + abs(uv.y / 4.2 + 4.2) / 4.2);// 增加对比度\n    color += pow(color.r, 1.1);//增白\n    color *= cos(-0.5 + uv.y * 0.4);//隐藏底部的颜色\n    //火苗内焰\n    uv.y += 1.5;\n    vec3 dolor = vec3(0.0);\n    float y1 = -pow(abs(uv.x), 4.2) / (4.2 * 0.0004) * 4.2;\n    float dir1 = abs(uv.y - y1) * sin(0.8);\n    if(dir1 < 0.7) {\n        dolor.bg += smoothstep(0.0, 1.00, .75 - dir1);\n        dolor.g /= 2.4;\n    }\n    dolor *= (0.6 + abs(uv.y / 4.2 + 4.2) / 4.2);\n    dolor += pow(dolor.r, 1.01);\n    dolor *= cos(-0.5 + uv.y * 0.4);\n    color = (color + dolor) / 2.;\n    fragColor = vec4(color, 1.0);\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}