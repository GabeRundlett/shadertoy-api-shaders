{
    "Shader": {
        "info": {
            "date": "1498650768",
            "description": "Daily",
            "flags": 0,
            "hasliked": 0,
            "id": "4dlfWf",
            "likes": 2,
            "name": "Daily 2017-06-28",
            "published": 3,
            "tags": [
                "daily"
            ],
            "usePreview": 0,
            "username": "Koltes",
            "viewed": 469
        },
        "renderpass": [
            {
                "code": "// Inspired by aurelia's logo.\n\n#define BORDER .2\n\nstruct B{bool i,o;float m;};\nstruct M{float d,m;};\nstruct N{M m;float d1,d2;};\nfloat C,S;\n#define rot(a) mat2(C=cos(a),S=sin(a),-S,C)\n    \nvoid bup(inout B b,float d){\n    if(!b.o){\n        if (b.i&&d>=b.m)b.o=true;\n        else if (!b.i&&d<b.m){\n            b.i=true;\n            b.m=d;\n        }\n    }\n}\n\nfloat sdBox( vec3 p, vec3 b )\n{\n  vec3 d = abs(p) - b + BORDER;\n  return min(max(d.x,max(d.y,d.z)),0.0) + length(max(d,0.0))-BORDER;\n}\n\nM mmin(M a,M b){\n    if(a.d<b.d)return a;else return b;\n}\n\nfloat smax(float a,float b,float k){\n    float h=clamp((b-a)/k*.5+.5,0.,1.);\n    return mix(a,b,h)+k*h*(1.-h);\n}\n\nN map(vec3 p){\n    p.xy*=rot(iTime*.3);\n    p.yz*=rot(iTime*.5);\n    p.xy*=rot(iTime*.7);\n    float d1=sdBox(p+vec3(0.,0.,1.),vec3(3.,1.5,3.));\n    float d2=sdBox(p+vec3(0.,0.,-1.),vec3(1.5,3.,3.));\n    M m;\n    m.d=min(d1,d2);\n    m.m=1.;\n    M m2;\n    m2.d=smax(d1-BORDER,d2-BORDER,BORDER);\n    m2.m=0.;\n    N n;\n    n.m=mmin(m,m2);\n    n.d1=d1;\n    n.d2=d2;\n    return n;\n}\n\nvec3 norm(vec3 p){\n    vec2 e=vec2(.001,0.);\n    return normalize(vec3(\n        map(p+e.xyy).m.d-map(p-e.xyy).m.d,\n        map(p+e.yxy).m.d-map(p-e.yxy).m.d,\n        map(p+e.yyx).m.d-map(p-e.yyx).m.d\n        ));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    uv-=.5;\n    uv.x*=iResolution.x/iResolution.y;\n    vec3 ro=vec3(uv,-10.),rd=normalize(vec3(uv,1.)),mp=ro;\n    N mn;\n    B b1=B(false,false,BORDER);\n    B b2=B(false,false,BORDER);\n    int i;for(i=0;i<50;++i){\n        mn=map(mp);\n        bup(b1,mn.d1);\n        bup(b2,mn.d2);\n        if(abs(mn.m.d)<.001)break;\n        mp+=rd*mn.m.d;\n    }\n    vec3 c=vec3(exp(-pow(length(uv),2.)*10.));\n    if (i<50&&(!b1.o&&!b2.o)){\n        vec3 n=norm(mp);\n        c=mix(c,mix(vec3(.1,.0,.1),vec3(.8,.1,.6),pow(dot(normalize(vec3(1.,1.,-1.)),n),4.)),mn.m.m);\n    }\n    c=sqrt(c);\n\tfragColor = vec4(c,1.0);\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}