{
    "Shader": {
        "info": {
            "date": "1523838989",
            "description": "Stare at cross in the middle and move your head closer and farther from your monitor\n\nTried recreating https://pbs.twimg.com/media/DayZe4HUwAE3UUO.jpg",
            "flags": 0,
            "hasliked": 0,
            "id": "ldVyWt",
            "likes": 2,
            "name": "2d Movement Illusion",
            "published": 3,
            "tags": [
                "2d",
                "illusion",
                "perception"
            ],
            "usePreview": 0,
            "username": "DJDoomz",
            "viewed": 570
        },
        "renderpass": [
            {
                "code": "/*\n\tDraws an optical illusion on the screen using the GPU, loopless\n*/\n\n#define csize 25\n#define segs 20.\n#define PI 3.14159\n#define R1D 275.\n#define R2D 400.\n\n/*\n\treturns modified distance from u to closest point on line se\t\n*/\nfloat lineseg(vec2 u, vec2 s, vec2 e)\n{\n    //shift coords to 0,0\n    vec2 l1 = u-s;\n    vec2 e2 = e-s;\n    //formula to find nearest projection of u on se\n    vec2 l2 = e2*(clamp( dot(l1,e2) /(dot(e2,e2)), 0., 1. ) );\n    \n    return 1.-smoothstep(2.,4.,length(l1-l2));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from -whatever to whatever)\n    vec2 uv = 440.*(2.*fragCoord-iResolution.xy)/min(iResolution.x,iResolution.y);\n    \n    //middle cross\n    float c = lineseg(uv,vec2(-csize,0),vec2(csize,0));\n    c+= lineseg(uv,vec2(0,-csize),vec2(0,csize));\n\n    //loop coordinate space\n    float i = floor(atan(uv.y,uv.x)*segs/PI/2.+.5)+segs/2.;\n    \n    float r = PI/segs*i*2.;\n    \n    float s = sin(r), o = cos(r);\n    \n    uv *= mat2(o,s,-s,o);\n    \n    //draw inner pattern\n    c += lineseg(uv,vec2(-R1D,-20),vec2(-R1D,20));\n    c += lineseg(uv,vec2(-R1D,20),vec2(-R1D-15.,35));\n    c += lineseg(uv,vec2(-R1D,-20),vec2(-R1D+15.,-35));\n    \n    //draw outer pattern\n    c += lineseg(uv,vec2(-R2D,-40),vec2(-R2D,40));\n    c += lineseg(uv,vec2(-R2D,40),vec2(-R2D+20.,55.));\n    c += lineseg(uv,vec2(-R2D,-40),vec2(-R2D-20.,-55.));\n    \n    fragColor = 1.-vec4(c);\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}