{
    "Shader": {
        "info": {
            "date": "1593818883",
            "description": "the gem from the intro of electronic gems",
            "flags": 0,
            "hasliked": 0,
            "id": "Wt2cR1",
            "likes": 6,
            "name": "Electronic Gems - Gem",
            "published": 3,
            "tags": [
                "gem"
            ],
            "usePreview": 0,
            "username": "frhun",
            "viewed": 376
        },
        "renderpass": [
            {
                "code": "const float pi = 3.14159;\nconst float pifi = pi / 5.0;\nconst float pifih = pifi / 2.0;\nconst float r = 0.4;\nconst float ri = 0.3;\nconst float ri2 = 0.36;\nconst float h = 0.6;\nconst float hu = 0.5;\nconst float huh = 0.55;\n\nstruct line {\n    vec3 a;\n    vec3 b;\n};\n\nfloat segment(vec2 u, line l){\n    vec2 a = l.a.xy;\n    vec2 b = l.b.xy;\n    b -= a, u -= a;\n    return length( u - b * clamp(dot(b, u) / dot(b, b), 0., 1.));\n}\n\nvoid addCol(inout vec3 col, float dist){\n    col += vec3(clamp(\n    \t1.0 - (( dist - 0.002) / 0.003)\n        , 0.0\n        , 1.0\n    ));\n}\n\nbool drawLine(line l){\n    return l.b.z > -0.1 && l.a.z > -0.1;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord - (iResolution.xy / 2.0)) / iResolution.y;\n    uv *= 2.0;\n    uv /= 1.5;\n\n    vec3 col = vec3(0.);\n    \n    float ao = -iTime / 4.0;\n    vec3 base = vec3(0.0, - h / 2.0, 0.0);\n    \n    for(float i = 0.0; i < 10.0; i = i + 1.0){\n        vec3 mainEdge = vec3(\n            sin(pifi * i + ao) * r,\n            hu,\n            cos(pifi * i + ao) * r\n        );\n        vec3 upperMidpoint = vec3(\n            sin(pifi * i + pifih + ao) * r,\n            hu,\n            cos(pifi * i + pifih + ao) * r\n        );\n        vec3 prevUpperMidpoint = vec3(\n            sin(pifi * i - pifih + ao) * r,\n            hu,\n            cos(pifi * i - pifih + ao) * r\n        );\n        vec3 upperMainEdgeEnd = vec3(\n            sin(pifi * i + ao) * ri2,\n            huh,\n            cos(pifi * i + ao) * ri2\n        );\n        vec3 topMidpoint = vec3(\n            sin(pifi * i + pifih + ao) * ri,\n            h,\n            cos(pifi * i + pifih + ao) * ri\n        );\n        vec3 prevTopMidpoint = vec3(\n            sin(pifi * i - pifih + ao) * ri,\n            h,\n            cos(pifi * i - pifih + ao) * ri\n        );\n        \n        line lineToDraw = line(\n        \tbase,\n            base + mainEdge\n        );\n        if(drawLine(lineToDraw))\n        \taddCol(col, segment(uv, lineToDraw ));\n        \n        lineToDraw = line(\n        \tbase + mainEdge * 0.33,\n            base + upperMidpoint\n        );\n        if(drawLine(lineToDraw))\n        \taddCol(col, segment(uv, lineToDraw ));\n        \n        lineToDraw = line(\n        \tbase + mainEdge * 0.33,\n            base + prevUpperMidpoint\n        );\n        if(drawLine(lineToDraw))\n        \taddCol(col, segment(uv, lineToDraw ));\n        \n        lineToDraw = line(\n        \tbase + mainEdge,\n            base + upperMidpoint\n        );\n        if(drawLine(lineToDraw))\n        \taddCol(col, segment(uv, lineToDraw ));\n        \n        lineToDraw = line(\n        \tbase + mainEdge,\n            base + prevUpperMidpoint\n        );\n        if(drawLine(lineToDraw))\n        \taddCol(col, segment(uv, lineToDraw ));\n        \n        lineToDraw = line(\n        \tbase + mainEdge,\n            base + upperMainEdgeEnd\n        );\n        if(drawLine(lineToDraw))\n        \taddCol(col, segment(uv, lineToDraw ));\n        \n        lineToDraw = line(\n        \tbase + upperMainEdgeEnd,\n            base + upperMidpoint\n        );\n        if(drawLine(lineToDraw))\n        \taddCol(col, segment(uv, lineToDraw ));\n        \n        lineToDraw = line(\n        \tbase + upperMainEdgeEnd,\n            base + prevUpperMidpoint\n        );\n        if(drawLine(lineToDraw))\n        \taddCol(col, segment(uv, lineToDraw ));\n        \n        lineToDraw = line(\n        \tbase + upperMainEdgeEnd,\n            base + topMidpoint\n        );\n        if(drawLine(lineToDraw))\n        \taddCol(col, segment(uv, lineToDraw ));\n        \n        lineToDraw = line(\n        \tbase + upperMainEdgeEnd,\n            base + prevTopMidpoint\n        );\n        if(drawLine(lineToDraw))\n        \taddCol(col, segment(uv, lineToDraw ));\n        \n        lineToDraw = line(\n        \tbase + topMidpoint,\n            base + prevTopMidpoint\n        );\n        if(drawLine(lineToDraw))\n        \taddCol(col, segment(uv, lineToDraw ));\n    }\n    \n    col = clamp(col, 0.0, 1.0);\n\n    fragColor = vec4(col,1.0);\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}