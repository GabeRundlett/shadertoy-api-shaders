{
    "Shader": {
        "info": {
            "date": "1707762078",
            "description": "Our contribution to lovebyte.party 2024. I am still stunned by the bytebeat by lhphr. Ignore my graphics, it was my first attempt at 1KiB :). If music falters hit Reset time button above (arrow to pointing to left). ",
            "flags": 8,
            "hasliked": 0,
            "id": "l3fGzf",
            "likes": 23,
            "name": "lovebyte-Straight from The Book",
            "published": 3,
            "tags": [
                "1kib",
                "lovebyte"
            ],
            "usePreview": 0,
            "username": "mrange",
            "viewed": 465
        },
        "renderpass": [
            {
                "code": "//  `----- - --- ---------?\\___/?\\/zS!?\\___/?\\/-o\n//                mrange & lhphr                |\n//  `----- - --- ------ -----\\___/?\\/!?\\___/?\\/-o\n//                                              |\n//   release name: Straight from The Book       |\n//           type: Windows 1k intro             |\n//   release date: 11.02.2024                   |\n//   party/compo : lovebyte 2024                |\n//                                              |\n//                                              |\n//  music: lhphr (www.youtube.com/@lhphr)       |\n//  code: mrange                                |\n//                                              |\n//                                              |\n// mrange at the keyboard: Teaming up with      |\n// Virgill, we've tackled a few 4KiB intros,    |\n// but I craved a challenge—something smaller,  |\n// a 1KiB intro. The catch? Wrestling with the  |\n// music.                                       |\n//                                              |\n// Then, a game-changer: Lovebyte 2024's        |\n// announcement led me to bytebeat.demozoo.org. |\n// Tunes galore, but 't% funk' by lhphr stole   |\n// the spotlight. The sheer richness of music   |\n// from such a concise expression blew my mind. |\n//                                              |\n// Inspired, I aimed to craft a 1KiB intro      |\n// around this musical gem, and lhphr generously|\n// gave the green light.                        |\n//                                              |\n// To me, it's \"Straight from The Book\", akin to|\n// Erdos praising a captivating mathematical    |\n// proof. In Erdos's world, The Book contains   |\n// God's script for the best, most elegant      |\n// proofs. I believe this expression deserves   |\n// its place in The Book.                       |\n//                                              |\n// This marks my debut 1KiB intro. Dive in,     |\n// savor the fantastic music, and forgive any   |\n// visual quirks—I hope they won't dampen the   |\n// experience too much. Cheers!                 |\n//                                              |\n//                                         _  .:!\n//  <----- ----- -  -   -     - ----- ----\\/----'\n\n\n// https://www.pouet.net/prod.php?which=96149\n// https://demozoo.org/productions/338146/\n// https://www.youtube.com/watch?v=fnmmghvKoOo\n\nmat2 rot(float a) {\n  return mat2(cos(a),sin(a),-sin(a),cos(a));\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n  vec2 p = (-iResolution.xy+2.*fragCoord)/iResolution.yy;\n  vec3 m = music(iTime+p.x*1E-2);\n\n  float wave      = m.x;\n  float kick      = m.y;\n  float nkickTime = m.z;\n\n  float len       = length(p);\n\n  vec3 col  = vec3(0.);\n  vec3 bcol = vec3(.125, .25, .5);\n  \n  if (wave+abs(p.y) > 1.) col.x += .25;\n\n  // Lots of random coding below this point...\n  // Basically borrowed some xor code from XorDev and Virgill and tinkered until I ran out of time.\n  p *= (1.5+.5*sin(-4.*(len+kick)))*rot(-nkickTime+.5*len);\n\n  for (int i = 10; i > 0; --i) {\n    ivec2 ip = ivec2(abs(rot(-.1*kick*float(i))*p*12.));\n    if ((nkickTime > 128. ? ip.x&ip.y : ip.x^ip.y)%99%(43^int(nkickTime+20.*-abs(p.x*p.y)*step(64.,mod(nkickTime, 128.))))<i) {\n      col += bcol*exp(-.2*float(i));\n    }\n  }\n\n  col *= len*len;\n  col += .5*kick*kick/len*sqrt(bcol);\n  fragColor = vec4(col, 1.0);\n}\n",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            },
            {
                "code": "//  `----- - --- ---------?\\___/?\\/zS!?\\___/?\\/-o\n//                mrange & lhphr                |\n//  `----- - --- ------ -----\\___/?\\/!?\\___/?\\/-o\n//                                              |\n//   release name: Straight from The Book       |\n//           type: Windows 1k intro             |\n//   release date: 11.02.2024                   |\n//   party/compo : lovebyte 2024                |\n//                                              |\n//                                              |\n//  music: lhphr (www.youtube.com/@lhphr)       |\n//  code: mrange                                |\n//                                              |\n//                                              |\n// mrange at the keyboard: Teaming up with      |\n// Virgill, we've tackled a few 4KiB intros,    |\n// but I craved a challenge—something smaller,  |\n// a 1KiB intro. The catch? Wrestling with the  |\n// music.                                       |\n//                                              |\n// Then, a game-changer: Lovebyte 2024's        |\n// announcement led me to bytebeat.demozoo.org. |\n// Tunes galore, but 't% funk' by lhphr stole   |\n// the spotlight. The sheer richness of music   |\n// from such a concise expression blew my mind. |\n//                                              |\n// Inspired, I aimed to craft a 1KiB intro      |\n// around this musical gem, and lhphr generously|\n// gave the green light.                        |\n//                                              |\n// To me, it's \"Straight from The Book\", akin to|\n// Erdos praising a captivating mathematical    |\n// proof. In Erdos's world, The Book contains   |\n// God's script for the best, most elegant      |\n// proofs. I believe this expression deserves   |\n// its place in The Book.                       |\n//                                              |\n// This marks my debut 1KiB intro. Dive in,     |\n// savor the fantastic music, and forgive any   |\n// visual quirks—I hope they won't dampen the   |\n// experience too much. Cheers!                 |\n//                                              |\n//                                         _  .:!\n//  <----- ----- -  -   -     - ----- ----\\/----'\n\n// https://www.pouet.net/prod.php?which=96149\n// https://demozoo.org/productions/338146/\n// https://www.youtube.com/watch?v=fnmmghvKoOo\n\nvec3 music(float time) {\n  // The Amazing 't% funk' by lhphr ported to shadertoy\n  // Found here: https://bytebeat.demozoo.org/\n  // If it sounds off it's all my (mrange's) fault\n  // The original formula:\n  /*\n    // t% funk\n    // by: lhphr\n    // from: https://dollchan.net/btb/res/3.html#66\n\n    (t%(t&t>>12)/2**(t/1024%4-3)&127)+(8e3**(1-t%16384/1e4)&64)\n  */\n  float musicTime = 32e3*time;\n  float kickTime  = musicTime/16384.;\n  float nkickTime = floor(kickTime);\n  float kick      = 1.-(kickTime-nkickTime)*16384./1e4;\n  float wave      = \n    float(\n        (int(mod(musicTime,float(int(musicTime)&int(musicTime)>>12))/pow(2.,mod(kickTime*16.,4.)-3.))&127)\n      + (int(pow(8e3,kick))&64\n      )&255)/255.;\n  return vec3(wave, kick,nkickTime);\n}\n\n",
                "description": "",
                "inputs": [],
                "name": "Common",
                "outputs": [],
                "type": "common"
            },
            {
                "code": "//  `----- - --- ---------?\\___/?\\/zS!?\\___/?\\/-o\n//                mrange & lhphr                |\n//  `----- - --- ------ -----\\___/?\\/!?\\___/?\\/-o\n//                                              |\n//   release name: Straight from The Book       |\n//           type: Windows 1k intro             |\n//   release date: 11.02.2024                   |\n//   party/compo : lovebyte 2024                |\n//                                              |\n//                                              |\n//  music: lhphr (www.youtube.com/@lhphr)       |\n//  code: mrange                                |\n//                                              |\n//                                              |\n// mrange at the keyboard: Teaming up with      |\n// Virgill, we've tackled a few 4KiB intros,    |\n// but I craved a challenge—something smaller,  |\n// a 1KiB intro. The catch? Wrestling with the  |\n// music.                                       |\n//                                              |\n// Then, a game-changer: Lovebyte 2024's        |\n// announcement led me to bytebeat.demozoo.org. |\n// Tunes galore, but 't% funk' by lhphr stole   |\n// the spotlight. The sheer richness of music   |\n// from such a concise expression blew my mind. |\n//                                              |\n// Inspired, I aimed to craft a 1KiB intro      |\n// around this musical gem, and lhphr generously|\n// gave the green light.                        |\n//                                              |\n// To me, it's \"Straight from The Book\", akin to|\n// Erdos praising a captivating mathematical    |\n// proof. In Erdos's world, The Book contains   |\n// God's script for the best, most elegant      |\n// proofs. I believe this expression deserves   |\n// its place in The Book.                       |\n//                                              |\n// This marks my debut 1KiB intro. Dive in,     |\n// savor the fantastic music, and forgive any   |\n// visual quirks—I hope they won't dampen the   |\n// experience too much. Cheers!                 |\n//                                              |\n//                                         _  .:!\n//  <----- ----- -  -   -     - ----- ----\\/----'\n\n// https://www.pouet.net/prod.php?which=96149\n// https://demozoo.org/productions/338146/\n// https://www.youtube.com/watch?v=fnmmghvKoOo\n\nvec2 mainSound(int samp, float time) {\n  return vec2(music(time).x);\n}",
                "description": "",
                "inputs": [],
                "name": "Sound",
                "outputs": [],
                "type": "sound"
            }
        ],
        "ver": "0.1"
    }
}