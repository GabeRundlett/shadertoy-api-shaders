{
    "Shader": {
        "info": {
            "date": "1495267495",
            "description": "a",
            "flags": 0,
            "hasliked": 0,
            "id": "MsfBRM",
            "likes": 21,
            "name": "leetest2",
            "published": 3,
            "tags": [
                "a"
            ],
            "usePreview": 0,
            "username": "lee",
            "viewed": 1110
        },
        "renderpass": [
            {
                "code": "#define time iTime*0.15\n#define tau 6.2831853\n\nmat2 makem2(in float theta){float c = cos(theta);float s = sin(theta);return mat2(c,-s,s,c);}\nfloat noise( in vec2 x ){return texture(iChannel0, x*.01).x;}\n\nfloat fbm(in vec2 p)\n{\t\nvec4 tt=fract(vec4(time*2.)+vec4(0.0,0.25,0.5,0.75));\nvec2 p1=p-normalize(p)*tt.x;\nvec2 p2=vec2(1.0)+p-normalize(p)*tt.y;\nvec2 p3=vec2(2.0)+p-normalize(p)*tt.z;\nvec2 p4=vec2(3.0)+p-normalize(p)*tt.w;\nvec4 tr=vec4(1.0)-abs(tt-vec4(0.5))*2.0;//*vec4(0.0,1.0,0.0,1.0);\nfloat z=2.;\nvec4 rz = vec4(0.);\nfor (float i= 1.;i < 4.;i++)\n{\nrz+= abs((vec4(noise(p1),noise(p2),noise(p3),noise(p4))-vec4(0.5))*2.)/z;\nz = z*2.;\np1 = p1*2.;\np2 = p2*2.;\np3 = p3*2.;\np4 = p4*2.;\n}\nreturn dot(rz,tr)*0.25;\n}\nfloat dualfbm(in vec2 p)\n{\n    //get two rotated fbm calls and displace the domain\n\tvec2 p2 = p*.7;\n\tvec2 basis = vec2(fbm(p2-time*1.6),fbm(p2+time*1.7));\n\tbasis = (basis-.5)*.2;\n\tp += basis;\n\t\n\t//coloring\n\treturn fbm(p); //*makem2(time*2.0));\n}\n\nfloat circ(vec2 p) \n{\n\tfloat r = length(p);\n\tr = log(sqrt(r));\n\treturn abs(mod(r*2.,tau)-4.54)*5.+.5;\n\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\t//setup system\n\tvec2 p = fragCoord.xy / iResolution.xy-0.5;\n\tp.x *= iResolution.x/iResolution.y;\n\tp*=4.0;\n\t\n    float rz = dualfbm(p);\n\t\n\t//rings\n\t//p /= 7.0; //exp(mod(time*10.,3.14159));\n\t//rz *= pow(abs((0.0-circ(p))),.99);\n    \n    rz *= abs((-circ(vec2(p.x / 4.2, p.y / 7.0))));\n    rz *= abs((-circ(vec2(p.x / 4.2, p.y / 7.0))));\n    rz *= abs((-circ(vec2(p.x / 4.2, p.y / 7.0))));\n\t\n\t//final color\n\tvec3 col = vec3(.18,.30,.85)/rz;\n\tcol=pow(abs(col),vec3(.73));\n\tfragColor = vec4(col,1.5);\n}",
                "description": "",
                "inputs": [
                    {
                        "channel": 0,
                        "ctype": "texture",
                        "id": 30,
                        "published": 1,
                        "sampler": {
                            "filter": "mipmap",
                            "internal": "byte",
                            "srgb": "false",
                            "vflip": "true",
                            "wrap": "repeat"
                        },
                        "src": "/media/a/f735bee5b64ef98879dc618b016ecf7939a5756040c2cde21ccb15e69a6e1cfb.png"
                    }
                ],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}