{
    "Shader": {
        "info": {
            "date": "1502576191",
            "description": "The ported demo the taken 1nd place of the competition tiny intro on demoparty Chaos Constructions 2014",
            "flags": 0,
            "hasliked": 0,
            "id": "Ms2BWc",
            "likes": 16,
            "name": "Spirello",
            "published": 3,
            "tags": [
                "3d",
                "wave",
                "spiral",
                "color",
                "isosurface"
            ],
            "usePreview": 0,
            "username": "rubelson",
            "viewed": 893
        },
        "renderpass": [
            {
                "code": "void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\nfloat f,z,z0;\nconst float n = 40.;\n\nvec2 xy0 = iResolution.xy/2.;\nfloat time = iTime*0.25;\nfloat h = iResolution.x/32.;\nfloat r0 = iResolution.x/5.5;\t// Step of waves\nfloat r1 = iResolution.x/10.5;\t// Height of waves\nfloat phi = 35.;\n\nif (iMouse.z > 0.) phi+=(1.-2.*iMouse.y/iResolution.y)*45.;\n\nfloat pi = 3.14159265;\nfloat p180 = pi / 180.;\n\nfloat sf = sin(phi * p180);\nfloat cf = cos(phi * p180);\n\nmat2 trot = mat2(cos(time),sin(time),-sin(time),cos(time));\n\nvec2 xy = vec2(0.);\nvec2 r = vec2(0.);\nvec3 col = vec3(0.);\n\nxy.x = fragCoord.x - xy0.x;  \t\n\nz0 = -10000.;\n\nfor(float j=0.; j<=n; j++)\n  {\n  xy.y = abs(xy.x) - n * h + 2. * h * j;\n  for(int i=0; i<=1; i++)\n\t{\n\tr = xy * trot;\n\tr.y += sign(r.x) * r0;\n\tf = cos(pi * length(r) / r0);\n\n\tz = xy.y * sf + f * r1 * cf;\n\tif(z > z0)\n\t\t{\n\t\tif( abs(xy0.y+z-fragCoord.y) < 2.-.5*abs(f) )\n\t\tcol = smoothstep(.33, .66, abs(mod(vec3(f+.33,f-.33,f+1.),2.)-1.));\n\t\tz0 = z + 1.;\n\t\t}\n\txy.y += mod(n * h - abs(xy.x), h) * 2.;\t\n\t}\n  if(j > n - abs(xy.x) / h) break;\n  }\nfragColor = vec4(col,1.);\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}