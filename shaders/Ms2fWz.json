{
    "Shader": {
        "info": {
            "date": "1500249041",
            "description": "An attempt of doing a simple ray tracing with a sphere reflection....in two tweets. ",
            "flags": 0,
            "hasliked": 0,
            "id": "Ms2fWz",
            "likes": 4,
            "name": "[SH17A] So known raytracer",
            "published": 3,
            "tags": [
                "raytracing",
                "reflection",
                "sphere",
                "sh17a",
                "shortsize"
            ],
            "usePreview": 0,
            "username": "josemorval",
            "viewed": 698
        },
        "renderpass": [
            {
                "code": "//Resizing by FrabiceNeyret2 with some modifications\nvoid mainImage( out vec4 c, vec2 p )\n{\n   vec3  r = vec3( p = ( p+p -( c.xy=iResolution.xy) ) / c.y, 4 ),\n   d = normalize(r);\n   r.z -= 7.;\n   float h = dot(d,r), \n   s = -h -sqrt( h*h -dot(r,r) +1. );\n   \n   c-= s>.1\n       ? d -= 2.* dot( d, r += s*d ) *r ,\n         c-9.-3.1*h\n       : c;\n \n   s = ( -3. -r.y ) / d.y;\n    \n   c=s > .1 ?\n       r += s*d,\n  //  c = smoothstep(.0,.3, sin( 1.*r.z + r.x + 5.*iTime ) )\n       step(.0,sin(r.z+1.*r.x+5.*iTime))\n           / ( 1. + r.z*r.zzzz/3e1 )   : c;\n}\n\n\n//First attempt\n// #define b iResolution\n// #define h dot(d,r)\n// #define j s=(-3.-r.y)/d.y;\n// #define k c=vec4(smoothstep(.0,.3,sin(1.*r.z+r.x+5.*iTime)));\n// void mainImage( out vec4 c, in vec2 p )\n// {\n//    p = (-b.xy + 2.*p)/b.y;\n//    vec3 r = vec3(p.x,p.y,-1.0),d = normalize(r-vec3(.0,.0,-5.0));    \n//    float s = -h-sqrt(h*h-dot(r,r)+1.);\n    \n//    c=vec4(0.);\n//    if(s>0.){\n//        c+=15.*(0.83+h);\n//        r+=s*d;d-=2.*h*r;\n//    }\n//    j\n//    if(s>0.){r+=s*d;k;c/=(1.+.002*r.z*r.z);}\n    \n// }",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}