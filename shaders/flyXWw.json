{
    "Shader": {
        "info": {
            "date": "1640753211",
            "description": "The message changes completely between the thumbnail and the main player.",
            "flags": 32,
            "hasliked": 0,
            "id": "flyXWw",
            "likes": 15,
            "name": "view-grubber",
            "published": 3,
            "tags": [
                "shadertoy",
                "message",
                "itime",
                "iframe"
            ],
            "usePreview": 0,
            "username": "IWBTShyGuy",
            "viewed": 868
        },
        "renderpass": [
            {
                "code": "// Determines if a person is watching a thumbnail.\nbool isThumbnail() { return textureLod(iChannel0, vec2(.5), 0.).x > .5; }\n\nfloat hash(float x) { return fract(sin(x * 114.514) * 191981.0); }\nfloat noise(float t, float gen) { return mix(hash(floor(t) + gen), hash(floor(t) + 1. + gen), fract(t)); }\nvec2 disp(float s, float gen) { return (2. * vec2(noise(s, gen), noise(s, gen + .42)) - 1.) * .0075; }\n\nfloat letter(in vec2 uv, in int idx) {\n    uv = (clamp(uv, 0., 1.) + vec2(idx % 16, 15 - idx / 16)) / 16.;\n    return texture(iChannel1, uv).x;\n}\n\n#define RENDER_MESSAGE(ARRAY, SIZE, Y_CENTER, disp, RGB) \\\nv = U / r.y + disp; len = ARRAY.length();\\\ndel = (v.y - Y_CENTER) / SIZE;\\\na = (v.x * 2. - r.x / r.y) / SIZE + float(len) * .5;\\\nv = vec2(fract(a) / 2. + .25, del + .5);\\\nif (0 <= (idx = int(floor(a))) && idx < len && abs(del) < .5)\\\nRGB += max(letter(v, ARRAY[idx]) - .1, 0.) / .9;\n\nconst int Youre_only_seeing_the_thumbnail[] = int[](\n    89, 111, 117, 39, 114, 101, 32, 111, 110, 108, 121, 32, 115, 101, 101, 105, 110, 103, 32, 116, 104, 101,\n    32, 116, 104, 117, 109, 98, 110, 97, 105, 108, 32, 58, 45, 40\n);\n\nconst int CLICK_HERE[] = int[](62, 32, 67, 76, 73, 67, 75, 32, 72, 69, 82, 69, 32, 60);\n\nconst int Thank_you_for_the_view[] = int[](\n    84, 104, 97, 110, 107, 32, 121, 111, 117, 32, 102, 111, 114, 32, 116, 104, 101, 32, 118, 105, 101, 119,\n    32, 59, 45, 41\n);\n\nvoid mainImage(out vec4 O, in vec2 U) {\n    vec2 r = iResolution.xy, v, q; float a, del, s = iTime * 30.; int len, idx; O = vec4(0,0,0,1);\n    \n    // To make the Preview screen for thumbnails, only the first frame should be a thumbnail image.\n    bool bIsThumbnail = iFrame == 0 || isThumbnail();\n    if (bIsThumbnail) {\n        RENDER_MESSAGE(CLICK_HERE, .15, .4, disp(s, .1), O.x)\n        RENDER_MESSAGE(CLICK_HERE, .15, .4, disp(s, .15), O.y)\n        RENDER_MESSAGE(CLICK_HERE, .15, .4, disp(s, .2), O.z)\n        RENDER_MESSAGE(Youre_only_seeing_the_thumbnail, .095, .65, disp(s, .1), O.x)\n        RENDER_MESSAGE(Youre_only_seeing_the_thumbnail, .095, .65, disp(s, .15), O.y)\n        RENDER_MESSAGE(Youre_only_seeing_the_thumbnail, .095, .65, disp(s, .2), O.z)\n    } else {\n        RENDER_MESSAGE(Thank_you_for_the_view, .09, .5, vec2(0), O.xyz)\n    }\n}\n",
                "description": "",
                "inputs": [
                    {
                        "channel": 1,
                        "ctype": "texture",
                        "id": 49,
                        "published": 1,
                        "sampler": {
                            "filter": "mipmap",
                            "internal": "byte",
                            "srgb": "false",
                            "vflip": "true",
                            "wrap": "repeat"
                        },
                        "src": "/media/a/08b42b43ae9d3c0605da11d0eac86618ea888e62cdd9518ee8b9097488b31560.png"
                    },
                    {
                        "channel": 0,
                        "ctype": "buffer",
                        "id": 257,
                        "published": 1,
                        "sampler": {
                            "filter": "linear",
                            "internal": "byte",
                            "srgb": "false",
                            "vflip": "true",
                            "wrap": "clamp"
                        },
                        "src": "/media/previz/buffer00.png"
                    }
                ],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            },
            {
                "code": "//\n// thumbnail judge\n//\n// The MIT License\n// Copyright Â© 2021 IWBTShyGuy\n//\n\n// If one sees the thumnail, this image is white, else is black.\n//\n// # Details\n// If `iTime` of the first four frame does not exceed 10, it is the main player;\n// if it exceeds 10, it is the thumbnail.\n// https://www.shadertoy.com/view/7tV3zK\n// https://www.shadertoy.com/view/sl3XDs\nvoid mainImage(out vec4 O, in vec2 U) {\n    if (iFrame < 4) O = vec4(iTime > 8. ? 1. : 0.);\n    else O = texture(iChannel0, vec2(.5));\n}\n",
                "description": "",
                "inputs": [
                    {
                        "channel": 0,
                        "ctype": "buffer",
                        "id": 257,
                        "published": 1,
                        "sampler": {
                            "filter": "linear",
                            "internal": "byte",
                            "srgb": "false",
                            "vflip": "true",
                            "wrap": "clamp"
                        },
                        "src": "/media/previz/buffer00.png"
                    }
                ],
                "name": "Buffer A",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 257
                    }
                ],
                "type": "buffer"
            }
        ],
        "ver": "0.1"
    }
}