{
    "Shader": {
        "info": {
            "date": "1591279047",
            "description": "Hey! I'm Goomba and waiting for Mario, who will stamp on me.",
            "flags": 0,
            "hasliked": 0,
            "id": "Wlsyzn",
            "likes": 6,
            "name": "ORIGAMI KING GOOMBA",
            "published": 3,
            "tags": [
                "mario",
                "reproduction"
            ],
            "usePreview": 0,
            "username": "yasuo",
            "viewed": 437
        },
        "renderpass": [
            {
                "code": "// All the distance functions from:https://iquilezles.org/articles/distfunctions\n// raymarching based from https://www.shadertoy.com/view/wdGGz3\n// The modeling is based on simple plane distance and created a useful custom box distance function that is easy for me to model.\n#define USE_MOUSE 0\n#define MAX_STEPS 200\n#define MAX_DIST 80.\n#define SURF_DIST .002\n#define GOOMBA_THICKNESS 0.05\n#define Rot(a) mat2(cos(a),-sin(a),sin(a),cos(a))\n#define antialiasing(n) n/min(iResolution.y,iResolution.x)\n#define S(d,b) smoothstep(antialiasing(1.0),b,d)\n#define matRotateX(rad) mat3(1,0,0,0,cos(rad),-sin(rad),0,sin(rad),cos(rad))\n#define matRotateY(rad) mat3(cos(rad),0,-sin(rad),0,1,0,sin(rad),0,cos(rad))\n#define matRotateZ(rad) mat3(cos(rad),-sin(rad),0,sin(rad),cos(rad),0,0,0,1)\n\nfloat smin( float a, float b, float k ) {\n    float h = clamp( 0.5+0.5*(b-a)/k, 0., 1. );\n    return mix( b, a, h ) - k*h*(1.0-h);\n}\n\nvec4 combine(vec4 val1, vec4 val2 ){\n    return (val1.w < val2.w)?val1:val2;\n}\n\nfloat customBoxDist(vec3 p, vec4 btm, vec4 top, vec4 rt, vec4 lt, vec4 fw, vec4 b) {\n    float p1 = dot(p,btm.xyz) + btm.w;\n    float p2 = dot(p,top.xyz) + top.w;\n    float p3 = dot(p,rt.xyz) + rt.w;\n    float p4 = dot(p,lt.xyz) + lt.w;\n    float p5 = dot(p,fw.xyz) + fw.w;\n    float p6 = dot(p,b.xyz) + b.w;\n    float d = max(-p1,max(-p2,max(-p3,max(-p4,max(-p5,-p6)))));\n    return d;\n}\n\n// 2D distance box https://iquilezles.org/articles/distfunctions2d\nfloat sdBox( in vec2 p, in vec2 b )\n{\n    vec2 d = abs(p)-b;\n    return length(max(d,0.0)) + min(max(d.x,d.y),0.0);\n}\n\nvec3 origamiPattern(vec2 p, vec3 col, vec3 colA, vec3 colB) {\n    mat2 rot = Rot(radians(45.0));\n\tfloat d = sdBox(p*rot,vec2(0.1));\n    d = max(-p.x,d);\n    col = mix(col,colA,S(d,0.0));\n    d = sdBox(p*rot,vec2(0.1));\n    d = max(p.x,d);\n    col = mix(col,colB,S(d,0.0));\n    return col;\n}\n\nvec3 background(vec2 p, vec3 col){\n    p*=2.0;\n    p.x+=sin(iTime*0.5)*1.0;\n    vec2 prevP = p;\n    vec3 colA = vec3(0.5,0.7,0.8)*1.05;\n    vec3 colB = vec3(0.4,0.6,0.7)*1.15;\n    \n    p.x = mod(p.x,0.29)-0.145;\n    p.y = mod(p.y,0.29)-0.145;\n    \n    col = origamiPattern(p,col,colA,colB);\n    p = prevP;\n    \n    p.x+=0.145;\n    p.y+=0.145;\n\tp.x = mod(p.x,0.29)-0.145;\n    p.y = mod(p.y,0.29)-0.145;\n    \n    col = origamiPattern(p,col,colA,colB);\n    \n    return col;\n}\n\nvec3 floorMat(vec2 p, vec3 col){\n    p*=0.3;\n    vec2 prevP = p;\n    vec3 colA = vec3(0.3,0.5,0.3);\n    vec3 colB = vec3(0.3,0.5,0.3)*0.9;\n    \n    p.x = mod(p.x,0.28)-0.14;\n    p.y = mod(p.y,0.28)-0.14;\n    \n    col = origamiPattern(p,col,colA,colB);\n    p = prevP;\n    \n    p.x+=0.14;\n    p.y+=0.14;\n\tp.x = mod(p.x,0.28)-0.14;\n    p.y = mod(p.y,0.28)-0.14;\n    \n    col = origamiPattern(p,col,colA,colB);\n    \n    return col;\n}\n\nfloat goombaDist1(vec3 p) {\n    float size = 1.5;\n    float thickness = GOOMBA_THICKNESS;\n    vec4 a1 = vec4(0.0,size,0.0,0.5); // btm\n    vec4 a2 = vec4(-3.0,-size,0.0,1.5); // top  \n    vec4 a3 = vec4(size,0.0,0.0,0.2); // right     \n    vec4 a4 = vec4(-size,1.0,0.0,0.3); // left          \n    vec4 a5 = vec4(0.0,0.0,-size,thickness); // foward\n    vec4 a6 = vec4(0.0,0.0,size,thickness); // back\n    return customBoxDist(p,a1,a2,a3,a4,a5,a6)*0.6;\n}\n\nfloat goombaDist2(vec3 p) {\n    float size = 1.5;\n    float thickness = GOOMBA_THICKNESS;\n    vec4 a1 = vec4(0.0,size,0.0,0.5); // btm \n    vec4 a2 = vec4(0.0,-size,0.0,1.9); // top  \n    vec4 a3 = vec4(size,0.0,0.0,0.7); // right      \n    vec4 a4 = vec4(-size,0.0,0.0,0.7); // left         \n    vec4 a5 = vec4(0.0,0.0,-size,thickness); // foward              \n    vec4 a6 = vec4(0.0,0.0,size,thickness); // back\n    return customBoxDist(p,a1,a2,a3,a4,a5,a6)*0.6;\n}\n\nfloat goombaDist3(vec3 p) {\n    float size = 1.5;\n    float thickness = GOOMBA_THICKNESS;\n    vec4 a1 = vec4(0.0,size,0.0,0.5); // btm\n    vec4 a2 = vec4(-0.5,-size,0.0,0.3); // top  \n    vec4 a3 = vec4(size,0.0,0.0,0.5); // right      \n    vec4 a4 = vec4(-size,0.7,0.0,0.75); // left           \n    vec4 a5 = vec4(0.0,0.0,-size,thickness); // foward            \n    vec4 a6 = vec4(0.0,0.0,size,thickness); // back\n    return customBoxDist(p,a1,a2,a3,a4,a5,a6)*0.6;\n}\n\nfloat goombaDist4(vec3 p) {\n    float size = 1.5;\n    float thickness = GOOMBA_THICKNESS;\n    vec4 a1 = vec4(-0.7,size,0.0,0.3); // btm\n    vec4 a2 = vec4(0.0,-size,0.0,0.3); // top  \n    vec4 a3 = vec4(size,0.0,0.0,0.4); // right      \n    vec4 a4 = vec4(-size,0.0,0.0,0.0); // left          \n    vec4 a5 = vec4(0.0,0.0,-size,thickness); // foward            \n    vec4 a6 = vec4(0.0,0.0,size,thickness); // back\n    return customBoxDist(p,a1,a2,a3,a4,a5,a6)*0.6;\n}\n\nfloat goombaDist5(vec3 p) {\n    float size = 1.5;\n    float thickness = GOOMBA_THICKNESS;\n    vec4 a1 = vec4(0.0,size,0.0,0.5); // btm\n    vec4 a2 = vec4(0.0,-size,0.0,0.3); // top   \n    vec4 a3 = vec4(size,0.0,0.0,0.2); // right       \n    vec4 a4 = vec4(-size,0.0,0.0,0.2); // left           \n    vec4 a5 = vec4(0.0,0.0,-size,thickness); // foward               \n    vec4 a6 = vec4(0.0,0.0,size,thickness); // back\n    return  customBoxDist(p,a1,a2,a3,a4,a5,a6)*0.6;\n}\n\nfloat goombaDist6(vec3 p) {\n    float size = 1.5;\n    float thickness = GOOMBA_THICKNESS;\n    vec4 a1 = vec4(0.0,size,0.0,0.3); // btm\n    vec4 a2 = vec4(-1.0,-size,0.0,0.04); // top   \n    vec4 a3 = vec4(size,0.0,0.0,0.1); // right        \n    vec4 a4 = vec4(-size,0.0,0.0,0.1); // left          \n    vec4 a5 = vec4(0.0,0.0,-size,thickness); // foward               \n    vec4 a6 = vec4(0.0,0.0,size,thickness); // back\n    return customBoxDist(p,a1,a2,a3,a4,a5,a6)*0.6;\n}\n\nfloat goombaDist7(vec3 p) {\n    float size = 1.5;\n    float thickness = GOOMBA_THICKNESS;\n    vec4 a1 = vec4(0.0,size,0.0,0.3); // btm\n    vec4 a2 = vec4(0.0,-size,0.0,0.105); // top  \n    vec4 a3 = vec4(size,0.0,0.0,0.08); // right       \n    vec4 a4 = vec4(-size,0.0,0.0,0.08); // left          \n    vec4 a5 = vec4(0.0,0.0,-size,thickness); // foward               \n    vec4 a6 = vec4(0.0,0.0,size,thickness); // back\n    return customBoxDist(p,a1,a2,a3,a4,a5,a6)*0.6;\n}\n\nfloat goombaDist8(vec3 p) {\n    float size = 2.0;\n    float thickness = GOOMBA_THICKNESS;\n    vec4 a1 = vec4(0.0,size,0.0,-1.0); // btm\n    vec4 a2 = vec4(-size*2.0,-size,0.0,3.0); // top  \n    vec4 a3 = vec4(size,-size*0.5,0.0,1.0); // right     \n    vec4 a4 = vec4(-size,1.0,0.0,1.0); // left          \n    vec4 a5 = vec4(0.0,0.0,-size,thickness); // foward\n    vec4 a6 = vec4(0.0,0.0,size,thickness); // back\n    return customBoxDist(p,a1,a2,a3,a4,a5,a6)*0.6;\n}\n\nfloat goombaDist9(vec3 p) {\n    float size = 1.5;\n    float thickness = GOOMBA_THICKNESS;\n    vec4 a1 = vec4(-0.3,size,0.0,-0.8); // btm\n    vec4 a2 = vec4(0.5,-size,0.0,1.0); // top  \n    vec4 a3 = vec4(size,0.0,0.0,0.7); // right     \n    vec4 a4 = vec4(-size,-1.5,0.0,1.5); // left          \n    vec4 a5 = vec4(0.0,0.0,-size,thickness); // foward\n    vec4 a6 = vec4(0.0,0.0,size,thickness); // back\n    return customBoxDist(p,a1,a2,a3,a4,a5,a6)*0.6;\n}\n\nfloat goombaDist10(vec3 p) {\n    float size = 2.0;\n    float thickness = GOOMBA_THICKNESS;\n    vec4 a1 = vec4(0.0,size,0.0,-1.4); // btm\n    vec4 a2 = vec4(-size*2.0,-size,0.0,2.0); // top  \n    vec4 a3 = vec4(size,-size*0.5,0.0,1.0); // right     \n    vec4 a4 = vec4(-size,1.0,0.0,1.0); // left          \n    vec4 a5 = vec4(0.0,0.0,-size,thickness); // foward\n    vec4 a6 = vec4(0.0,0.0,size,thickness); // back\n    return customBoxDist(p,a1,a2,a3,a4,a5,a6)*0.6;\n}\n\nfloat goombaDist11(vec3 p) {\n    float size = 2.0;\n    float thickness = GOOMBA_THICKNESS;\n    vec4 a1 = vec4(0.0,size,0.0,-1.6); // btm\n    vec4 a2 = vec4(0.0,-size,0.0,2.0); // top  \n    vec4 a3 = vec4(size,0.0,0.0,0.33); // right     \n    vec4 a4 = vec4(-size,0.0,0.0,0.33); // left          \n    vec4 a5 = vec4(0.0,0.0,-size,thickness); // foward\n    vec4 a6 = vec4(0.0,0.0,size,thickness); // back\n    return customBoxDist(p,a1,a2,a3,a4,a5,a6)*0.6;\n}\n\nfloat floorDist(vec3 p) {\n    float size = 1.0;\n    \n    vec4 a1 = vec4(0.0,size,0.0,0.0); // btm\n    vec4 a2 = vec4(0.0,-size,0.0,0.05); // top  \n    vec4 a3 = vec4(size,0.0,0.0,1.0); // right     \n    vec4 a4 = vec4(-size,0.0,-size*0.5,1.0); // left          \n    vec4 a5 = vec4(0.0,0.0,-size,1.0); // foward\n    vec4 a6 = vec4(0.0,0.0,size,1.0); // back\n    return customBoxDist(p,a1,a2,a3,a4,a5,a6)*0.6;\n}\n\nvec4 goomba(vec3 p) {\n    vec3 prevP = p;\n    \n    // face1\n    p.x = abs(p.x);\n    p.x-=0.6;\n    float g1 = goombaDist1(p);\n    p = prevP;\n    float g2 = goombaDist2(p);\n    float resG = min(g1,g2);\n    \n    vec4 res1 = vec4(vec3(0.7,0.38,0.0),resG*0.5);\n        \n    // kind of chin, don't know what we call this part.\n    p.x = abs(p.x);\n    p.x-=0.3;\n    \n    mat3 rot = matRotateX(radians(-20.0));\n    \n    g1 = goombaDist3((p-vec3(0.0,0.0,0.2))*rot);\n    resG = g1;\n    p = prevP;\n    vec4 res2 = vec4(vec3(0.7,0.38,0.0),resG*0.5);\n    \n    // body\n    p.x = abs(p.x);\n    p.x-=0.4;\n    g1 = goombaDist4(p-vec3(0.0,-0.4,0.1));\n    p = prevP;\n    g2 = goombaDist5(p-vec3(0.0,-0.4,0.1));\n    p = prevP;\n    resG = min(g1,g2);\n    vec4 res3 = vec4(vec3(0.9,0.8,0.5),resG*0.5);\n    \n    // legs\n    p*=0.8;\n    p.x = abs(p.x);\n    p.x-=0.4;\n  \n    p.x = abs(p.x);\n    p.x-=0.16;\n    g1 = goombaDist6(p-vec3(0.0,-0.5,0.05));\n    \n    p.x+=0.12;\n    g2 = goombaDist7(p-vec3(0.0,-0.5,0.05));\n    resG = min(g1,g2);\n    vec4 res4 = vec4(vec3(0.5,0.2,0.0),resG*0.5);\n    p = prevP;\n    \n    // teeth\n    p.x*=2.0;\n    p.x = abs(p.x);\n    p.x-=0.95;\n    g1 = goombaDist8(p-vec3(0.0,-0.7,0.1));\n    resG = g1;\n    vec4 res5 = vec4(vec3(1.0),resG*0.5);\n    p = prevP;\n    \n    // eyebrow\n    p.x = abs(p.x);\n    p.x-=0.5;\n    g1 = goombaDist9(p-vec3(0.0,0.5,0.1));\n    resG = g1;\n    vec4 res6 = vec4(vec3(0.3),resG*0.5);\n    p = prevP;\n    \n    // eye\n    p.x = abs(p.x);\n    p.x -=0.3;\n    p.y -= 0.65;\n    p.x*=0.9;\n    p.y*=1.5;\n    p.y = abs(p.y);\n    p.y+=0.55;\n    g1 = goombaDist10(p-vec3(0.0,0.0,0.1));\n    p = prevP;\n\tp.x = abs(p.x);\n    p.x -=0.3;\n    p.y -= 0.6;\n    g2 = goombaDist11(p-vec3(0.0,-0.85,0.1));\n    resG = min(g1,g2);\n    vec4 res7 = vec4(vec3(1.0),resG*0.5);\n    p = prevP;\n    \n    // eye ball\n    p.x*=2.0;\n    p.y*=0.8;\n    p.x = abs(p.x);\n    p.x -=0.6;\n\tg1 = goombaDist11(p-vec3(0.0,-0.37,0.13));\n    resG = g1;\n    vec4 res8 = vec4(vec3(0.1),resG*0.5);\n    \n    return combine(combine(combine(combine(combine(combine(combine(res1,res2),res3),res4),res5),res6),res7),res8);\n}\n\nfloat fflowerDist1(vec3 p) {\n\tfloat size = 3.5;\n    float thickness = GOOMBA_THICKNESS;\n    \n    vec4 a1 = vec4(0.0,size,0.0,0.5); // btm\n    vec4 a2 = vec4(-2.0,-size,0.0,1.0); // top  \n    vec4 a3 = vec4(size,0.0,0.0,1.0); // right     \n    vec4 a4 = vec4(-size,0.0,0.0,0.75); // left          \n    vec4 a5 = vec4(0.0,0.0,-size,thickness); // foward\n    vec4 a6 = vec4(0.0,0.0,size,thickness); // back\n    return customBoxDist(p,a1,a2,a3,a4,a5,a6)*0.6;\n}\n\nfloat fflowerDist2(vec3 p) {\n\tfloat size = 3.5;\n    float thickness = GOOMBA_THICKNESS;\n    \n    vec4 a1 = vec4(0.0,size,0.0,1.86); // btm\n    vec4 a2 = vec4(0.0,-size,0.0,1.86); // top  \n    vec4 a3 = vec4(size,0.0,0.0,1.0); // right     \n    vec4 a4 = vec4(-size,0.0,0.0,0.8); // left          \n    vec4 a5 = vec4(0.0,0.0,-size,thickness); // foward\n    vec4 a6 = vec4(0.0,0.0,size,thickness); // back\n    return customBoxDist(p,a1,a2,a3,a4,a5,a6)*0.6;\n}\n\nfloat leafDist(vec3 p) {\n    vec3 prevP = p;\n    p.x*=0.9;\n    p.x = abs(p.x);\n    p.x -=0.5;\n    p.y = abs(p.y);\n    p.y -= 0.1;\n    float f1 = fflowerDist1(p);\n    p = prevP;\n    p.x*=0.9;\n    float f2 = fflowerDist2(p);\n    \n    return min(f1,f2);\n}\n\nvec4 fflower(vec3 p) {\n    vec3 prevP = p;\n\tfloat f1 = leafDist(p-vec3(0,0.6,0.0));\n    float resF = f1;\n    vec4 res1 = vec4(vec3(0.9,0.0,0.0),resF*0.5);\n    p = prevP;\n    \n    p.xy*=1.3;\n    f1 = leafDist(p-vec3(0,0.8,0.05));\n    resF = f1;\n    vec4 res2 = vec4(vec3(1.0,0.6,0.0),resF*0.5);\n    p = prevP;\n    \n    p.xy*=1.8;\n    f1 = leafDist(p-vec3(0,1.1,0.1));\n    resF = f1;\n    vec4 res3 = vec4(vec3(1.0,0.9,0.0),resF*0.5);\n    p = prevP;\n    \n    // eye\n    p.x*=5.0;\n    p.y*=4.0;\n    p.x = abs(p.x);\n    p.x-=1.0;\n    f1 = fflowerDist2(p-vec3(0,2.5,0.15));\n    resF = f1;\n\tvec4 res4 = vec4(vec3(0.1),resF*0.5);\n    p = prevP;\n    \n    // branch\n    p.x*=2.5;\n    f1 = fflowerDist2(p-vec3(0,-0.15,-0.05));\n    resF = f1;\n\tvec4 res5 = vec4(vec3(0.5,0.9,0.0),resF*0.5);\n    p = prevP;\n    \n    // leaf\n    mat3 rot = matRotateZ(radians(50.0));\n    p.y+=0.2;\n    p.x = abs(p.x);\n    p.x -=0.5;\n    p*=rot;\n    p.x *=1.8;\n    p.y *=1.2;\n    \n    p.xy = abs(p.xy);\n    p.xy -= vec2(0.2,0.1);\n    \n    f1 = fflowerDist1((p-vec3(0,0.0,-0.05)));\n    resF = f1;\n\tvec4 res6 = vec4(vec3(0.4,0.9,0.0),resF*0.5);\n    \n    return combine(combine(combine(combine(combine(res1,res2),res3),res4),res5),res6);\n}\n\nvec4 GetDist(vec3 p) {\n    \n    vec3 prevP = p;\n\t\n    // ground\n    p.xz*=0.2;\n    p.xz = abs(p.xz);\n    p.xz -=1.;\n\n    float _floor = floorDist(p+vec3(0.0,0.7,0.0));\n    vec4 f = vec4(floorMat(prevP.xz,vec3(0.5,0.7,0.8)),_floor*0.6);\n    \n    // goomba\n    p = prevP;\n    float c = 2.0;\n    p.z+=3.0;\n    float l = 2.0;\n    p.z += -c*clamp(round(p.z/c),-l,l);\n    \n    float k = sin(iTime*6.0)*0.1;\n    c = cos(k*p.x);\n    float s = sin(k*p.x);\n    mat2  m = mat2(c,-s,s,c);\n    p.xz*=m;\n    \n    mat3 rot = matRotateX(radians(sin(iTime*6.0)*5.0));\n    vec4 g = goomba((p -vec3(0.0,0.25,0.0))*rot);\n    \n    // fire flower\n    p = prevP;\n    p.z+=2.5;\n    p.x=abs(p.x);\n    p.x-=3.0;\n    vec4 ff = fflower(p);\n    \n    vec4 model = combine(f,combine(g,ff));\n    return model;\n}\n\nvec4 RayMarch(vec3 ro, vec3 rd) {\n    vec4 dO= vec4(0.0);\n    \n    for(int i=0; i<MAX_STEPS; i++) {\n        vec3 p = ro + rd*dO.w;\n        vec4 dS = GetDist(p);\n        dO.w += dS.w;\n        dO.xyz = dS.xyz;\n        if(dO.w>MAX_DIST || dS.w<SURF_DIST) break;\n    }\n    \n    return dO;\n}\n\nfloat shadowMap(vec3 ro, vec3 rd){\n    float h = 0.0;\n    float c = 0.001;\n    float r = 1.0;\n    float shadow = 0.5;\n    for(float t = 0.0; t < 30.0; t++){\n        h = GetDist(ro + rd * c).w;\n        if(h < 0.001){\n            return shadow;\n        }\n        r = min(r, h * 16.0 / c);\n        c += h;\n    }\n    return 1.0 - shadow + r * shadow;\n}\n\nvec3 GetNormal(vec3 p) {\n    float d = GetDist(p).w;\n    vec2 e = vec2(.001, 0);\n    \n    vec3 n = d - vec3(\n        GetDist(p-e.xyy).w,\n        GetDist(p-e.yxy).w,\n        GetDist(p-e.yyx).w);\n    \n    return normalize(n);\n}\n\nvec2 GetLight(vec3 p) {\n    vec3 lightPos = vec3(2,8,3);\n    vec3 l = normalize(lightPos-p);\n    vec3 n = GetNormal(p);\n    \n    float dif = clamp(dot(n, l)*.5+.5, 0., 1.);\n    float d = RayMarch(p+n*SURF_DIST*2., l).w;\n    \n    float lambert = max(.0, dot( n, l))*0.1;\n    float shadow = shadowMap(p + n * 0.001, l);\n\n    return vec2((lambert+dif),max(0.9, shadow)) ;\n}\n\nvec3 R(vec2 uv, vec3 p, vec3 l, float z) {\n    vec3 f = normalize(l-p),\n        r = normalize(cross(vec3(0,1,0), f)),\n        u = cross(f,r),\n        c = p+f*z,\n        i = c + uv.x*r + uv.y*u,\n        d = normalize(i-p);\n    return d;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord-.5*iResolution.xy)/iResolution.y;\n    vec2 m = iMouse.xy/iResolution.xy;\n    \n    vec3 col = vec3(0);\n    \n    vec3 ro = vec3(0, 4, -5);\n    #if USE_MOUSE == 1\n    ro.yz *= Rot(-m.y*3.14+1.);\n    ro.xz *= Rot(-m.x*6.2831);\n    #else\n    ro.xz *= Rot(radians(180.0)+radians(sin(iTime*0.5)*60.0));\n    ro.yz *= Rot(radians(30.0));\n    #endif\n    \n    vec3 rd = R(uv, ro, vec3(0,1,0), 1.);\n\n    vec4 d = RayMarch(ro, rd);\n    \n    if(d.w<MAX_DIST) {\n        vec3 p = ro + rd * d.w;\n    \n        vec2 dif = GetLight(p);\n        col = vec3(dif.x)*d.xyz;\n        col *= dif.y;\n        \n    } else {\n        // background\n        col = vec3(0.5,0.7,0.8);\n        col = background(uv,col)*1.2;\n    }\n    \n    fragColor = vec4(col,1.0);\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}