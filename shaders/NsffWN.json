{
    "Shader": {
        "info": {
            "date": "1644877046",
            "description": "This is the by-product of some kaleidoscopic/plane geometry experiments. Will elaborate later on (if anyone cares ;-). ",
            "flags": 16,
            "hasliked": 0,
            "id": "NsffWN",
            "likes": 13,
            "name": "mushroom heart",
            "published": 3,
            "tags": [
                "2d",
                "heart",
                "kifs",
                "symmetry",
                "ornament"
            ],
            "usePreview": 0,
            "username": "hnh",
            "viewed": 382
        },
        "renderpass": [
            {
                "code": "\nconst float PI = 3.14159265;\n\nvec4 flip(vec2 p) {\n    vec3 a = vec3(0.0998); int ni = 58;  // parameters\n    vec3 q= vec3(p, .12);  // scale\n    vec3 t;\n    for(int i=0; i<ni; i++) {\n        a = sin(a);\n        a = vec3(1.-a.y-a.x,a.y,a.x)*PI;\n\n        vec3 c = cos(a), s = sin(a);\n        mat3 N= mat3(1, 0, 0,\n                 -c.x, s.x, 0,\n                 -c.z, -(c.y+c.x*c.z)/s.x, 1);\n    \n        for(int j=0; j<3; j++) {\n            t[j] = dot(q, N[j]);\n            if(t[j] < 0.) {q -= 2.*t[j]*N[j]*vec3(1,1,0);}\n        }\n    }\n    return vec4(q.xy, t.yz);\n}\n\n\n\nvoid mainImage(out vec4 O, vec2 U) {        \n    U = (U - .5*iResolution.xy)/iResolution.y;\n\t\n    float eps= 1e-5;\n    vec2 u = flip((U-vec2(1,-.3)*eps)*2.).xy;\n    U = flip(U*2.).xy;\n    u = (U-u)/eps;\n    \n    O = texture(iChannel0,U-iTime*.01);\n    O = .7-.5*cos(5.*O);  // color, not the best...\n    O *= .5 + .15*u.x;  // relief\n}\n\n",
                "description": "",
                "inputs": [
                    {
                        "channel": 0,
                        "ctype": "texture",
                        "id": 10,
                        "published": 1,
                        "sampler": {
                            "filter": "mipmap",
                            "internal": "byte",
                            "srgb": "false",
                            "vflip": "true",
                            "wrap": "repeat"
                        },
                        "src": "/media/a/92d7758c402f0927011ca8d0a7e40251439fba3a1dac26f5b8b62026323501aa.jpg"
                    },
                    {
                        "channel": 1,
                        "ctype": "keyboard",
                        "id": 33,
                        "published": 1,
                        "sampler": {
                            "filter": "linear",
                            "internal": "byte",
                            "srgb": "false",
                            "vflip": "true",
                            "wrap": "clamp"
                        },
                        "src": "/presets/tex00.jpg"
                    }
                ],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}