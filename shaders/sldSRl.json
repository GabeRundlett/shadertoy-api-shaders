{
    "Shader": {
        "info": {
            "date": "1639701867",
            "description": " polar fraction with local and index coordinates.",
            "flags": 0,
            "hasliked": 0,
            "id": "sldSRl",
            "likes": 5,
            "name": "infinit polar fractions",
            "published": 3,
            "tags": [
                "complex"
            ],
            "usePreview": 0,
            "username": "cyperus",
            "viewed": 292
        },
        "renderpass": [
            {
                "code": "////////////////////////////////////////////////////////////////////////////////\n// \n//  \"infinit polar fractions\" created by Colling Patrik (cyperus) in 2021\n//\n////////////////////////////////////////////////////////////////////////////////\n\n// by akohdr see comments\n//#define AKOHDR\n\nconst float PI_2 = acos(0.), PI = 2.*PI_2, PI2 = 4.*PI_2;\n\nvec3 hsv2rgb (float h, float s, float v )\n{\n    return mix(vec3(1.), 0.5*(1.+cos(2.*PI*(h + vec3(0,1,2)/3. ))), s*1.333)*v;   \n}\n\nvec2 afn(in vec2 z, in int n) {\n    #ifdef AKOHDR\n    z *= -1.; // rotation by PI\n    z.x = (atan(z.y,z.x)/PI2 + 1.) * float(n);\n    #else    \n    z.x = (atan(z.y,z.x)/PI2 + .5) * float(n);\n    #endif\n    z.y = floor(z.x);     // index\n    z.x = z.y-z.x;        // local coords\n    return vec2(z.x,z.y); // vec2(a, a_id);\n}\n\nvoid mainImage( out vec4 O, in vec2 U)\n{\n    vec3 R = iResolution, col;    \n    vec2 Z = (2.*U-R.xy)/R.y;    \n    float r,a,a_id, n = floor(exp(0.5*iTime));\n    \n    r = length(Z); Z = afn(Z, int(n)); a = Z.x; a_id = Z.y;\n\n    float s = 0.8, v = 1.;       \n    col = r<0.9 \n        ? hsv2rgb(a, s, v)\n        : hsv2rgb(-a_id/n, s, v);\n    \n    O = vec4(col,1.);\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}