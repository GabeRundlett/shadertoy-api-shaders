{
    "Shader": {
        "info": {
            "date": "1545015904",
            "description": " ",
            "flags": 0,
            "hasliked": 0,
            "id": "XtyfRc",
            "likes": 17,
            "name": "thing_14",
            "published": 3,
            "tags": [
                "3d",
                "raymarching"
            ],
            "usePreview": 0,
            "username": "balkhan",
            "viewed": 734
        },
        "renderpass": [
            {
                "code": "/*\n* License Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License.\n* Created by bal-khan\n*/\n\n#define E 0.0001\n\nvoid rotate(inout vec2 p, float a)\n{\n\tp = vec2(cos(a)*p.x+sin(a)*p.y, -sin(a)*p.x+cos(a)*p.y);\n}\n\nvec3 h;\n\nfloat mylength(vec3 p) {return max(abs(p.z), max(abs(p.x), abs(p.y)));}\n\nvec2 modA(vec2 p, float c)\n{\n    float an = 6.28/c;\n    float a = atan(p.x, p.y)+an*.5;\n    a = mod(a, an)-an*.5;\n    return vec2(cos(a), sin(a))*length(p);\n}\n\nfloat map(vec3 p)\n{\n\tfloat m = 1e5;\n    p.x -= 1.5*cos(iTime*.25);\n    p.y += 1.5*sin(iTime*.5);\n\trotate(p.xz, .25*sin(iTime));   \n    vec3 op = p;\n    \n    float a = p.z*1.+ iTime*.0;\n    \n    p.xy += vec2(cos(a), sin(a))*.125;\n    m = max(length(p.xy)-.7, -(length(p.xy)-.5));\n    \n    m = abs(m)+.001;\n    \n    h += vec3(.7, .42, .3)/max(.25, m*m*.0001 + 1.81);\n    \n    p = op;\n    p.xy += .5*vec2(cos(a), sin(a))*.6;\n    p.xy = modA(p.xy, 5.);p.x-=.75;\n    p.z -= 2.-iTime;\n    float id = floor(p.z);\n    p.z = fract(p.z)-.5;\n    float e = mix(length(p), mylength(p), ceil(mod(id, 2.)) )-.125;\n    e = abs(e)-.001;\n\n    e = abs(e)+0.001;\n    m = min(m, e*.25);\n    h += vec3(.51, .5, .3)/max(.25, e*e*100. + .181);\n\n    p = op;\n//    p.xy += vec2(cos(a), sin(a))*.6;\n    rotate(p.xy, a*.1-iTime*.5);\n\n    \n    p.xy = fract(p.xy*.25)-.5;\n    rotate(p.xy, p.z*1.5+iTime*10.*.25+sin(p.z+iTime)*3.14);\n    p.xy = abs(p.xy)-.1051;\n    rotate(p.xy, -p.z*1.5+iTime*-5.*.25+sin(-p.z+iTime*.5)*3.14);\n    p.xy = abs(p.xy)-.051;\n    \n    \n    float s = length(p.xy)-.0151+(.0071+1.0*.027*cos(p.z*1.*.5-(2.+iTime)));\n    \n    m = min(s, m);\n    \n    h += vec3(.1, .418, .93)/max(.25, s*s*10. + .81);\n    return m;\n}\n\nvoid mainImage( out vec4 o, in vec2 f )\n{\n    h -= h ;\n    vec2 R = iResolution.xy,u = (f-R*.5)/R.y;\n\n    vec3 col = vec3(.0);\n    vec3 ro = vec3(.0,.0,-1.);\n    vec3 rd = vec3(u.xy, 1.);\n    \n    vec2 md = vec2(0.);\n    vec3 p;\n    for (int i = 0; i < 250; i++)\n    {\n        p = ro + rd*md.y;\n    \tmd.x = map(p);\n        md.y += md.x;\n        if (md.y > 10. || md.x <= E)\n            break;\n        \n    }\n\tcol = h*.01;\n    col /= max(1., md.y*.5);\n    \n    col+= md.y * vec3(.01, .13, .01)*0.051;\n    col*= 1.-(length(u)*.75);\n    o = vec4(col,1.0);\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}