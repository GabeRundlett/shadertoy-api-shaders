{
    "Shader": {
        "info": {
            "date": "1681941603",
            "description": "German bike zone sign",
            "flags": 0,
            "hasliked": 0,
            "id": "cttGRH",
            "likes": 6,
            "name": "Bike zone",
            "published": 3,
            "tags": [
                "2d",
                "bike"
            ],
            "usePreview": 0,
            "username": "NinjaKoala",
            "viewed": 161
        },
        "renderpass": [
            {
                "code": "float cubic_bezier_normal_iteration(float t, vec2 a0, vec2 a1, vec2 a2, vec2 a3){\n\tvec2 a_2=a2+t*a3;\n\tvec2 a_1=a1+t*a_2;\n\tvec2 b_2=a_2+t*a3;\n\n\tvec2 uv_to_p=a0+t*a_1;\n\tvec2 tang=a_1+t*b_2;\n\n\tfloat l_tang=dot(tang,tang);\n\treturn t-dot(tang,uv_to_p)/l_tang;\n}\n\nfloat cubic_bezier_dis(vec2 uv, vec2 p0, vec2 p1, vec2 p2, vec2 p3){\n\tvec2 a3 = (-p0 + 3. * p1 - 3. * p2 + p3);\n\tvec2 a2 = (3. * p0  -6. * p1 + 3. * p2);\n\tvec2 a1 = (-3. * p0 + 3. * p1);\n\tvec2 a0 = p0;\n\n\tfloat d0 = 1e38;\n\n\tfloat t0=0.;\n\tfloat t;\n\n\tfor(int i=0;i<3;i++){\n\t\tt=t0;\n\t\tfor(int j=0;j<3;j++){\n\t\t\tt=cubic_bezier_normal_iteration(t,a0-uv,a1,a2,a3);\n\t\t}\n\t\tt=clamp(t,0.,1.);\n\t\tvec2 uv_to_p=(((a3 * t) + a2) * t + a1) * t + a0-uv;\n\t\td0=min(d0,dot(uv_to_p,uv_to_p));\n\n\t\tt0+=.5;\n\t}\n\n\treturn sqrt(d0);\n}\n\nfloat sdBox(vec2 p, vec2 b)\n{\n    vec2 d = abs(p)-b;\n    return length(max(d,0.0)) + min(max(d.x,d.y),0.0);\n}\n\nmat2 rot(float t){\n\treturn mat2(cos(t),sin(t),-sin(t),cos(t));\n}\n\nfloat line_segment_dis( vec2 p, vec2 a, vec2 b, float fac){\n\tvec2 pa = p-a, ba = b-a;\n\tfloat h = clamp( dot(pa,ba)/dot(ba,ba), 0.0, fac );\n\treturn length(pa - ba*h);\n}\n\nvoid mainImage(out vec4 fragColor, vec2 fragCoord){\n\tvec2 uv = fragCoord.xy/iResolution.xy;\n\tuv -= vec2(.5,.55);\n    uv.y *= iResolution.y/iResolution.x;\n\n\tfloat border = 2./iResolution.x;\n\n\tfloat zoom = 3.;\n\n\tuv*=zoom;\n\tborder*=zoom;\n\n\tfloat dis = 1e38;\n\n\tdis = min(dis,abs(length(uv-vec2(.2,0))-.1)-.01);\n\tdis = min(dis,abs(length(uv+vec2(.2,0))-.1)-.01);\n\tdis = min(dis,line_segment_dis(uv, vec2(-.2,0), vec2(-.11,.17), 1.)-.01);\n\tdis = min(dis,line_segment_dis(uv, vec2(.2,0), vec2(.05,0), 1.)-.01);\n\tdis = min(dis,line_segment_dis(uv, vec2(.2,0), vec2(.125,.17), 1.)-.01);\n\tdis = min(dis,line_segment_dis(uv, vec2(.05,0), vec2(.125,.17), 1.2)-.01);\n\tdis = min(dis,line_segment_dis(uv, vec2(-.11,.17), vec2(.125,.17), 1.)-.01);\n\tdis = min(dis,line_segment_dis(uv, vec2(-.12,.15), vec2(.05,0), 1.)-.01);\n\tdis = min(dis,line_segment_dis(uv, vec2(.11,.21), vec2(.16,.21), 1.)-.01);\n\tdis = min(dis,cubic_bezier_dis(uv, vec2(-.11,.17), vec2(-.11,.17) + .4*vec2(.09,.17), vec2(-.1,.24), vec2(-.03,.24))-.01);\n\n\tvec3 color = mix(vec3(.08,.28,.53),vec3(1),smoothstep(0.,border,length(uv-vec2(0,.05))-.37));\n\tcolor = mix(vec3(1),color,smoothstep(0.,border,dis));\n\n\tdis = sdBox(uv+vec2(.3,.4),vec2(.07,.015));\n\tdis = min(dis,sdBox(uv+vec2(.3,.6),vec2(.07,.015)));\n\tdis = min(dis,sdBox((uv+vec2(.3,.5))*rot(-.548),vec2(.015,.11)));\n\n\tdis = min(dis, cubic_bezier_dis(uv,-vec2(.185,.5),-vec2(.185,.64), -vec2(.045,.64), -vec2(.045,.5))-.015);\n\tdis = min(dis, cubic_bezier_dis(uv,-vec2(.185,.5),-vec2(.185,.36), -vec2(.045,.36), -vec2(.045,.5))-.015);\n\n\tdis = min(dis,sdBox(uv-vec2(.17,-.5),vec2(.015,.116)));\n\tdis = min(dis,sdBox(uv-vec2(.02,-.5),vec2(.015,.116)));\n\tdis = min(dis,sdBox((uv-vec2(.095,-.5))*rot(.595),vec2(.015,.13)));\n\n\tdis = min(dis,abs(sdBox(uv+vec2(0,.08),vec2(.6))-.02)-.02);\n\tdis = min(dis,sdBox(uv-vec2(.3,-.4),vec2(.07,.015)));\n\tdis = min(dis,sdBox(uv-vec2(.3,-.6),vec2(.07,.015)));\n\tdis = min(dis,sdBox(uv-vec2(.29,-.5),vec2(.06,.015)));\n\tdis = min(dis,sdBox(uv-vec2(.245,-.5),vec2(.015,.09)));\n\n\n\tcolor = mix(vec3(0),color,smoothstep(0.,border,dis));\n\n\tfragColor = vec4(color,1);\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}