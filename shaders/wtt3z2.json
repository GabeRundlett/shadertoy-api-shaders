{
    "Shader": {
        "info": {
            "date": "1576955608",
            "description": "Based on cafe's fisheye shader, but modified for opposite effect.\nWritten for: https://computergraphics.stackexchange.com/questions/9434/shader-or-formula-that-distorts-inward",
            "flags": 0,
            "hasliked": 0,
            "id": "wtt3z2",
            "likes": 2,
            "name": "Pincushion effect",
            "published": 3,
            "tags": [
                "fisheye",
                "pincushion"
            ],
            "usePreview": 0,
            "username": "dandymcgee",
            "viewed": 3268
        },
        "renderpass": [
            {
                "code": "// This shader is based on cafe's fisheye shader:\n// https://www.shadertoy.com/view/ll2GWV\n\nvec3 checker(vec2 uv){\n \treturn vec3(abs(floor(mod(uv.x*10.,2.))-floor(mod(uv.y*10.,2.))));   \n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy*2. / iResolution.xy-vec2(1.);\n    \n    //------------------------------------------------\n    // To use in Godot, port this section:\n    //------------------------------------------------\n    \n    // I picked these somewhat arbitrarily\n    const float BARREL = -1.0;\n    const float PINCUSHION = 0.1;\n    \n    float effect = PINCUSHION; // Set effect to either BARREL or PINCUSHION\n    float effect_scale = 1.0;  // Play with this to slightly vary the results\n    \n    /// Fisheye Distortion ///\n    float d=length(uv);\n    float z = sqrt(1.0 + d * d * effect);\n    float r = atan(d, z) / 3.14159;\n    r *= effect_scale;\n    float phi = atan(uv.y, uv.x);\n    \n    uv = vec2(r*cos(phi)+.5,r*sin(phi)+.5);\n    \n    //------------------------------------------------\n    // end relevant logic\n    //------------------------------------------------\n    \n\tfragColor = vec4(checker(uv),1.);\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}