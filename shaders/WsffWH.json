{
    "Shader": {
        "info": {
            "date": "1588104347",
            "description": "Loopless variant of \"array of threads\"  [url]https://shadertoy.com/view/llXSD8[/url]\nUncomment line 21 to display the curve density instead.",
            "flags": 0,
            "hasliked": 0,
            "id": "WsffWH",
            "likes": 11,
            "name": "array of threads - loopless",
            "published": 3,
            "tags": [
                "2d",
                "short",
                "loopless"
            ],
            "usePreview": 0,
            "username": "FabriceNeyret2",
            "viewed": 565
        },
        "renderpass": [
            {
                "code": "// loopless variant of \"array of threads\"  https://shadertoy.com/view/llXSD8\n\n#define draw  O += .003 / abs( i*(u.y-u.x-i)+i-u.y )  // function to draw ( is where f ~ inf ;-) )\n\nvoid mainImage(out vec4 O, vec2 u) {\n\n    O = vec4(0);\n    u = 3.*u/iResolution.y -vec2(2,1); \n    \n#if 0  // --- loop version\n\n    for ( float i=-1.; i<=2.; i+=.1 )\n        draw;    \n    \n#else  // --- loopless version\n    \n    // solving for f(i)=big -> iÂ² -b.i +c ~ 0  with b= y-x+1 and c= y\n    float b = u.y-u.x+1., d = b*b -4.*u.y, i;\n    if (d<0.) return;    // pixel out of the threaded area\n\n // O += .5/d; return;   // draw the inverve Jacobian to show curve density\n // variant: .5/abs(d) , before line 19\n    \n#define ifInRange   i = round( i *10.)/10.; if (i>=-1. && i<=2.) \n    i = (b-sqrt(d))/2.; ifInRange draw; \n    i = (b+sqrt(d))/2.; ifInRange draw; \n    O *= 2.; // this case is tough since all lines extend/decay lateraly up to infinity \n    \n#endif\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}