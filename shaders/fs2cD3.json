{
    "Shader": {
        "info": {
            "date": "1644239142",
            "description": "function for a reasonably accurate optical spectrum",
            "flags": 0,
            "hasliked": 0,
            "id": "fs2cD3",
            "likes": 9,
            "name": "SPECTRA :::.",
            "published": 3,
            "tags": [
                "spectrum",
                "light",
                "optical",
                "rainbow",
                "spectra"
            ],
            "usePreview": 0,
            "username": "ENDESGA",
            "viewed": 358
        },
        "renderpass": [
            {
                "code": "#define T iTime\n#define R iResolution.xy\n#define PI 3.1415926535897932384626433832795028841971693993751058209749445923\n\n// special quotients (was custom fixed-point LUT)\n#define q5d3   .1666666\n#define q5d6   .8333333\n#define q1d12  .0833333\n#define q1d3   .3333333\n#define q1d2   .5\n\nvec3 spectra( float x, float l ) {\n    \n    // (optional) rectangular expand\n    x = mix((x * .5)+.25,x,1. - l);\n    \n    return vec3(\n    // RED + VIOLET-FALLOFF\n    -q1d12 * ( l - 1. ) * (\n    cos( PI * max( 0., min( 1., 12. * abs( ( q1d12 * l + x - q5d6 ) / ( l + 2. ) ) ) ) ) + 1. )\n    + q1d2 * cos( PI * min( 1., ( l + 3. ) * abs( -q5d3 * l + x - q1d3 ) ) ) + q1d2,\n    // GREEN, BLUE\n    q1d2 + q1d2 * cos( PI * min(\n    vec2( 1. ), abs( vec2( x ) - vec2( q1d2, ( 1.0 - ( ( 2. + l ) / 3. ) * q1d2 ) ) )\n    * vec2( 3. + l ) ) ) );\n}\n\nvoid mainImage( out vec4 O, in vec2 I ) {\n    vec2 uv = (I / R);\n    vec2 v = (uv.y > .5) ?\n        ((uv.y > .75) ?\n        vec2((1.-cos(T))*.5, 0.) : // full spectrum\n        vec2((1.-cos(T))*.5, .75)) : // warm to cold, sunset/sunrise\n        vec2(uv.x,1.-uv.y*2.);\n        \n    O = vec4( spectra( v.x, v.y ), 1.0 );\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}