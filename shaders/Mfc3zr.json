{
    "Shader": {
        "info": {
            "date": "1711305260",
            "description": "Hey guys, sorry for disappearing for years! ðŸ˜…\n\nI studied shaders for 1 year, and took a vacation for 1 year and a few more months, \"maybe\" I'll come back this year",
            "flags": 0,
            "hasliked": 0,
            "id": "Mfc3zr",
            "likes": 7,
            "name": "Bubble field",
            "published": 3,
            "tags": [
                "3d",
                "raymarch",
                "sphere",
                "mod",
                "rainbow",
                "wallpaper"
            ],
            "usePreview": 0,
            "username": "SONENEIS",
            "viewed": 171
        },
        "renderpass": [
            {
                "code": "#define sat(x) clamp(x,0.0,1.0)\n\nmat2 rot(float a){return mat2(cos(a),-sin(a),sin(a),cos(a));}\n\nfloat scene(vec3 p){\n\tfloat d = 9999999.99;\n\t\n    vec3 p2 = mod(p-1.0,2.0)-1.0;\n\td = min(d,length(p2) - ((sin(p.x*0.5+iTime*0.7)+cos(p.z*0.5+iTime*0.95)-sin(p.y*0.5+iTime*0.65))*0.25+0.5));\n\n\treturn d;\n}\n\nfloat raymarch(vec3 ro,vec3 rd){\n\tfloat t = 0.0;\n\n\tfor(int i=0;i<12;i++){\n\t\tvec3 p = ro + rd * t;\n\t\tfloat h = scene(p);\n\t\tif(h < 0.002 || t > 100.0) break;\n\t\tt += h;\n\t}\n\n\tif(t > 100.0) return 100.0;\n\treturn t;\n}\n\nvec3 calcNorm(vec3 p){\n\tvec2 e = vec2(-1,1) * 0.002;\n\treturn normalize(\n\t\te.yyx * scene(e.yyx + p) +\n\t\te.xyy * scene(e.xyy + p) +\n\t\te.yxy * scene(e.yxy + p) +\n\t\te.xxx * scene(e.xxx + p)\n\t);\n}\n\nvoid mainImage(out vec4 fragColor,vec2 fragCoord){\n\tvec2 uv = (2.0*fragCoord.xy - iResolution.xy) / iResolution.y;\n\tvec3 col = vec3(0.0);\n\t\n\tvec3 ro = vec3(0.25,0.75,0.3);\n\tvec3 rd = normalize(vec3(uv,-1.0));\n\tro.xz *= rot(iTime*0.5);\n\trd.xz *= rot(iTime*0.5);\n\tro.yx *= rot(iTime*0.5);\n\trd.yx *= rot(iTime*0.5);\n\tro.z = iTime;\n\t\n\tfloat t = raymarch(ro,rd);\n\tif(t < 100.0){\n\t\tvec3 p = ro + rd * t;\n\t\tvec3 n = calcNorm(p);\n\t\tvec3 l = vec3(0.4,0.5,0.6);\n\n\t\tcol += exp(-0.5*t);\n\t\tfloat k = sin(iTime*0.5)*0.5+0.5;\n\t\tcol *= mix(vec3(1,0,0.25),mix(vec3(0.5,0,1),vec3(0,1,0.5),k*0.75),k*1.25);\n\t\tcol = pow(col*5.0,vec3(3.0));\n\t}\n\n\tcol = pow(col,vec3(1.0/2.2));\n  \n\tfragColor = vec4(col,1.0);\n}\n",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}