{
    "Shader": {
        "info": {
            "date": "1701104097",
            "description": "Lots of domes, arches, buttresses, columns, bridges, reflections, ogives.",
            "flags": 0,
            "hasliked": 0,
            "id": "dtdfR7",
            "likes": 22,
            "name": "Cryptic Design Sketches",
            "published": 3,
            "tags": [
                "architecture"
            ],
            "usePreview": 0,
            "username": "dr2",
            "viewed": 233
        },
        "renderpass": [
            {
                "code": "#define O441 min(O232,0)\n#define O341(x)(sin((x)+vec2(0.5*O511,0.)))\n#define O558(O054){if(O434<O527){O527=O434; O426=O054; O604=O573;}}\n#define O023(x)if(O186>=x)\n\nvec4 O069,O798;vec3 O255,O604,O403,O596,O534;float O348,O713,O658,O689,O627,O155,O759,O945[3],O418[3];int O232,O186,O426;bool O860;const int O116=1,O333=2,O364=3,O736=4,O767=5,O240=6,O271=7,O178=8,O705=9,O674=10,O519=11,O550=12,O581=13,O612=14,O457=15,O643=16,O209=17,O302=18,O395=19,O147=20,O488=21,O085=22;const float O511=3.1415927;float O139(vec2 O480){return min(O480.x,O480.y);}float O077(vec2 O480){return max(O480.x,O480.y);}float O108(vec3 O480){return max(O480.x,max(O480.y,O480.z));}float O162(float O015,float O992,float w,float x){return(1.-smoothstep(O992-w,O992+w,x))*smoothstep(O015-w,O015+w,x);}mat3 O224(float O899,float O093){vec2 O449,O217,O038;O449=vec2(O899,O093);O217=cos(O449);O038=sin(O449);return mat3(O217.y,0.,-O038.y,0.,1.,0.,O038.y,0.,O217.y)*mat3(1.,0.,0.,0.,O217.x,-O038.x,0.,O038.x,O217.x);}vec2 O914(vec2 O573,float a){vec2 O372;O372=sin(a+vec2(0.5*O511,0.));return vec2(dot(O573,vec2(O372.x,-O372.y)),dot(O573.yx,O372));}vec2 O883(vec2 O573,vec2 O372){return vec2(dot(O573,O372*vec2(1.,-1.)),dot(O573.yx,O372));}\nfloat O294(vec3 O480){vec3 O573,O635,O666,O697,O728;float O527,O434,O821,O031,O976,O720,O193,O651,O806,O387,O542,O837,O620,O589;O387=0.07*O658;O527=O713;O821=length(O480.xz);O542=O480.y;O031=(O821>0.)?atan(O480.z,-O480.x)/(2.*O511):0.;O635=O480;O635.xz=O914(O635.xz,2.*O511*(floor(6.*O031)+0.5)/6.);O666=O635;O666.xz=O914(vec2(O666.x,abs(O666.z)),O511/12.);O697=O666;O697.xz=O914(vec2(O697.x,abs(O697.z)),O511/12.);O728=O635;O728.xz=O914(vec2(O728.x,abs(O728.z)),O511/6.);O720=1.5;O193=sqrt(O720*O720-1.);O069.xy=vec2(0.45*O658,0.5*O627);O069.zw=vec2(O069.y-O193*O069.x,O720*O069.x);O620=O720*O658;O589=O627-O193*O658;O806=length(vec2(O821,O542-O589))-O620;O798.z=length(vec2(abs(O635.z)+0.15,max(O542-0.3,0.)))-0.3;O573=O635;O573.x+=O658;O976=length(O573.xz);O798.x=max(O976-O069.x,length(vec2(O976,O542-O069.z))-O069.w);O434=max(max(abs(O798.x)-O689,-max(O821-O658,length(vec2(O821,O542-O589))-O620)-O689+0.001),-O798.z);O434=max(O434,-max(length(vec2(abs(O914(vec2(O573.x,abs(O573.z)),O511/24.).y)+0.13,max(O542-0.75,0.)))-0.2,0.65-O542));O434=max(max(O434,-max(length(vec2(abs(O573.x)+0.12,max(O542-0.7,0.)))-0.2,0.6-O542)),0.02-O542);O023(20)O558(O736);O434=max(max(max(abs(O798.z)-0.018,abs(O821-1.35*O658)-0.35*O658),O069.x-O976-O689),0.02-O542);O023(22)O558(O240);O573=O697;O573.xy-=vec2(0.15-O658,1.43);O434=length(O573)-0.04;O023(18)O558(O302);O573=O480;O798.y=max(O821-O658,O806);O837=max(max(-O798.x-O689,O387+0.01-O821),0.02-O542);O434=max(max(abs(O798.y)-O689,-max(length(vec2(abs(O666.z)+0.1,max(O542-O627+0.25,0.)))-0.2,O627-0.4-O542)),O837);O023(23)O558(O333);O434=max(length(vec2(abs(max(O821-O658,O806))-O689,O697.z))-0.03,O837);O023(21)O558(O364);O434=min(max(min(O821-O658,O976-O069.x),abs(O542-0.04)-0.02),max(max(O821-1.69*O658,abs(O635.z)-0.15),abs(O542-0.025)-0.015));O023(2)O558(O271);O573=O480;O434=max(O821-0.04,abs(O542-0.5*O759)-0.5*O759);O023(3)O558(O488);O573.y=O542-O759;O434=length(O573)-0.1;O023(19)O558(O085);O573=O635;O573.y=O542-O589-O620+0.13;O798.w=length(vec2(O821+0.1,max(O573.y-0.43,0.)))-O387-0.12;O434=max(max(abs(O798.w)-0.02,-O573.y),-max(length(vec2(abs(O573.z)+0.1,max(O573.y-0.48,0.)))-0.15,0.28-O573.y));O023(17)O558(O767);O573.xz=O480.xz;O573.y-=0.58;O434=length(O573)-0.05;O023(18)O558(O302);O573=O728;O434=max(abs(abs(O573.z)-0.08)-0.03,max(O573.x+O658,0.01-O542));O573.xy-=vec2(0.5-O658,-0.2);O434=max(O434,abs(length(O573.xy)-O627-0.12)-0.08);O023(16)O558(O209);O573=O728;O434=max(abs(abs(O573.z)-0.05)-0.015,max(O387+0.02-O821,1.3-O573.y));O573.xy-=vec2(0.15,0.75);O434=max(O434,abs(length(O573.xy)-1.95)-0.04);O023(15)O558(O178);O573=O728;O573.xy-=vec2(-O945[1],2.22);O434=length(O573)-0.05;O023(18)O558(O302);O573=O666;O651=abs(O821-O945[0])-0.06;O434=max(O651,abs(O542-1.39)-0.2);O573.y=O542-1.2;O434=max(O434,0.3-length(O573.yz));O023(10)O558(O705);O573.xz=O480.xz;O434=max(O651-0.01,abs(O542-1.6)-0.01);O023(11)O558(O674);O573=O666;O651=abs(O821-O945[0]-0.02)-0.03;O573.yz=vec2(O542-1.6,abs(O666.z)+0.2);O434=max(O651,max(abs(length(O573.yz)-O418[0])-0.03,-O573.y));O023(13)O558(O519);O573.xz=O480.xz;O434=max(O651-0.01,max(O806,2.17-O542));O023(14)O558(O674);O434=max(length(vec2(O542-1.5,O697.z))-0.05,max(O821-O658,O945[0]+0.02-O821));O573.y=O542-0.08;O434=min(O434,max(O821-0.12,abs(O573.y)-0.03));O023(15)O558(O643);O573=O697;O573.x+=O945[2];O434=max(length(O573.xz)-0.02,abs(O542-0.46)-0.38);O023(4)O558(O457);O651=abs(O821-O945[2])-0.02;O573.y=O542-0.46;O434=max(O651,abs(abs(O573.y)-0.385))-0.01;O023(5)O558(O643);O573.yz=vec2(O542-0.86,abs(O666.z)+0.06);O434=max(abs(O821-O945[2])-0.03,max(abs(length(O573.yz)-O418[2])-0.015,-O573.y));O023(6)O558(O581);O573.xz=O480.xz;O434=max(O651-0.01,abs(O573.y-0.14)-0.01);O023(8)O558(O674);O573=O697;O573.x+=O945[1];O434=max(length(O573.xz)-0.025,abs(O542-0.66)-0.58);O023(4)O558(O457);O651=abs(O821-O945[1])-0.025;O573.y=O542-0.66;O434=max(O651,abs(abs(O573.y)-0.585))-0.01;O023(5)O558(O643);O573.yz=vec2(O542-1.26,abs(O666.z)+0.1);O434=max(abs(O821-O945[1])-0.04,max(abs(length(O573.yz)-O418[1])-0.018,-O573.y));O023(6)O558(O550);O573.xz=O480.xz;O434=max(O651-0.01,abs(O573.y-0.33)-0.013);O023(9)O558(O674);O573=O697;O573.x+=O945[0];O573.xz=abs(O573.xz)-0.04;O434=max(length(O573.xz)-0.025,abs(O542-0.63)-0.55);O023(4)O558(O457);O573.y=O542-0.63;O434=max(abs(O821-O945[0])-0.07,abs(abs(O573.y)-0.56)-0.02);O023(5)O558(O643);O573=O697;O573.xy-=vec2(-O945[1],0.64);O434=max(max(abs(length(O573.xy)-0.6)-0.012,abs(O573.z)-0.025),max(0.195-O573.y,-O573.x));O023(7)O558(O612);O573=O697;O573.xy-=vec2(-O945[0],0.75);O434=max(max(abs(length(O573.xy)-0.83)-0.02,abs(O573.z)-0.03),max(0.485-O573.y,-O573.x));O023(12)O558(O612);O573=O666;O573.x+=2.2*O658;O976=length(O573.xz);O434=abs(length(vec2(O976+0.1,max(O542-1.2*O627,0.))))-0.09*O658;O434=min(O434,max(O976-0.07*O658,abs(O542-O627)-0.1));O434=min(O434,max(O976-0.12*O658,abs(O542-0.03)-0.03));O434=max(O434,0.01-O542);O023(24)O558(O395);O573=O480;O434=max(min(min(O821-2.*O658,O976-0.3*O658),abs(O821-3.05*O658)-0.13*O658),abs(O542-0.01)-0.01);O023(1)O558(O116);O573=O635;O573.x+=O155;O976=length(vec2(O573.x,O573.y+2.3))-2.5;O434=min(max(abs(O976)-0.03,abs(O573.z)-0.2),length(vec2(O976-0.2,abs(O573.z)-0.18))-0.01);O434=max(min(O434,max(length(vec2(0.1*(fract(O573.x/0.1+0.5)-0.5),abs(O573.z)-0.18))-0.008,abs(O976-0.1)-0.1)),-O542);O434=max(O434,abs(O573.x)-1.05);O023(25)O558(O147);return O527;}\nfloat O356(vec3 O852,vec3 O790){float O496,O434;O496=0.;for(int O953=O441;O953<120;O953++){O434=O294(O852+O496*O790);if(O434<0.0002||O496>O713)break;O496+=O434;}return O496;}vec3 O325(vec3 O480){vec4 O410;vec2 O868;O868=1e-4*vec2(1.,-1.);for(int O953=O441;O953<4;O953++){O410[O953]=O294(O480+((O953<2)?((O953==0)?O868.xxx:O868.xyy):((O953==2)?O868.yxy:O868.yyx)));}O410.x=-O410.x;return normalize(2.*O410.yzw-dot(O410,vec4(1.)));}vec4 O263(out vec2 O472){vec4 O310;vec2 O062,O317;float O031,O976,O007,O286;O310=vec4(0.);O472=vec2(0.);O062=vec2(0.);if(O426==O271||O426==O116){O976=length(O604.xz);O062=O604.zx;}else if(O426==O705||O426==O519||O426==O581||O426==O550){O062=O604.yz;}else if(O426==O612||O426==O178||O426==O209){O062=O604.yx;}else if(O426==O333||O426==O736||O426==O674){O062=O604.zx;}if(O062!=vec2(0.))O031=atan(O062.x,-O062.y)/(2.*O511);if(O426==O333||O426==O736||O426==O240)O286=0.5*step(0.5,fract(4.*O604.y+0.25));if(O426<=O271){if(O426==O116){O310=vec4(0.5,0.5,0.5,0.);}else if(O426==O333){if(O798.y>0.){if(O604.y>O627+0.01){O310=vec4(0.8,0.8,0.6,0.05);}else{O310=vec4(0.8,0.8,0.9,0.05);}}else{O310=(O604.y>O627+0.01)?vec4(0.1,0.1,1.,0.):vec4(0.8,0.8,0.8,0.);}}else if(O426==O364){O310=vec4(0.9,0.9,0.9,0.05);}else if(O426==O736){if(O798.x>0.){if(O604.y>O069.y+0.01){O310=vec4(0.8,0.8,0.6,0.05);}else{O310=vec4(0.8,0.9,0.8,0.05);}}else{O310=(O604.y<O069.y-0.02)?vec4(0.8,0.8,0.8,0.):vec4(0.1,0.1,1.,0.);}}else if(O426==O767){if(O798.w>0.&&O604.y>0.1)O310=vec4(0.8,0.4,0.2,0.2);else O310=vec4(0.8,0.8,0.8,0.);}else if(O426==O240){if(O798.z<0.&&length(O604.xz)<1.39){O310=vec4(0.8,0.8,0.8,0.)*(0.93+0.07*smoothstep(0.03,0.035,abs(fract(16.*O604.x+0.5))));}else{O317=abs(fract(vec2(8.*O604.y+0.5,8.*O604.x+O286)));O310=vec4(0.8,0.9,0.8,0.05)*(0.93+0.07*smoothstep(0.01,0.05,O139(O317)));}}else if(O426==O271){O310=vec4(0.5,0.7,0.9,0.1);}}else if(O426<=O457){if(O426==O178){O310=vec4(0.8,0.7,0.8,0.1)*(0.8+0.2*step(0.1,fract(128.*O031)));}else if(O426==O705){O310=vec4(0.7,0.8,0.6,0.1);if(length(O604.yz)<0.35)O310*=0.6+0.4*step(0.5,fract(31.*O031));}else if(O426==O674){O310=vec4(0.8,0.7,0.6,0.1)*(0.6+0.4*step(0.5,fract(128.*O031)));}else if(O426==O519){O007=length(O604.yz)-O418[0];O310=vec4(0.8,0.7,0.6,0.1)*(1.-0.4*step(0.001,abs(O007))*step(0.5,fract(63.*O031+0.25*sign(O007))));}else if(O426==O550){O007=length(O604.yz)-O418[1];O310=vec4(0.8,0.7,0.6,0.1)*(1.-0.4*step(0.001,abs(O007))*step(0.5,fract(47.*O031+0.25*sign(O007))));}else if(O426==O581){O007=length(O604.yz)-O418[2];O310=vec4(0.8,0.7,0.6,0.1)*(1.-0.4*step(0.001,abs(O007))*step(0.5,fract(31.*O031+0.25*sign(O007))));}else if(O426==O612){O310=vec4(0.8,0.7,0.6,0.1)*(0.6+0.4*step(0.5,fract(128.*O031)));}else if(O426==O457){O310=vec4(0.6,0.6,0.7,0.1);}}else{if(O426==O643){O310=(O604.y>0.)?vec4(0.6,0.6,0.7,0.1):vec4(0.4,0.6,0.8,0.1);}else if(O426==O209){O310=vec4(0.8,0.7,0.8,0.1)*(0.8+0.2*step(0.1,fract(128.*O031)));}else if(O426==O302){O310=vec4(0.9,0.9,0.7,-1.);}else if(O426==O488){O310=vec4(0.2,0.4,0.2,-1.);}else if(O426==O085){O310=vec4(1.,0.7,0.7,-1.);}else if(O426==O395){O310=vec4(0.8,0.7,0.6,0.1);}else if(O426==O147){O310=vec4(0.5,0.3,0.1,0.);}}return O310;}vec4 O124(vec3 O852,vec3 O790,vec3 O480,float O976){vec3 O410,O503;float b,O434,O007;O410=O852-O480;b=dot(O790,O410);O007=b*b+O976*O976-dot(O410,O410);O434=O713;if(O007>0.){O434=-b-sqrt(O007);O503=(O410+O434*O790)/O976;}return vec4(O434,O503);}vec3 O131(vec3 O852,vec3 O790){vec4 O310,O465;vec3 O046,O279,O503,O007;vec2 O472;float O775,O744,O682,O031,b,O201;bool O829,O922,O891;O744=O713;O829=false;O922=false;if(!O860)O465=O124(O852,O790,vec3(0.,O759,0.),0.15);O682=O713;for(int O984=O441;O984<2;O984++){O775=O356(O852,O790);if(!O860){if(O984==0){if(O682<min(O775,O713)){O852+=O682*O790;O503=O465.yzw;O922=true;}else if(O775>=O713&&O790.y<0.){O007=O852+(-O852.y/O790.y)*O790;b=length(O007.xz);if(b<3.*O658){O852=O007;O503=normalize(vec3(0.01*O914(O852.xz/b,O511*(0.5+0.2*fract(4.*b-O348))),1.)).xzy;O922=true;}}if(O922){O790=reflect(O790,O503);O852+=0.01*O790;}}if(!O922)break;}else break;}if(O775<O713){O852+=O775*O790;O503=O325(O852);O310=O263(O472);if(O426==O271&&O503.y<0.99)O310.rgb*=0.6;if(O426==O457||O426==O488||O426==O395){O031=fract(16.*(atan(O604.z,-O604.x)/(2.*O511)+0.5));O503.xz=O914(O503.xz,-0.15*O511*sin(O511*O031*O031));}}else{O279=vec3(0.7,0.7,0.75);O829=true;}if(O860){O279=vec3(1.)*pow(O108(O310.rgb),0.7);O891=false;if(O186<=8){if(O186==1) O891=(O426==O116);if(O186==2) O891=(O426==O271);if(O186==3) O891=(O426==O488);if(O186==4) O891=(O426==O457);if(O186==5) O891=(O426==O643);if(O186==6) O891=(O426==O550||O426==O581);if(O186==7) O891=(O426==O612);if(O186==8) O891=(O426==O674);}else if(O186<=16){if(O186==9) O891=(O426==O674);if(O186==10)O891=(O426==O705);if(O186==11)O891=(O426==O674);if(O186==12)O891=(O426==O612);if(O186==13)O891=(O426==O519);if(O186==14)O891=(O426==O674);if(O186==15)O891=(O426==O178||O426==O643);if(O186==16)O891=(O426==O209);}else{if(O186==17)O891=(O426==O767);if(O186==18)O891=(O426==O302);if(O186==19)O891=(O426==O085);if(O186==20)O891=(O426==O736);if(O186==21)O891=(O426==O364);if(O186==22)O891=(O426==O240);if(O186==23)O891=(O426==O333);if(O186==24)O891=(O426==O395);if(O186==25)O891=(O426==O147);}if(O891){O279.r=sqrt(O279.g);O279.rb*=0.2;}O279*=0.3+0.7*max(dot(O503,O255),0.);if(O829)O279=vec3(0.7,0.7,0.75);}else{if(!O829){if(O310.a>=0.){O279=O310.rgb*(0.2+0.2*max(-dot(O503,O255),0.)+0.8*max(dot(O503,O255),0.))+O310.a*pow(max(dot(reflect(O255,O503),O790),0.),32.);}else{O279=O310.rgb*(0.55-0.45*dot(O790,O503));}}if(O922)O279*=0.9;}return clamp(O279,0.,1.);}\nvoid O100(){O689=0.03;O658=2.;O627=2.;O945[0]=0.85*O658;O945[1]=0.5*O658;O945[2]=0.2*O658;O155=2.46*O658;O418[0]=0.6;O418[1]=0.33;O418[2]=0.14;}void mainImage(out vec4 O930,in vec2 O961){mat3 O565;vec4 O170;vec3 O852,O790,O279;vec2 O248,O379;float O093,O899,O751;\nO232=iFrame;O248=iResolution.xy;O379=2.*O961.xy/O248-1.;O379.x*=O248.x/O248.y;O348=iTime;O170=iMouse;O170.xy=O170.xy/O248-0.5;O170.y*=-1.;\nO100();O093=0.05*O511;O899=-0.1*O511;O751=4.5;if(O170.z>0.){O093+=2.*O511*O170.x;O899+=O511*O170.y;O751+=abs(O093);}else{O093+=O511*sin(0.01*O511*O348);}O899=clamp(O899,-0.4*O511,-0.05*O511);O759=0.7+0.4*sin(0.3*O348);O852=vec3(0.,0.5,-20.);O565=O224(O899,O093);O852=O565*O852;O255=O565*normalize(vec3(1.,1.,-1.));O713=80.;O790=O565*normalize(vec3(O379,O751));O186=int(30.-abs(floor(mod(2.*O348,60.))-30.));O860=(O186<=27);O279=O131(O852,O790);O930=vec4(O279,1.);}\n",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}