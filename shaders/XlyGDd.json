{
    "Shader": {
        "info": {
            "date": "1477365228",
            "description": "画一条直线的shader",
            "flags": 0,
            "hasliked": 0,
            "id": "XlyGDd",
            "likes": 0,
            "name": "Draw a line of YY",
            "published": 3,
            "tags": [
                "thebookofshader"
            ],
            "usePreview": 0,
            "username": "20911870",
            "viewed": 886
        },
        "renderpass": [
            {
                "code": "float impulse( float k, float x );\nfloat cubicPulse( float c, float w, float x );\nfloat expStep( float x, float k, float n );\nfloat parabola( float x, float k );\nfloat pcurve( float x, float a, float b );\n\n// Plot a line on Y using a value between 0.0-1.0\nfloat plot(vec2 st, float pct);\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    \n    // 画一条直线\n    float y = uv.x;\n    \n    // 画y = x^2的图像\n    //float y = pow(uv.x, 2.0);\n    \n    // 画y = 0(x <= 0.5) && y = 1(x > 0.5)的图像\n\t//float y = step(0.5, uv.x);\n    \n    // 画y在0.1和9，9之间平滑插值的图像\n    //float y = smoothstep(0.1, 0.9, uv.x);\n    \n    // 画一个波峰，波范围为[0.2,0.8],波峰为0.5\n    //float y = smoothstep(0.2,0.5,uv.x) - smoothstep(0.5,0.8,uv.x);\n    \n    // 正弦函数\n    //float y = (sin(20. * uv.x) + 1.) / 2.;\n    \n    // 余弦函数\n    //float y = (cos(20. * uv.x) + 1.) / 2.;\n    \n    // 正弦函数截取小数部分 fract()\n    //float y = (fract(sin(20. * uv.x))) / 2. + 0.25;\n    \n    // 正弦函数向正无穷取整 ceil()\n    //float y = (ceil(sin(20. * uv.x))) / 2. + 0.25;\n    \n    // 正弦函数向正负穷取整 floor()\n    //float y = (floor(sin(20. * uv.x))) / 2. + 0.25;\n    \n    // Impulse\n    //float y = impulse(12., uv.x);\n    \n    // Cubic Pulse\n    //float y = cubicPulse(0.5, 0.2, uv.x);\n    \n    // Exponential Step\n    //float y = expStep(st.x,10.,1.0);\n    \n    // Parabola\n    //float y = parabola(uv.x,1.0);\n    \n    // Power Curve\n    //float y = pcurve(uv.x,3.0,1.0);\n    \n    // 上方的颜色为假彩色图像，可用于调试\n    //vec3 color = vec3(y);\n    vec3 color = vec3(0.0);\n    \n    // Plot a line\n    float pct = plot(uv, y);\n    color = (1.0-pct)*color+pct*vec3(0.0,1.0,0.0);\n    \n    fragColor = vec4(color,1.0);\n}\n\nfloat plot(vec2 st, float pct){\n    return  smoothstep( pct-0.02, pct, st.y) - \n          smoothstep( pct, pct+0.02, st.y);\n}\n\nfloat impulse( float k, float x ){\n    float h = k*x;\n    return h*exp(1.0-h);\n}\n\nfloat cubicPulse( float c, float w, float x ){\n    x = abs(x - c);\n    if( x>w ) return 0.0;\n    x /= w;\n    return 1.0 - x*x*(3.0-2.0*x);\n}\n\nfloat expStep( float x, float k, float n ){\n    return exp( -k*pow(x,n) );\n}\n\nfloat parabola( float x, float k ){\n    return pow( 4.0*x*(1.0-x), k );\n}\n\nfloat pcurve( float x, float a, float b ){\n    float k = pow(a+b,a+b) / (pow(a,a)*pow(b,b));\n    return k * pow( x, a ) * pow( 1.0-x, b );\n}\n\n",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}