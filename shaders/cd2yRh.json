{
    "Shader": {
        "info": {
            "date": "1687413209",
            "description": "https://twitter.com/Scrygl/status/1671749573629612034",
            "flags": 0,
            "hasliked": 0,
            "id": "cd2yRh",
            "likes": 3,
            "name": "twisty waves",
            "published": 3,
            "tags": [
                "2d"
            ],
            "usePreview": 0,
            "username": "scry",
            "viewed": 157
        },
        "renderpass": [
            {
                "code": "////////////////////////////////////////////////////////////////\n////////////////////////////////////////////////////////////////////////////////\n#define pi acos(-1.)\n#define deg pi/180.\n#define time iTime*pi/10.\n#define R iResolution.xy\n#define ar R.x/R.y\nvec3 cs = vec3(1.,2.,3.);\nmat2 r2d(float a) {return mat2(cos(a),sin(a),-sin(a),cos(a));}\nfloat sdBox(vec2 p, vec2 s) {\n    vec2 q = abs(p)-s;\n    return length(max(q,0.))+min(0.,max(q.x,q.y));\n}\nvec3 rgb2hsv(vec3 c){vec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);vec4 p = mix(vec4(c.bg, K.wz), vec4(c.gb, K.xy), step(c.b, c.g));vec4 q = mix(vec4(p.xyw, c.r), vec4(c.r, p.yzx), step(p.x, c.r));float d = q.x - min(q.w, q.y);float e = 1.0e-10;return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), d / (q.x + e), q.x);}vec3 hsv2rgb(vec3 c){vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);}float bitm(vec2 uv,int c) {float h = 5.;float w = 3.;int p = int(pow(2.,w));float line1 = 9591.;uv = floor(vec2(uv.x*w,uv.y*h))/vec2(w,w);float c1 = 0.;float cc = uv.x + uv.y*w;c1 = mod( floor( float(c) / exp2(ceil(cc*w-0.6))) ,2.);c1 *= step(0.,uv.x)*step(0.,uv.y);c1 *= step(0.,(-uv.x+0.99))*step(0.,(-uv.y+1.6));return (c1);}vec3 slogo(vec2 uv, float ar_, float size) {size = 240./size;uv.x = 1.-uv.x;vec2 px = vec2(1./3.,1./5.);float ls = 4.1;uv *= 240./5.25/size;ls += 2.;float ul = length(uv);ul = length(vec2(uv.x*0.5,uv.y)-0.5);uv -= 0.4;uv.x *= ar*1.75;uv.y *= 1.04;int s = 29671;int c = 29263;int r = 31469;int y = 23186;uv.x= 5.-uv.x;float b = bitm(uv,s);uv.x -= 1./3.*4.;b += bitm(uv,c);uv.x -= 1./3.*4.;b += bitm(uv,r);uv.x -= 1./3.*4.;b += bitm(uv,y);float rr = step(0.,uv.x+px.x*13.)*step(0.,uv.y+px.y)*step(0.,(-uv.x+px.x*4.))*step(0.,(-uv.y+px.y*6.));b = clamp(b,0.,1.);vec3 l = hsv2rgb(vec3(b+iTime/40.,0.1,rr-b*1.9))*rr;l -= 0.1-clamp(ul*0.1,rr*1.-b,0.1);return vec3(l);}\n\n\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n    vec2 uv = fragCoord.xy / iResolution.xy;\n    vec2 tv = uv;\n    uv -= 0.5;\n    uv.x *= ar;\n    uv *= 4.;\n    vec3 col = vec3(0.);\n    float b = sdBox(uv,vec2(0.));\n    vec2 s = vec2(0.2,0.7);\n    float t = time;\n    float rtime = time/4.;\n    float sv = 16.;\n    for (int i=0;i<8;i++) {\n        uv += sin(uv.x*14.)*float(i+1)*0.02;\n        uv *= r2d(deg*45.+sin(rtime*sv)/sv+rtime);\n        t = -t;\n    }\n    uv += vec2(sin(time),cos(time))*0.9;\n    \n    for (int i=0;i<25;i++) {\n        float ii = float(i);\n        float b_ = sdBox(uv+s,vec2(s));\n        uv *= r2d(deg*90.);\n        //b = min(b,b_);\n        b = min(b_,b);\n        //s *= 0.3;\n        //s *= r2d(time*2.);\n        col += smoothstep(0.1,0.,abs(b_-0.3))*(sin(cs+float(i)*0.9+time)*0.3+0.7)*0.2;\n        col += smoothstep(0.5,0.,(b_-0.25))*(sin(cs+float(i)*2.5+time)*0.3+0.7)*0.2;\n        ii += 0.2;\n        vec2 ua = vec2(sin(ii*ii*0.5),cos(ii*ii*0.5));\n        ua = floor(ua*2.)/3.;\n        ua += vec2(sin(time+ii),cos(time-ii))*0.6;\n        uv += ua*2.2;\n        //b = sdBox(uv,vec2(0.1))-0.1*float(i+1);\n    }\n    col *= 1.8;\n    col -= 0.8;\n    col = clamp(col,-0.5,1.);\n    col += slogo(tv,1.,300./2.)*(sin(vec3(cs*0.6+tv.x*20.))*0.4+0.6)*0.5;\n    //col += sin(cs+uv.x+time+sin(uv.y*40.+sin(uv.x*40.)*4.)*0.8)*0.1;\n    //col += smoothstep(0.01,0.,abs(b));\n    fragColor = vec4(col,1.0);\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}