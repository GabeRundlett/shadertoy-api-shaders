{
    "Shader": {
        "info": {
            "date": "1544881882",
            "description": "Mouse.y control offset\n0.618... give the golden ration sunflower (default)  ",
            "flags": 0,
            "hasliked": 0,
            "id": "MtGBDt",
            "likes": 7,
            "name": "sunflower + mesh",
            "published": 3,
            "tags": [
                "sunflower",
                "short"
            ],
            "usePreview": 0,
            "username": "FabriceNeyret2",
            "viewed": 612
        },
        "renderpass": [
            {
                "code": "#define N  30.\n#define PHI .61803398875        // indeed, -PHI ( = PHI-1 )\n\n#define S(d,r) smoothstep( r, 0., d) // antialiased draw. r >= 1.5\n\nfloat line(vec2 p, vec2 a,vec2 b) {  // https://www.shadertoy.com/view/4dcfW8\n    p -= a, b -= a;\n\tfloat h = clamp(dot(p, b) / dot(b, b), 0., 1.); // proj coord on line\n\treturn length(p - b * h);                       // dist to segment\n}\n\nvoid mainImage( out vec4 O, vec2 U )\n{\n    vec2 R = iResolution.xy, J=vec2(1);\n         U = ( U - .5* R ) / R.y;\n    \n    float r = iMouse.y/R.y, y, l, w; \n    if (r==0.) r = PHI;\n    \n    l = length(U), J.x = l*6.28,                    // jacobian for dots\n    U = N* vec2( atan(U.y,U.x)/6.28 , l );          // polar coords\n      \n    w = length(fwidth(vec2( U.x + r*U.y, U.y) ));   // jacobian for lines width\n    U.x += r* floor(U.y+.5);                        // dot offsetting \n\n#define L(x,y) line( U, floor(U+.5)-vec2(x,y), floor(U+.5)+vec2(x,y) )\n    O.r  = S( L(1.-r,1), w );\n    O.g  = S( L(  -r,1), w );\n    O.b  = S( L(.5-r,1), w );\nU.x+=.5; O.b  += S( L(.5-r,1), w ); U.x-=.5;\n // O += .5* S( L(1,0),    w );\n               \n    U = fract( U +.5 ) -.5,                         // draw dots\n    O += S( length(U*J)-.3, N*2./R.y );\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}