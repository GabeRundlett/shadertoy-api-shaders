{
    "Shader": {
        "info": {
            "date": "1647619067",
            "description": ".",
            "flags": 0,
            "hasliked": 0,
            "id": "NlfcRM",
            "likes": 17,
            "name": "short sphere",
            "published": 3,
            "tags": [
                "raytracing",
                "intersection",
                "2tweets",
                "short"
            ],
            "usePreview": 0,
            "username": "FabriceNeyret2",
            "viewed": 358
        },
        "renderpass": [
            {
                "code": "/**/\n\n#define r  mat2(cos(.3*iTime+vec4(0,-1,1,0)*1.5708)) // rotation\n\nvoid mainImage( out vec4 O, vec2 u )\n{\n    vec3 R = iResolution,\n         P = vec3( u+u - R.xy, 0) / R.y; // P on sphere surface (or background)\n    float l = dot(P,P), b;     \n    P.z = sqrt(1.-l);\n    P.xy *= r; P.yz *= r;                // rotations\n    \n    b = asin(P.y);                       // polar coords\n    O = l > 1. ? vec4(.5) : vec4( .5+.5*cos(50.*vec2(acos(P.x/cos(b)),b)) , 0, 0);\n                                      //   cheaper: acos(P.x/sqrt(1.-P.y*P.y))\n}\n\n\n\n\n\n\n\n\n/** // golfed down to 212 chars / 257 by Xor, Coyote , Greg, Fabrice\n\nvoid mainImage( out vec4 O, vec2 u )\n{\n    u += u - (O.xy=iResolution.xy);\n    mat2 r = mat2( cos(.3*iTime + vec4(0,11,33,0)));\n        O = .5+ ( ( O.z = sqrt(1. - dot(u/=O.y, u )) )  < 1.\n                ? O.xy = u*r, O.yz *= r,.5*cos( 50.*atan( O, vec4(O.z,length(O.xz),0,0) ) )\n                : O-O );\n}\n\n/* // 218 chars\n\nvoid mainImage( out vec4 O, vec2 u )\n{    \n    u += u - (O.xy=iResolution.xy);\n    O.z = sqrt(O.w=1.-dot(u/= O.y,u));\n    \n    mat2 r = mat2( cos(.3*iTime + vec4(0,11,33,0)) );\n    O.xy = u* r; O.yz *= r;\n\n    O = .5+(O.w>0.?.5*cos(50.*atan(O, vec4(O.z,length(O.xz),0,0))) : O-O);\n}\n\n/**/",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}