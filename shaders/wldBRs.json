{
    "Shader": {
        "info": {
            "date": "1613316991",
            "description": "A heart curve.",
            "flags": 0,
            "hasliked": 0,
            "id": "wldBRs",
            "likes": 5,
            "name": "Heart Wave Curve",
            "published": 3,
            "tags": [
                "2d",
                "math",
                "heart",
                "curve"
            ],
            "usePreview": 0,
            "username": "moranzcw",
            "viewed": 300
        },
        "renderpass": [
            {
                "code": "// Heart Wave Curve - by moranzcw - 2021\n// Email: moranzcw@gmail.com\n// License Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License.\n\n\n#define PI 3.1415926\n#define Scale 2.5\n\nvec3 background(float yCoord) \n{\t    \n    return mix(vec3(0.1315, 0.1375, 0.4757), vec3(0.0546, 0.0898, 0.1953), yCoord);\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    vec2 coord = (2.0*fragCoord - iResolution.xy)/iResolution.y * Scale;\n    \n    // parameter of curve stretching\n    float t = mix(-50.0, 50.0, 0.5*sin(iTime*0.25)+0.5);\n    \n    // heart wave curve\n    vec2 curvePoint;\n    float len = 1e10;\n    float delta = 1.0 / iResolution.y;\n    for(float i=-100.0; i<101.0; i++)\n    {\n        curvePoint.x = coord.x + i * delta * 0.1;\n        curvePoint.y = pow(curvePoint.x, 0.42) + sqrt(0.6*(3.0-curvePoint.x*curvePoint.x)) * sin(t * PI * curvePoint.x) - 0.5;\n       \n        // distance between current pixel and the curve\n        len = min(len, length(coord-curvePoint));\n    }\n    \n    // draw\n    vec3 color = vec3(1.0,0.0,0.0) * smoothstep(0.02, 0.0, len);\n\n    color *= smoothstep(1.75, 1.72, abs(coord.x));\n    \n    // background color\n    color += background(uv.y);\n    \n    fragColor = vec4(color,1.0);\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}