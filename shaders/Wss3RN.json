{
    "Shader": {
        "info": {
            "date": "1545214885",
            "description": "Cheap Grass procedural texture",
            "flags": 0,
            "hasliked": 0,
            "id": "Wss3RN",
            "likes": 1,
            "name": "Cheap Grass 2",
            "published": 3,
            "tags": [
                "procedural",
                "texture",
                "grass"
            ],
            "usePreview": 0,
            "username": "dalerank",
            "viewed": 575
        },
        "renderpass": [
            {
                "code": "#define BLADES 5\n#define BLADE_SEED 123.4\n#define BLADE_SIZE_KOEFF1 17.0\n#define BLADE_SIZE_KOEFF2 2.0\n#define BLADE_SIZE_KOEFF3 1.5\n#define BLADE_SMOOTH_START 0.0\n#define BLADE_SMOOTH_STOP  0.2\n#define BLADE_HEIGHT_KOEFF 0.05\n#define BLADE_ANGLE_KOEFF 0.05\n#define BLADE_CENTER -0.5\n\nfloat grass(vec2 p, float x, float cosx, float i, float cos_time)\n{\n\tp.x += pow(1.0 + p.y, 2.28) * cosx * BLADE_ANGLE_KOEFF;\n\tp.x *= BLADE_SIZE_KOEFF2;\n    p.x += pow(0.3*i + p.y, 2.0) * 0.01 * cos_time;\n\tp.y = (1.0 + p.y) - 1.0;\n\treturn 1.0 - smoothstep(BLADE_SMOOTH_START,  \n                               BLADE_SMOOTH_STOP, \n                               pow(abs(p.x) * BLADE_SIZE_KOEFF1, BLADE_SIZE_KOEFF3) + p.y - BLADE_HEIGHT_KOEFF); \n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 offset = vec2(BLADE_CENTER, -0.5);\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    //size.y *= 1.3;\n    \n    if (uv.y > 0.5) uv.y = (1.0 - uv.y);\n    \n    float cosTime = cos(iTime*0.5); \n    float cosx = cos(BLADE_SEED)-0.8;\n\tfor(int i = 1; i < BLADES; i++)\n\t{\n\t    vec2 tc = uv + offset;\n        tc.y *= 2.0;\n        \n        float fracti = fract(float(i)*BLADE_SEED);\n        tc.y += fracti;\n        tc.x *= (2.0 + fracti)*0.20;               \n        \n\t\tfloat c = grass(tc, float(i) * BLADE_SEED, cosx, float(i), cosTime);\n        vec4 cc = vec4(0.0, 1.0, 0.0, 1.0) * c;\n        //cosTime += 0.1;\n        cosx += 0.65;\n\t\t\n\t\tfragColor.rgb = mix(fragColor.rgb, cc.rgb, cc.w);       \n\t}\n   \n\tfragColor.a = 1.0;\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}