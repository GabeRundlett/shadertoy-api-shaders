{
    "Shader": {
        "info": {
            "date": "1534028517",
            "description": "A minimalistic clock.",
            "flags": 0,
            "hasliked": 0,
            "id": "ll3yWj",
            "likes": 5,
            "name": "A simple clock",
            "published": 3,
            "tags": [
                "clock"
            ],
            "usePreview": 0,
            "username": "kristoflovas",
            "viewed": 1049
        },
        "renderpass": [
            {
                "code": "#define C vec2(.5,.5)\n#define TwoPi 6.2831\n//line/capsule based on \"DrawLine-2D\" function from Unreal Engine\nfloat line (vec2 uv,vec2 p1,vec2 p2,float w,float f)\n{\nvec2 dif =p2-p1;\nreturn 1.-clamp((distance((uv-p1)-clamp(dot(uv-p1,dif)/dot(dif,dif),0.,1.)*dif,vec2(0.,0.))-w)/f,0.,1.);\n}\n//orbiting point\nvec2 orbit (float rot, float dist)\n{\nreturn vec2(sin((-rot-.5)*TwoPi),cos((-rot-.5)*TwoPi))*dist;\n}\n\n//render\nvoid mainImage( out vec4 clock, in vec2 fragCoord )\n{\n\tfloat ar = iResolution.x/iResolution.y;\n    vec2 uv = fragCoord/iResolution.xy;\n\t\t uv = vec2(uv.x,1.-uv.y)*vec2(ar,1.)-vec2((ar-1.)/2.,0.);\n// init clock to 0 to avoid error on some certain graphics cards\n         clock.x = 0.;\n\t\n//pointers\nvec2 HP = orbit(1./43200.*iDate.w,.22);\nvec2 MP = orbit(1./3600.*iDate.w,.33);\nvec2 SP = orbit(1./60.*iDate.w,.44);\nclock.x += line(uv-C,vec2(0.,0.)-HP*.2,HP,.015,.0025)+line(uv-C,vec2(0.,0.)-MP*.2,MP,.0075,.0025)+line(uv-C,vec2(0.,0.)-SP*.2,SP,.005,.0025);\n\n//markings\nfor(int i=0;i<60; i++)\n{\nfloat IsHour = ceil(mod(float(i),5.)/5.);\nvec2 point1 =orbit(1./60.*float(i),mix(.35,.4,IsHour));\nvec2 point2 =point1*mix(1.3,1.15,IsHour);\nclock.x += line(uv-C,point1,point2,mix(.01,.002,IsHour),.0025);\n}\n\t    \n    clock = vec4(clock.x,clock.x,clock.x,1.0);\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}