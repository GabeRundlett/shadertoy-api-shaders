{
    "Shader": {
        "info": {
            "date": "1698344141",
            "description": "Lava lamp",
            "flags": 0,
            "hasliked": 0,
            "id": "DsVBzy",
            "likes": 2,
            "name": "Red lava lamp",
            "published": 3,
            "tags": [
                "noise",
                "fire",
                "lava",
                "hash"
            ],
            "usePreview": 0,
            "username": "ianertson",
            "viewed": 137
        },
        "renderpass": [
            {
                "code": "#define R (iResolution.xy)\n#define T (iTime)\n#define M_PI 3.1415\n#define TAU (M_PI*2.0)\n\n\nfloat line(vec2 p, vec2 a, vec2 b, float t) {\n    vec2 pa = p - a; vec2 ba = b - a;\n    return clamp(1.0-length(pa - clamp(dot(pa, ba) / dot(ba, ba), 0.0, 1.0) * ba)/t, 0.0, 1.0);\n}\n\nfloat hash21(vec2 ip, float seed) {\n    uvec2 p = floatBitsToUint(ip);uint s = floatBitsToUint(seed);\n    uvec2 k = ~p;uint j = ~s;\n    p ^= p << 17U;p ^= p >> 13U;p += p.x * j + p.y;\n    p = p + ((p + k) << 3U);p ^= p << 5U;\n    return float(p.x + p.y) / float(0xFFFFFFFFU);\n}\n\nfloat noise(vec2 p, float seed) {\n    vec2 id = floor(p);\n    vec2 lv = fract(p); lv = lv * lv * (3.0 - 2.0 * lv); \n    return mix(\n        mix(hash21(id, seed), hash21(id+vec2(1, 0), seed), lv.x),\n        mix(hash21(id+vec2(0, 1), seed), hash21(id+vec2(1, 1), seed), lv.x),\n        lv.y\n    );\n}\n\nvoid mainImage(out vec4 O, in vec2 fc)\n{\n    vec2 uv = fc.xy / R.y;\n    vec3 col = vec3(0.0);\n    float cy = 0.3333;\n    float v = noise(uv*5.+T, 3.3212)*cy;\n    col += vec3(2.2, 0.63, 0.333)*line(uv, vec2(0.0, cy+v), vec2(R.x/R.y, cy+v), 0.01+0.04*noise(uv*40.+T, 1.132));\n    col = mix(col, vec3(1, 0, 0), smoothstep(0.0, cy, (v+cy)-uv.y));\n    col = pow(col, vec3(1.0/2.2));\n    O = vec4(col, 1.0);\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}