{
    "Shader": {
        "info": {
            "date": "1492818599",
            "description": "Quick creation of depth and color in cornell box",
            "flags": 0,
            "hasliked": 0,
            "id": "4sScRV",
            "likes": 1,
            "name": "Quick Cornell Box",
            "published": 3,
            "tags": [
                "procedural",
                "2d",
                "3d",
                "color",
                "depth"
            ],
            "usePreview": 0,
            "username": "tempaccnt",
            "viewed": 585
        },
        "renderpass": [
            {
                "code": "// camera at .5, 1.0, -.5\n// fov @ 90\n\n// 1/3 of vision is the back wall\nfloat twoThirds = 2.0/3.0;\nfloat oneThird = 1.0/3.0;\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord.xy / iResolution.xy;\n    float x = uv.x;\n    float y = uv.y;\n    \n    //fragColor = vec4(uv.x, uv.y, 1.0, 1.0);\n    // fragColor = vec4(uv,0.5+0.5*sin(iTime),1.0);\n    \n    float z = 0.0;\n    bool isLight = false;\n    vec4 diffuse;\n    vec4 worldPos = vec4(0.0, 0.0, 0.0, 0.0);\n    if(x > oneThird && x < twoThirds && y > oneThird && y <twoThirds){\n        // back wall\n        z = -1.0;\n        diffuse = vec4(1.0, 1.0, 1.0, 1.0);\n        worldPos.x = (x - oneThird) * 3.0;\n        worldPos.y = (y - oneThird) * 3.0;\n        worldPos.z = z;\n    }else if( y < x && y > -x + 1.0 && x > twoThirds){\n        // right wall\n        z = -(1.0-x)/oneThird;\n        diffuse = vec4(0.0, 1.0, 0.0, 1.0);\n        worldPos.x = 1.0;\n        worldPos.y = (y-(-z * oneThird)) * ((6.0 * (1.0 - x)) + 1.0);\n        worldPos.y = (y               )*((6.0 * (1.0 - x)) + 1.0) - (1.0 - x) / oneThird;\n        worldPos.z = z;\n    }else if( y > x && y < -x + 1.0 && x < oneThird){\n        // left wall\n        z = - x / oneThird;\n        diffuse = vec4(1.0, 0.0, 0.0, 1.0);\n        worldPos.x = 0.0;\n        worldPos.y = (y-(-z*oneThird))*((6.0 * (x)) + 1.0);\n        worldPos.y = (y- x            )*((6.0 * (x)) + 1.0);\n        worldPos.y = (y               )*((6.0 * (x)) + 1.0) - x / oneThird;\n        worldPos.z = z;\n    }else if( y < x && y < -x + 1.0 && y < oneThird){\n        // floor\n        z = -y/oneThird;\n        diffuse = vec4(1.0, 1.0, 1.0, 1.0);\n        worldPos.x = (x-(-z*oneThird)) * ((6.0 * (y)) + 1.0);\n        worldPos.x = (x - y) * ((6.0 * (y)) + 1.0);\n        worldPos.x = (x               )*((6.0 * (y)) + 1.0) - y / oneThird;\n        worldPos.y = 0.0;\n        worldPos.z = z;\n    }else if( y > x && y > -x + 1.0 && y > oneThird){\n        // ceiling\n        z = -(1.0-y)/oneThird;\n        diffuse = vec4(1.0, 1.0, 1.0, 1.0);\n        worldPos.x = (x-(-z*oneThird))*((6.0 * (1.0 - y)) + 1.0);\n        worldPos.x = (x - (1.0 - y)) * ((6.0 * (1.0 - y)) + 1.0);\n        worldPos.x = (x               )*((6.0 * (1.0 - y)) + 1.0) - (1.0 - y) / oneThird;\n        worldPos.y = 1.0;\n        worldPos.z = z;\n        if( y > 3.0 * x - 1.0 && y > -3.0 * x +2.0 && -z > oneThird && -z < twoThirds){\n            // light window\n            diffuse = vec4(1.0, 1.0, 1.0, 1.0);\n            //isLight = true;\n        }\n    }else{\n        // nothing should get here\n        diffuse = vec4(x, y, x, 1.0);\n    }\n    \n    vec4 lightPos = vec4(0.5, sin(iTime) * 0.5 + 0.5, -0.5, 1.0);\n    vec4 diff = worldPos - lightPos;\n    float lightInt = 1.0 - 4.0/5.0 * sqrt(diff.x * diff.x + diff.y * diff.y + diff.z * diff.z);\n    if(isLight){\n        fragColor = vec4(1.0, 1.0, 1.0, 1.0);\n    }else{\n        fragColor =  diffuse * lightInt;\n    }\n    /*\n    if(x >= 0.499 && x <= 0.501){\n        fragColor = vec4(0.5, 0.0, 0.0, 0.0);\n    }else if(y >= 0.498 && y <= 0.502){\n        fragColor = vec4(0.5, 0.0, 0.0, 0.0);\n    }else{\n        fragColor = vec4(worldPos.x, 0.0, 0.0, 0.0);\n    }*/\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}