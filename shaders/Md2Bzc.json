{
    "Shader": {
        "info": {
            "date": "1501682438",
            "description": "More SDF Tunnel",
            "flags": 0,
            "hasliked": 0,
            "id": "Md2Bzc",
            "likes": 0,
            "name": "More SDF Tunnel",
            "published": 3,
            "tags": [
                "sdftunnel"
            ],
            "usePreview": 0,
            "username": "mikatalk",
            "viewed": 590
        },
        "renderpass": [
            {
                "code": "#define PI 3.141592653589793\n\nfloat stroke(float x, float s, float w) {\n  float d = step(s,x+w*.5) - step(s, x-w*.5);\n  return clamp(d, 0., 1.);\n}\n\nfloat fill(float x, float size) {\n  return 1. - step(size, x);\n}\n\n\nfloat rectSDF(vec2 st, vec2 s) {\n  st = st*2.-1.;\n  return max( abs(st.x/s.x), abs(st.y/s.y) );\n}\n\nfloat crossSDF(vec2 st, float s) {\n  vec2 size = vec2(.005, s);\n  return min( rectSDF(st, size.xy), rectSDF(st, size.yx) );\n}\n\nvec2 rotate(vec2 st, float a) {\n  st = mat2(cos(a), -sin(a), sin(a), cos(a)) * (st-.5);\n  return st+.5;\n}\n\n\nfloat mountain(vec2 st, float a) {\n  st = mat2(cos(a), -sin(a), sin(a), cos(a)) * (st-.5);\n  return st+.5;\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n  vec2 st = fragCoord.xy / iResolution.xy;\n  vec3 color = vec3(0.0, 0.0, 0.0);  \n  \n  float timeSlow = iTime * .3;\n    \n    color = max(color, mountain(st, 1.));\n    \n  /*\nvec2 offset = vec2(\n    sin(iTime*.7), \n    abs(sin(iTime*.1))\n  );\n  vec2 size = vec2(1.);\n  vec2 center = st*2.-1.;\n  vec2 ratio =  cos(abs((st-vec2(.5)) * 2. )/2. * PI);\n  center += offset * ratio/2.;    \n     \n  \n  float rect = max( abs(center.x/size.x), abs(center.y/size.y) );\n  float fluff = length(center);\n  float fluff1 = fluff * .05;\n  float fluff2 = fluff * 6.;\n  //color += fill(rect, .05);\n  color += stroke(rect, 0. + mod(timeSlow, .1), fluff1);\n  color += stroke(rect, .1 + mod(timeSlow, .1), fluff1);\n  color += stroke(rect, .2 + mod(timeSlow, .1), fluff1);\n  color += stroke(rect, .3 + mod(timeSlow, .1), fluff1);\n  color += stroke(rect, .4 + mod(timeSlow, .1), fluff1);\n  color += stroke(rect, .5 + mod(timeSlow, .1), fluff1);\n  color += stroke(rect, .6 + mod(timeSlow, .1), fluff1);\n  color += stroke(rect, .7 + mod(timeSlow, .1), fluff1);\n  color += stroke(rect, .8 + mod(timeSlow, .1), fluff1);\n  color += stroke(rect, .9 + mod(timeSlow, .1), fluff1);\n  color += stroke(rect, 1. + mod(timeSlow, .1), fluff1);\n  \n  color = max( color, fill(crossSDF(  rotate( center+vec2(.5), radians( 45.)), 10.), fluff2) );\n  color = max( color, fill(crossSDF(  rotate( center+vec2(.5), radians(  0.)), 10.), fluff2) );\n  color = max( color, fill(crossSDF(  rotate( center+vec2(.5), radians( 11.25)), 10.), fluff2) );\n  color = max( color, fill(crossSDF(  rotate( center+vec2(.5), radians(-11.25)), 10.), fluff2) );\n  color = max( color, fill(crossSDF(  rotate( center+vec2(.5), radians( 22.5)), 10.), fluff2) );\n  color = max( color, fill(crossSDF(  rotate( center+vec2(.5), radians(-22.5)), 10.), fluff2) );\n  color = max( color, fill(crossSDF(  rotate( center+vec2(.5), radians( 33.75)), 10.), fluff2) );\n  color = max( color, fill(crossSDF(  rotate( center+vec2(.5), radians(-33.75)), 10.), fluff2) );\n \n//  color.r *= sin(iTime + length( abs(st-center)*abs(center)));\n  color.r *= .2 + .6 * sin( -iTime *.5 + length( abs(center+vec2(.5)-st)*abs(center)) * 2.5);\n  color.g *= .5 + .4 * sin( -iTime *.7 + length( abs(center+vec2(.5)-st)*abs(center)) * 2.);\n  color.b *= .1 + .7 * sin( -iTime *.8 + length( abs(center+vec2(.5)-st)*abs(center)) * 3.);\n  //color = 1. - color;\n*/\n  fragColor = vec4(color, 1.0);\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}