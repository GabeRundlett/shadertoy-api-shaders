{
    "Shader": {
        "info": {
            "date": "1620886388",
            "description": "ジュリア集合",
            "flags": 0,
            "hasliked": 0,
            "id": "Nd2Szd",
            "likes": 1,
            "name": "2D Julia set",
            "published": 3,
            "tags": [
                "julia"
            ],
            "usePreview": 0,
            "username": "takeshi",
            "viewed": 220
        },
        "renderpass": [
            {
                "code": "#define cos01(x) ((cos(x)+1.)/2.)\n#define rot(a) mat2(cos(a),sin(a),-sin(a),cos(a))\n\nvec3 hsv2rgb( in vec3 c ){\n    vec3 rgb = clamp( abs(mod(c.x*6.0+vec3(0.0,4.0,2.0),6.0)-3.0)-1.0, 0.0, 1.0 );\n    return c.z * mix( vec3(1.0), rgb*rgb*(3.0-2.0*rgb), c.y);\n}\n\n#define MAX_ITERS 400\nfloat julia( vec2 z, vec2 c ){\n  for( int i=0; i<MAX_ITERS; i++ ){\n      z = vec2( z.x*z.x-z.y*z.y, 2.*z.x*z.y ) + c;\n      if( length(z) > 2. ){\n        return (float(i) - log2(log2(dot(z,z))) + 4.0) / float(MAX_ITERS);\n      }\n  }\n  return 1.;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ){\n  float time = iTime * 0.4;\n  float ratio = iResolution.y/iResolution.x;\n  vec2 mo = iMouse.xy / iResolution.xy - 0.5;\n  //mo = vec2(cos(time),-sin(time))*.2;\n  vec2 uv = fragCoord / iResolution.xx - 0.5*vec2(1.,ratio);\n  uv *= rot(-.8);\n  float d = julia(uv*2.4,vec2(-0.1,-0.65)+mo*vec2(.4,.1));\n  float h = cos01(pow(d,1.)/.1);\n  float s = pow(d,1./2.0);\n  float v = 1.-pow(d,1.1) - pow(length(uv),2.2);\n  vec3 hsv = vec3(cos01(h+time/1.),s,v);\n  fragColor = vec4(hsv2rgb(hsv),1);\n}\n",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}