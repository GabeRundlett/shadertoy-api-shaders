{
    "Shader": {
        "info": {
            "date": "1485473917",
            "description": "I was playing with another shader and @shane jumped in and gave me the metaball one-liner :)",
            "flags": 0,
            "hasliked": 0,
            "id": "4lKXzd",
            "likes": 50,
            "name": "Metaballs: Let's get together",
            "published": 3,
            "tags": [
                "metaballs"
            ],
            "usePreview": 0,
            "username": "cacheflowe",
            "viewed": 2637
        },
        "renderpass": [
            {
                "code": "const float TWO_PI = 6.28318530718;\nconst float vertices = 8.;\nconst float startIndex = vertices;\nconst float endIndex = vertices * 2.;\n\nfloat metaballs(vec2 uv, float time) {\n    float timeOsc = sin(time);\t\t\t\t\t\t\t\t\t\t// oscillation helper\n    float size = 0.5;\t\t\t\t\t\t\t\t\t\t\t\t// base size\n    float radSegment = TWO_PI / vertices;\n    for(float i = startIndex; i < endIndex; i++) {\t\t\t\t\t// create x control points\n        float rads = i * radSegment;\t\t\t\t\t\t\t\t// get rads for control point\n        float radius = 1. + 1.5 * sin(time + rads * 1.);\n        vec2 ctrlPoint = radius * vec2(sin(rads), cos(rads));\t\t// control points in a circle \n\t\tsize += 1. / pow(i, distance(uv, ctrlPoint));\t\t\t\t// metaball calculation\n    }\n    return size;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float time = iTime * 2.;\n    vec2 uv = (2. * fragCoord - iResolution.xy) / iResolution.y;\t// center coordinates\n\tuv *= 3.; \t\t\t\t\t\t\t\t\t\t\t\t\t\t// zoom out\n    float col = metaballs(uv, time);\n\tcol = smoothstep(0., fwidth(col)*1.5, col - 1.);\t\t\t\t// was simple but aliased: smoothstep(0.98, 0.99, col);\n\tfragColor = vec4(1. - sqrt(vec3(col)), 1); \t\t\t\t\t\t// Rough gamma correction.\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}