{
    "Shader": {
        "info": {
            "date": "1589501375",
            "description": "motion blur effect (uses the plastic ratio)",
            "flags": 32,
            "hasliked": 0,
            "id": "3djBz1",
            "likes": 13,
            "name": "BlurraVision",
            "published": 3,
            "tags": [
                "2d",
                "video",
                "video",
                "blur",
                "effect",
                "old",
                "mtv"
            ],
            "usePreview": 0,
            "username": "Yambam",
            "viewed": 878
        },
        "renderpass": [
            {
                "code": "void mainImage( out vec4 O, in vec2 U )\n{\n    U /= iResolution.xy;\n    O = texture(iChannel0, U);\n}",
                "description": "",
                "inputs": [
                    {
                        "channel": 1,
                        "ctype": "video",
                        "id": 36,
                        "published": 1,
                        "sampler": {
                            "filter": "linear",
                            "internal": "byte",
                            "srgb": "false",
                            "vflip": "true",
                            "wrap": "clamp"
                        },
                        "src": "/media/a/35c87bcb8d7af24c54d41122dadb619dd920646a0bd0e477e7bdc6d12876df17.webm"
                    },
                    {
                        "channel": 0,
                        "ctype": "buffer",
                        "id": 257,
                        "published": 1,
                        "sampler": {
                            "filter": "linear",
                            "internal": "byte",
                            "srgb": "false",
                            "vflip": "true",
                            "wrap": "clamp"
                        },
                        "src": "/media/previz/buffer00.png"
                    }
                ],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            },
            {
                "code": "#define BLURINESS .85     //Nice values between 0.8 and 0.99\n#define CHROMA_THRESH .5  //Nice values between .25 and .65\n\n#define ZOOM0 1.05\n#define DITHER0 .01\n\n#define ZOOM1 1.\n#define DITHER1 .0 //.003 //\n\n#define PASS_COUNT 12.\n\nvoid mainImage( out vec4 final_O, in vec2 _U )\n{\n    vec2 U = _U / iResolution.xy;\n    vec2 origin = vec2(.5,.35);\n    \n    final_O = vec4(0.,0.,0.,1.);\n    for (float j=0.; j<PASS_COUNT; j++) {\n        vec4 O = vec4(0.,0.,0.,1.);\n        \n        float shift = (_U.x)/1.22074408461 +\n                      (_U.y)/1.4902161201 +\n                      ((float(iFrame)*PASS_COUNT+j)/1.61803398875)*pow(iResolution.x,.5)/60./1.8191725134; // * iMouse.x/iResolution.x; //\n       \t\n        float shift_y = mod(shift/1.32471795724,1.);\n        float shift_x = mod(shift/1.75487766623,1.);\n        \n\t\tbool off = shift_x*shift_x + shift_y*shift_y > 1.;\n        \n        \n        vec4 tex0;\n        \n        if (!off) {\n            vec2 Ut0 = (U-origin)/ZOOM0+origin+DITHER0*vec2(-1.+2.*(mod(shift_x,1.)),\n                                                            -1.+2.*(mod(shift_y,1.)));\n            tex0 = texture(iChannel0, Ut0);\n        }\n        if (j>=1.\n        &&  iMouse.z>0.) {\n            //Fun sharpness adjustment!\n        \ttex0 = mix(tex0, mix(vec4(.0,.0,.0,1.), final_O, 1./j), -1.5+4.*iMouse.x/iResolution.x);\n        }\n\n\n        vec2 Ut1 = (U-origin)/ZOOM1+origin-DITHER1*vec2(-1.+2.*(mod(shift_x,1.)),\n                                                        -1.+2.*(mod(shift_y,1.)));\n        vec4 tex1 = texture(iChannel1, Ut1); //U); //\n\n\n        float chroma = (max(distance(vec3(tex1.r,tex1.g,tex1.b), vec3(13./255., 163./255., 37./255.)), CHROMA_THRESH)-CHROMA_THRESH)/(1.-CHROMA_THRESH);\n        \n        //O = tex0;\n        vec4 bg_col = vec4(0.085 + 0.085*cos(iTime+U.xyx+vec3(0,2,4)), 1.); //vec4(.25,.0,.4,0.) //\n        O = off ? bg_col : mix(tex0, bg_col, 1.-BLURINESS); //mix(O, bg_col, 1.-BLURINESS);\n        O = mix(O, tex1, (0.+1.*chroma));\n        //O = O - vec4(.01,.01,.01,.0);\n        \n    \tfinal_O += O;\n    }\n    \n    final_O = mix(vec4(.0,.0,.0,1.), final_O, 1./PASS_COUNT);\n}",
                "description": "",
                "inputs": [
                    {
                        "channel": 1,
                        "ctype": "video",
                        "id": 36,
                        "published": 1,
                        "sampler": {
                            "filter": "linear",
                            "internal": "byte",
                            "srgb": "false",
                            "vflip": "true",
                            "wrap": "clamp"
                        },
                        "src": "/media/a/35c87bcb8d7af24c54d41122dadb619dd920646a0bd0e477e7bdc6d12876df17.webm"
                    },
                    {
                        "channel": 0,
                        "ctype": "buffer",
                        "id": 257,
                        "published": 1,
                        "sampler": {
                            "filter": "linear",
                            "internal": "byte",
                            "srgb": "false",
                            "vflip": "true",
                            "wrap": "clamp"
                        },
                        "src": "/media/previz/buffer00.png"
                    }
                ],
                "name": "Buffer A",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 257
                    }
                ],
                "type": "buffer"
            }
        ],
        "ver": "0.1"
    }
}