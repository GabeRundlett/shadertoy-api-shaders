{
    "Shader": {
        "info": {
            "date": "1708875847",
            "description": "cyberpunk number font experiment",
            "flags": 0,
            "hasliked": 0,
            "id": "l3SGWK",
            "likes": 18,
            "name": "Graphic Design Experiment 13",
            "published": 3,
            "tags": [
                "graphicdesign",
                "cineshader"
            ],
            "usePreview": 0,
            "username": "yasuo",
            "viewed": 666
        },
        "renderpass": [
            {
                "code": "#define Rot(a) mat2(cos(a),-sin(a),sin(a),cos(a))\n#define antialiasing(n) n/min(iResolution.y,iResolution.x)\n#define S(d,b) smoothstep(antialiasing(1.5),-antialiasing(1.5),d - b)\n#define B(p,s) max(abs(p).x-s.x,abs(p).y-s.y)\n#define deg45 .707\n#define R45(p) (( p + vec2(p.y,-p.x) ) *deg45)\n#define Tri(p,s) max(R45(p).x,max(R45(p).y,B(p,s)))\n#define DF(a,b) length(a) * cos( mod( atan(a.y,a.x)+6.28/(b*8.0), 6.28/((b*8.0)*0.5))+(b-1.)*6.28/(b*8.0) + vec2(0,11) )\n#define PUV(p) vec2(log(length(p)),atan(p.y/p.x))\n#define num_0 0\n#define num_1 1\n#define num_2 2\n#define num_3 3\n#define num_4 4\n#define num_5 5\n#define num_6 6\n#define num_7 7\n#define num_8 8\n#define num_9 9\n\nfloat updateDist(float d, float div, float dir){\n    return cos(d/div+ iTime*5.0*dir);\n}\n\nfloat checkChar(int targetChar, int char){\n    return 1.-abs(sign(float(targetChar) - float(char)));\n}\n\nfloat numMask(vec2 p){\n    vec2 prevP = p;\n    float d = B(p,vec2(0.35,0.35));\n    p.y=abs(p.y)-0.36;\n    float a = radians(-45.);\n    float d2 = B(p,vec2(0.1,0.03));\n    p.x = abs(p.x)-0.08;\n    d2 = max(dot(p,vec2(cos(a),sin(a))),d2);\n    d = max(-d2,d);\n    p = prevP;\n    p.x=abs(p.x)-0.36;\n    a = radians(-45.);\n    d2 = B(p,vec2(0.03,0.1));\n    p.y = abs(p.y)-0.08;\n    d2 = max(-dot(p,vec2(cos(a),sin(a))),d2);\n    d = max(-d2,d);\n    \n    p = prevP;\n    a = radians(50.);\n    p = abs(p)-0.32;\n\n    d = max(dot(p,vec2(cos(a),sin(a))),d);\n\n    return d;\n}\n\nfloat num0(vec2 p){\n    vec2 prevP = p;\n    float d = B(p-vec2(-0.05,0.29),vec2(0.12,0.06));\n    float a = radians(-45.);\n    p*=Rot(radians(-45.));\n    p-=vec2(-0.01,0.33);\n    float d2 = B(p,vec2(0.15,0.06));\n    d2 = max(-B(p-vec2(0.,0.03),vec2(0.06,0.005)),d2);\n    d = min(d,d2);\n    p = prevP;\n    \n    p-=vec2(-0.29,0.);\n    d2 = B(p,vec2(0.06,0.15));\n    d2 = max(-B(p-vec2(0.04,0.02),vec2(0.005,0.09)),d2);\n    d = min(d,d2);\n    p = prevP;\n\n    p*=Rot(radians(-45.));\n    p-=vec2(-0.31,0.035);\n    d2 = B(p,vec2(0.06,0.16));\n    d = min(d,d2);\n    p = prevP;\n\n    p*=Rot(radians(-45.));\n    p-=vec2(0.25,0.03);\n    d2 = B(p,vec2(0.06,0.22));\n    d2 = max(-B(p-vec2(-0.03,-0.03),vec2(0.005,0.1)),d2);\n    d = min(d,d2);\n    p = prevP;\n\n    p-=vec2(0.29,-0.02);\n    d2 = B(p,vec2(0.06,0.105));\n    d = min(d,d2);\n    p = prevP;\n\n    p*=Rot(radians(45.));\n    p-=vec2(0.31,-0.01);\n    d2 = B(p,vec2(0.06,0.2));\n    d = min(d,d2);\n    p = prevP;\n\n    p-=vec2(-0.013,-0.29);\n    d2 = B(p,vec2(0.16,0.06));\n    d = min(d,d2);\n    p = prevP;\n\n    p*=Rot(radians(-45.));\n    p-=vec2(-0.23,-0.15);\n    d2 = B(p,vec2(0.02,0.22));\n    d = max(-d2,d);\n    p = prevP;\n\n    p = prevP;\n    return max(numMask(p),d);\n}\n\nfloat num1(vec2 p){\n    vec2 prevP = p;\n    float d = B(p-vec2(0.29,-0.29),vec2(0.06,0.18));\n    \n    p-=vec2(0.06,0.08);\n    p*=Rot(radians(-50.));\n    float d2 = B(p,vec2(0.06,0.6));\n    d2 = max(-B(p-vec2(0.04,0.05),vec2(0.005,0.3)),d2);\n    d = min(d,d2);\n    p = prevP;\n    \n    p-=vec2(0.1,0.25);\n    p*=Rot(radians(-50.));\n    d2 = B(p,vec2(0.06,0.45));\n    d2 = max(-B(p-vec2(0.04,-0.1),vec2(0.005,0.17)),d2);\n    d = min(d,d2);\n\n    p = prevP;\n    return max(numMask(p),d);\n}\n\nfloat num2(vec2 p){\n    vec2 prevP = p;\n    float d = B(p-vec2(0.11,0.29),vec2(0.24,0.06));\n    float a = radians(50.);\n    \n    p-=vec2(-0.3,0.15);\n    p*=Rot(radians(50.));\n    float d2 = B(p,vec2(0.06,0.3));\n    d2 = max(-B(p-vec2(0.04,0.05),vec2(0.005,0.1)),d2);\n    d = min(d,d2);\n    p = prevP;\n\n    p-=vec2(0.,0.0);\n    p*=Rot(radians(50.));\n    d2 = B(p,vec2(0.06,0.6));\n    d2 = max(-B(p-vec2(0.04,0.05),vec2(0.005,0.3)),d2);\n    d = min(d,d2);\n    p = prevP;\n\n    d2 = B(p-vec2(-0.11,-0.29),vec2(0.24,0.06));\n    d = min(d,d2);\n    p = prevP;\n    \n    p-=vec2(0.29,-0.15);\n    p*=Rot(radians(50.));\n    d2 = B(p,vec2(0.06,0.3));\n    d2 = max(-B(p-vec2(-0.04,-0.03),vec2(0.005,0.12)),d2);\n    d = min(d,d2);\n    \n    p = prevP;\n    return max(numMask(p),d);\n}\n\nfloat num3(vec2 p){\n    vec2 prevP = p;\n    float d = B(p-vec2(0.11,0.29),vec2(0.24,0.06));\n    \n    p-=vec2(-0.3,0.15);\n    p*=Rot(radians(50.));\n    float d2 = B(p,vec2(0.06,0.3));\n    d2 = max(-B(p-vec2(0.04,0.05),vec2(0.005,0.1)),d2);\n    d = min(d,d2);\n    p = prevP;\n\n    p-=vec2(0.18,0.153);\n    p*=Rot(radians(50.));\n    d2 = B(p,vec2(0.06,0.4));\n    d2 = max(-B(p-vec2(0.04,-0.1),vec2(0.005,0.25)),d2);\n    d = min(d,d2);\n    p = prevP;\n\n    d2 = B(p-vec2(-0.268,-0.09),vec2(0.18,0.06));\n    \n    d = min(d,d2);\n    p = prevP;\n    \n    p-=vec2(0.3,-0.15);\n    p*=Rot(radians(50.));\n    d2 = B(p,vec2(0.06,0.3));\n    d = min(d,d2);\n    p = prevP;\n    \n    d2 = B(p-vec2(-0.11,-0.29),vec2(0.24,0.06));\n    float a = radians(50.);\n    p.y+=0.52;\n    d2 = max(-dot(p,vec2(cos(a),sin(a))),d2);\n    d = min(d,d2);\n    p = prevP;\n    \n    d2 = B(p-vec2(0.29,0.06),vec2(0.06,0.2));\n    a = radians(-50.);\n    p.x-=0.16;\n    d2 = max(-dot(p,vec2(cos(a),sin(a))),d2);\n    d = min(d,d2);\n    \n    p = prevP;\n    return max(numMask(p),d);\n}\n\nfloat num4(vec2 p){\n    vec2 prevP = p;\n    float d = B(p-vec2(-0.22,-0.06),vec2(0.18,0.06));\n    \n    p-=vec2(-0.2,0.14);\n    p*=Rot(radians(50.));\n    float d2 = B(p,vec2(0.06,0.4));\n    d2 = max(-B(p-vec2(-0.04,0.1),vec2(0.005,0.1)),d2);\n    d = min(d,d2);\n    p = prevP;\n\n    p-=vec2(0.228,0.183);\n    p*=Rot(radians(50.));\n    d2 = B(p,vec2(0.06,0.4));\n    d2 = max(-B(p-vec2(0.04,-0.13),vec2(0.005,0.22)),d2);\n    d = min(d,d2);\n    p = prevP;\n    \n    d2 = B(p-vec2(-0.18,-0.29),vec2(0.18,0.06));\n    d = min(d,d2);\n    p = prevP;\n    \n    p-=vec2(0.119,-0.178);\n    p*=Rot(radians(50.));\n    d2 = B(p,vec2(0.06,0.4));\n    d = min(d,d2);\n    p = prevP;    \n    \n    d2 = B(p-vec2(0.29,-0.19),vec2(0.06,0.18));\n    d = min(d,d2);\n    \n    p = prevP;\n    return max(numMask(p),d);\n}\n\nfloat num5(vec2 p){\n    vec2 prevP = p;\n    float d = B(p-vec2(-0.05,0.29),vec2(0.29,0.06));\n    d = max(-B(p-vec2(0.05,0.25),vec2(0.15,0.005)),d);\n    \n    p-=vec2(0.29,0.24);\n    float d2 = B(p,vec2(0.06,0.12));\n    float a = radians(50.);\n    p.y+=0.06;\n    d2 = max(-dot(p,vec2(cos(a),sin(a))),d2);\n    d = min(d,d2);\n    p = prevP;\n\n    p-=vec2(0.,0.0);\n    p*=Rot(radians(-50.));\n    d2 = B(p,vec2(0.06,0.6));\n    d2 = max(-B(p-vec2(-0.04,0.05),vec2(0.005,0.2)),d2);\n    d = min(d,d2);\n    p = prevP;\n\n    d2 = B(p-vec2(0.11,-0.29),vec2(0.24,0.06));\n    d = min(d,d2);\n    p = prevP;\n    \n    p-=vec2(-0.29,-0.15);\n    p*=Rot(radians(-50.));\n    d2 = B(p,vec2(0.06,0.3));\n    d2 = max(-B(p-vec2(0.04,-0.05),vec2(0.005,0.1)),d2);\n    d = min(d,d2);\n    \n    p = prevP;\n    return max(numMask(p),d);\n}\n\nfloat num6(vec2 p){\n    vec2 prevP = p;\n    float d = B(p-vec2(0.18,0.0),vec2(0.185,0.06));\n    float a = radians(50.);\n    \n    p-=vec2(-0.06,0.15);\n    p*=Rot(radians(50.));\n    float d2 = B(p,vec2(0.06,0.5));\n    d2 = max(-B(p-vec2(-0.04,-0.05),vec2(0.005,0.25)),d2);\n    d = min(d,d2);\n    p = prevP;\n\n    p-=vec2(-0.198,-0.18);\n    p*=Rot(radians(50.));\n    d2 = B(p,vec2(0.06,0.303));\n    d2 = max(-B(p-vec2(-0.04,0.1),vec2(0.005,0.12)),d2);\n    d = min(d,d2);\n    p = prevP;\n\n    d2 = B(p-vec2(-0.18,-0.29),vec2(0.24,0.06));\n    d = min(d,d2);\n    p = prevP;\n    \n    p-=vec2(0.23,-0.15);\n    p*=Rot(radians(50.));\n    d2 = B(p,vec2(0.06,0.3));\n    d2 = max(-B(p-vec2(0.04,-0.05),vec2(0.005,0.1)),d2);\n    d = min(d,d2);\n    \n    p = prevP;\n    return max(numMask(p),d);\n}\n\nfloat num7(vec2 p){\n    vec2 prevP = p;\n    float d = B(p-vec2(0.11,0.29),vec2(0.24,0.06));\n    \n    p-=vec2(-0.3,0.15);\n    p*=Rot(radians(50.));\n    float d2 = B(p,vec2(0.06,0.3));\n    d = min(d,d2);\n    p = prevP;\n\n    p-=vec2(0.,0.0);\n    p*=Rot(radians(50.));\n    d2 = B(p,vec2(0.06,0.6));\n    d2 = max(-B(p-vec2(-0.04,-0.05),vec2(0.005,0.3)),d2);\n    d = min(d,d2);\n    p = prevP;\n\n    d2 = B(p-vec2(-0.17,-0.29),vec2(0.18,0.06));\n    float a = radians(-50.);\n    p.x-=0.24;\n    d2 = max(dot(p,vec2(cos(a),sin(a))),d2);\n    d = min(d,d2);\n    \n    p = prevP;\n    return max(numMask(p),d);\n}\n\nfloat num8(vec2 p){\n    vec2 prevP = p;\n    float d = B(p-vec2(0.11,0.29),vec2(0.24,0.06));\n    \n    p-=vec2(-0.3,0.15);\n    p*=Rot(radians(50.));\n    float d2 = B(p,vec2(0.06,0.3));\n    d = min(d,d2);\n    p = prevP;\n\n    p-=vec2(0.24,0.188);\n    p*=Rot(radians(50.));\n    d2 = B(p,vec2(0.06,0.3));\n    d2 = max(-B(p-vec2(-0.04,-0.12),vec2(0.005,0.1)),d2);\n    d = min(d,d2);\n    p = prevP;\n\n    d2 = B(p-vec2(-0.18,0.01),vec2(0.23,0.06));\n    d = min(d,d2);\n    p = prevP;\n    \n    p-=vec2(0.04,-0.178);\n    p*=Rot(radians(50.));\n    d2 = B(p,vec2(0.06,0.5));\n    d2 = max(-B(p-vec2(-0.04,0.15),vec2(0.005,0.2)),d2);\n    d = min(d,d2);\n    p = prevP;       \n    \n    d2 = B(p-vec2(0.14,-0.29),vec2(0.24,0.06));\n    d = min(d,d2);\n    \n    d2 = B(p-vec2(0.29,-0.23),vec2(0.06,0.24));\n    d = min(d,d2);\n    \n    p = prevP;\n    return max(numMask(p),d);\n}\n\nfloat num9(vec2 p){\n    vec2 prevP = p;\n    float d = B(p-vec2(0.11,0.29),vec2(0.24,0.06));\n    \n    p-=vec2(-0.3,0.15);\n    p*=Rot(radians(50.));\n    float d2 = B(p,vec2(0.06,0.3));\n    d = min(d,d2);\n    p = prevP;\n\n    p-=vec2(0.24,0.188);\n    p*=Rot(radians(50.));\n    d2 = B(p,vec2(0.06,0.3));\n    d2 = max(-B(p-vec2(-0.04,-0.12),vec2(0.005,0.1)),d2);\n    d = min(d,d2);\n    p = prevP;\n\n    d2 = B(p-vec2(-0.18,0.01),vec2(0.23,0.06));\n    d = min(d,d2);\n    p = prevP;\n    \n    p-=vec2(0.04,-0.178);\n    p*=Rot(radians(50.));\n    d2 = B(p,vec2(0.06,0.5));\n    d2 = max(-B(p-vec2(-0.04,0.08),vec2(0.005,0.2)),d2);\n    d = min(d,d2);\n    p = prevP;       \n    \n    p = prevP;\n    return max(numMask(p),d);\n}\n\n\nfloat drawFont(vec2 p, int char){\n    //p.x*=0.85;\n    //p.y*=1.1;\n    float d = num0(p)*checkChar(num_0,char);\n    d += num1(p)*checkChar(num_1,char);\n    d += num2(p)*checkChar(num_2,char);\n    d += num3(p)*checkChar(num_3,char);\n    d += num4(p)*checkChar(num_4,char);\n    d += num5(p)*checkChar(num_5,char);\n    d += num6(p)*checkChar(num_6,char);\n    d += num7(p)*checkChar(num_7,char);\n    d += num8(p)*checkChar(num_8,char);\n    d += num9(p)*checkChar(num_9,char);\n    \n    return d;\n}\n\nfloat drawNumber(vec2 p){\n    vec2 prevP = p;\n    p*=2.;\n    //p*=SkewX(radians(-30.));\n    float d = drawFont(p-vec2(-0.37,0.),int(mod(iTime*3.,10.)));\n    float d2 = drawFont(p-vec2(0.37,0.),int(mod(iTime*5.+3.,10.)));\n    d = min(d,d2);\n    \n    p = prevP;\n    \n    d2 = abs(B(p,vec2(0.4,0.22)))-0.005;\n    d2 = max(-(abs(p.x)-0.36),d2);\n    d2 = max(-(abs(p.y)-0.18),d2);\n    d = min(d,d2);\n    \n    return d;\n}\n\nfloat arrow(vec2 p){\n    float d = Tri(p,vec2(50.));\n    p-=vec2(0.,-25.);\n    \n    float d2 = Tri(p,vec2(50.));\n    d = max(-d2,d);\n    \n    return d;\n}\n\nfloat drawArrow(vec2 p){\n    p*=200.;\n    p.y-=iTime*20.;\n    p.y = mod(p.y,50.)-25.;\n    p.y-=25.;\n    float d = arrow(p);\n    d = updateDist(d,1.,1.);\n    \n    float mask = arrow(p);\n    d = max(mask,d);\n    float d2 = abs(arrow(p))-0.5;\n    d = min(d,d2);\n    return d;\n}\n\nfloat bgArrow(vec2 p){\n    vec2 prevP2 = p;\n    p.y+=0.06;\n    p.y-=iTime*0.1;\n    p.y = mod(p.y,0.12)-0.06;\n    vec2 prevP = p;\n    p.y-=0.05;\n    p.x*=1.5;\n    float d = Tri(p,vec2(0.012));\n    p = prevP;\n    float d2 = B(p,vec2(0.001,0.05));\n    d = min(d,d2);\n    \n    /*\n    p = prevP2;\n    d = max((abs(p.y)-0.05),d);\n    */\n    return d;\n}\n\nfloat drawBg(vec2 p){\n    vec2 prevP = p;\n    p.x = mod(p.x,0.24)-0.12;\n    p.y = mod(p.y,0.12)-0.06;\n    float d = bgArrow(p);\n    p = prevP;\n    p.x+=0.12;\n    p.x = mod(p.x,0.24)-0.12;\n    p.y = mod(p.y,0.12)-0.06;\n    p.y*=-1.;\n    float d2 = bgArrow(p);\n    d = min(d,d2);\n    p = prevP;\n    p.x = mod(p.x,0.12)-0.06;\n    p.y = mod(p.y,0.24)-0.12;\n    p*=Rot(radians(90.));\n    d2 = bgArrow(p);\n    d = min(d,d2);\n    \n    p = prevP;\n    p.y+=0.12;\n    p.x = mod(p.x,0.12)-0.06;\n    p.y = mod(p.y,0.24)-0.12;\n    p*=Rot(radians(-90.));\n    d2 = bgArrow(p);\n    d = min(d,d2);\n    \n    return d;\n}\n\nfloat drawItems(vec2 p){\n    vec2 prevP = p;\n    p.y-=iTime*0.2;\n    p.y = mod(p.y,0.2)-0.1;\n    p*=Rot(radians(45.));\n    float d = abs(B(p,vec2(0.02)))-0.003;\n    p = prevP;\n    \n    p.y+=0.1;\n    p.y-=iTime*0.2;\n    p.y = mod(p.y,0.2)-0.1;\n    \n    float d2 = min(B(p,vec2(0.003,0.02)),B(p,vec2(0.02,0.003)));\n    d = min(d,d2);\n    return d;\n}\n\nfloat mainVisual(vec2 p){\n    vec2 prevP = p;\n    p = PUV(p);\n    p*=0.47;\n    p.x-=iTime*0.1;\n    p = mod(p,0.5)-0.25;\n    p*=Rot(radians(90.));\n    p.x*=1.5;\n    \n    float d = drawArrow(p);\n    \n    p = prevP;\n    \n    p = DF(p,3.);\n    p = abs(p)-0.1;\n    p*=Rot(radians(45.));\n    float d2 = drawItems(p);\n    p = prevP;\n    d2 = max(-(abs(p.x)-0.05),d2);\n    p*=Rot(radians(60.));\n    d2 = max(-(abs(p.x)-0.05),d2);\n    p = prevP;\n    p*=Rot(radians(-60.));\n    d2 = max(-(abs(p.x)-0.05),d2);\n    d = min(d,d2);\n    \n    return d;\n}\n\nfloat uiItem0(vec2 p){\n    vec2 prevP = p;\n    float d = abs(B(p,vec2(0.05)))-0.003;\n    d = max(-(abs(p.x)-0.035),d);\n    d = max(-(abs(p.y)-0.035),d);\n    p*=Rot(radians(45.));\n    float d2 = min(B(p,vec2(0.003,0.04)),B(p,vec2(0.04,0.003)));\n    d = min(d,d2);\n    return d;\n}\n\nfloat drawUI(vec2 p){\n    vec2 prevP = p;\n    p.x+=0.6;\n    p.y+=0.36;\n    float d = uiItem0(p);\n    p.x = abs(p.x)-0.12;\n    float d2 = uiItem0(p);\n    d = min(d,d2);\n    \n    p = prevP;\n    \n    p.x-=0.6;\n    p.y-=0.36;\n    d2 = uiItem0(p);\n    d = min(d,d2);\n    p.x = abs(p.x)-0.12;\n    d2 = uiItem0(p);\n    d = min(d,d2);\n    \n    p = prevP;\n    \n    p.y = abs(p.y)-0.25;\n    p.y*=-1.;\n    d2 = Tri(p,vec2(0.02));\n    d = min(d,d2);\n    \n    return d;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord-0.5*iResolution.xy)/iResolution.y;\n    vec2 prevUV = uv;\n    vec3 col = vec3(0.0);\n    \n    float d = drawBg(uv);\n    /* // for debug\n    d = abs(B(uv,vec2(0.35)))-0.001;\n    col = mix(col,vec3(0.8,0.0,0.0),S(d,0.));\n    \n    uv = mod(uv,0.1)-0.05;\n    d = min(abs(uv.x)-0.001,abs(uv.y)-0.001);\n    col = mix(col,vec3(0.1),S(d,0.));\n    \n    uv = prevUV;\n    d = drawNumber(uv);\n    */\n\n    col = mix(col,vec3(0.3),S(d,0.));\n    \n    d = mainVisual(uv);\n    col = mix(col,vec3(0.5),S(d,0.));\n    \n    col*=length(uv)-0.1;\n    \n    d = drawNumber(uv);\n    col = mix(col,vec3(1.),S(d,0.));\n    \n    d = drawUI(uv);\n    col = mix(col,vec3(1.),S(d,0.));\n    \n    fragColor = vec4(sqrt(col),1.0);\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}