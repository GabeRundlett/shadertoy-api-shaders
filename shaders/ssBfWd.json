{
    "Shader": {
        "info": {
            "date": "1647363161",
            "description": "static flames",
            "flags": 0,
            "hasliked": 0,
            "id": "ssBfWd",
            "likes": 2,
            "name": "Copper Fires",
            "published": 3,
            "tags": [
                "raymarch",
                "fire",
                "polar"
            ],
            "usePreview": 0,
            "username": "lwswl",
            "viewed": 235
        },
        "renderpass": [
            {
                "code": "#define PI 3.141\n#define iTime abs(mod(iTime-2000.,4000.)-2000.)\nvec3 albedo=vec3(0.5);\nfloat pat(vec2 co){\n    co=vec2(length(co),6.*atan(co.y,co.x)/PI);\n    co.y+=sin(co.x*3.+iTime);\n    float o=abs(mod(co.y,1.)-0.5);\n    o=3.*o*o-2.*o*o*o;\n    return o;\n}\nfloat dist(vec3 p){\n    float ret= p.y+pat(p.xz)*0.5;\n    vec3 f=p;\n    f.xz=mod(f.xz-10.,20.)-10.;\n    f.x+=mod(round(p.z/20.),2.)*10.;\n    albedo.b+=0.003/length(f.xz);\n    ret*=clamp(dot(p.xz,p.xz)*0.2,0.04,0.7);\n    albedo+=vec3(0.6,0.2,0)*0.04*(1./dot(f,f)*0.8+0.8);\n    return ret;\n}\nvec3 N(vec3 p){\n    float e=0.001;\n    float d=dist(p);\n    return normalize(vec3(d-dist(vec3(p.x-e,p.yz)),d-dist(vec3(p.x,p.y-e,p.z)),d-dist(vec3(p.xy,p.z-e))));\n}\n#define rot(x) mat2(cos(x),sin(x),-sin(x),cos(x))\nvoid mainImage( out vec4 col, in vec2 co )\n{\n    col=vec4(0);\n    for(int I=0;I<4;I++){\n        vec2 uv=(co+vec2(I/2,I%2)*0.25)/iResolution.xy-0.5;\n        uv*=normalize(iResolution.xy);\n        vec3 o=vec3(0,0,12.+iTime);\n        vec3 d=normalize(vec3(uv,-1));\n        mat2 m2=rot(0.8+sin(iTime*0.1)*0.5);\n        o.yz*=m2;\n        d.yz*=m2;\n        float t=0.1;\n        float x=1.0;\n        vec3 att=vec3(1);\n        albedo=vec3(0.5);\n        float i=0.;\n        while(i<12.){\n            while(t<4000.&&x>0.001){\n                x=dist(o+d*t);\n                t+=x;\n\n            }\n            \n            if(t>4000.)break;\n            o=o+d*t;\n            d=reflect(d,N(o));\n            att*=albedo*(dot(d,vec3(0,1,0))*0.5+0.5);\n            //att-=t*0.03;\n            t=0.1;\n            x=1.0;\n            i++;\n        }\n\n\n\n        col.rgb+=clamp(att,0.,1.)*0.25;\n    }\n    //if(t<1000.)col.rgb+=N(o)*0.5+0.5;\n    //col/=2.;\n    col=sqrt(col);\n    \n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}