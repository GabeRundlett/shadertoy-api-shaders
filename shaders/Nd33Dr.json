{
    "Shader": {
        "info": {
            "date": "1629511062",
            "description": "Minimal HSLᵤᵥ implementation. Like HSL, but more uniform by L.",
            "flags": 0,
            "hasliked": 0,
            "id": "Nd33Dr",
            "likes": 3,
            "name": "HSLuv",
            "published": 3,
            "tags": [
                "color",
                "hsl",
                "hsluv"
            ],
            "usePreview": 0,
            "username": "miyaokamarina",
            "viewed": 259
        },
        "renderpass": [
            {
                "code": "#define PI2 6.283185307179586\n\nfloat hsluv_from_linear(float x) {\n    return x <= 0.003 ? 13.0 * x : 1.055 * pow(x, 0.416) - 0.055;\n}\n\nvec3 hsluv(float h, float s, float l) {\n    const float[6] N = float[6](\n        /* [1, 1] :: 632260 * M[2] - 126452 * M[1] */ -120846.0,\n        /* [1, 2] :: 284517 * M[0] -  94839 * M[2] */ 969398.0,\n        /* [2, 1] :: 632260 * M[5] - 126452 * M[4] */ -210946.0,\n        /* [2, 2] :: 284517 * M[3] -  94839 * M[5] */ -279707.0,\n        /* [3, 1] :: 632260 * M[8] - 126452 * M[7] */ 694074.0,\n        /* [3, 2] :: 284517 * M[6] -  94839 * M[8] */ -84414.0\n    );\n\n    float hsin = sin(h);\n    float hcos = cos(h);\n\n    float a = l + 16.0;\n    float r;\n    float g;\n    float b = a / 116.0;\n\n    float c;\n    float d;\n    float e = 769860.0 * l;\n\n    int i;\n\n    a = a * a * a / 1560896.0;  //   a is sub1\n    a = a > 0.01 ? a : l / 903.0; // a is sub2\n\n    h = 3.402823466e+38;          // h is cmax\n\n    for (; i < 6; ) {\n        r = N[i++] * a;\n        g = N[i++] * a * hcos;\n\n        c = e * a / (r * hsin - g); //                      c is length\n        h = c >= 0.0 ? min(h, c) : h; //                    h is cmax\n\n        c = e * (a - 1.0) / ((r + 126452.0) * hsin - g); // c is length\n        h = c >= 0.0 ? min(h, c) : h; //                    h is cmax\n    }\n\n    h = h / 100.0 * s / (13.0 * l); //       h is c / (13 * l)\n\n    s = hcos * h + 0.19783; //               s is varU\n    h = 1.0 / (hsin * h + 0.4683); //        h is 1 / varV\n\n    l = l <= 8.0 ? l / 903.0 : b * b * b; // l is y\n    s = 9.0 * l * h * s / 4.0; //            s is x\n    h = 3.0 * l * h - s / 3.0 - 5.0 * l; //  h is z\n\n    r = hsluv_from_linear(+3.2410 * s + -1.5373 * l + -0.4986 * h);\n    g = hsluv_from_linear(-0.9692 * s + +1.8760 * l + +0.0416 * h);\n    b = hsluv_from_linear(+0.0556 * s + -0.2040 * l + +1.0570 * h);\n\n    return vec3(r, g, b);\n}\n\n#define res iResolution\n\nvoid mainImage(out vec4 col, in vec2 pos) {\n    vec2 uv = pos / res.xy;\n\n    col = vec4(hsluv(uv.x * PI2, uv.y * 100.0, 50.0), 1);\n}\n",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}