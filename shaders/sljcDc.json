{
    "Shader": {
        "info": {
            "date": "1650367558",
            "description": "I have worked on making my Perlin noise interpolation better.\nMade a planet out of it",
            "flags": 0,
            "hasliked": 0,
            "id": "sljcDc",
            "likes": 2,
            "name": "Buitfull Planet",
            "published": 3,
            "tags": [
                "noise",
                "perlin",
                "rainbow",
                "colorfull"
            ],
            "usePreview": 0,
            "username": "MrNissenDK",
            "viewed": 239
        },
        "renderpass": [
            {
                "code": "float seed = 437585453.123;\nfloat PI = 3.141592653589793;\nfloat res = 5.;\n\n\nvec3  water         = vec3(        0. ,        0. ,        1.  );\n\nfloat sandLevel     = 0.5;\nvec3  sand          = vec3( 229./255. , 223./255. , 136./255.  );\n\n\nfloat grassLevel    = 0.53;\nvec3  grass         = vec3(   0./255. , 154./255. ,  23./255.  );\n\n\nfloat mountainLevel = 0.69;\nvec3  mountain      = vec3(         .7,         .7,         .7 );\n\n\nfloat snowLevel     = 0.79;\nvec3  snow          = vec3(        1. ,        1. ,        1.  );\n\n\nfloat hash21(vec2 p) \n{\n  p = mod(p, PI*20.);\n  float a = (mod(43758.5453123 + seed, 37562.) + 13548.);\n  float f = dot (p, vec2 (127.1, 351.7));\n  return fract(sin(f)*a);\n}\n\nvec2 hash2(vec2 p) \n{\n  p = mod(p, PI*20.);\n  float a = (mod(43758.5453123 + seed, 37562.) + 13548.);\n  p = vec2(dot (p, vec2 (127.1, 351.7)), dot(p, vec2(245.5, 304.4)));\n  return fract(sin(p)*a);\n}\n\nvec3 hash23(vec2 p) {\n  p = mod(p, PI*20.);\n  float a = (mod(43758.5453123 + seed, 37562.) + 13548.);\n  vec3 p3 = vec3(dot (p, vec2 (127.1, 351.7)), dot (p, vec2 (261.5, 183.3)), dot(p, vec2(245.5, 304.4)));\n  return fract(sin(p3)*a);\n}\n\nvec2 hash32(vec3 p) {\n  p = mod(p, PI*20.);\n  float a = (mod(43758.5453123 + seed, 37562.) + 13548.);\n  vec2 p2 = vec2(dot (p, vec3 (127.1, 351.7, 251.45)), dot (p, vec3 (261.5, 183.3, 376.89)));\n  return fract(sin(p2)*a);\n}\nfloat hash31(vec3 p) {\n  p = mod(p, PI*20.);\n  float a = (mod(43758.5453123 + seed, 37562.) + 13548.);\n  float f = dot (p, vec3 (127.1, 351.7, 251.45));\n  return fract(sin(f)*a);\n}\n\n\nfloat ease(float t)\n{\n  return t * t * t * (t * (t * 6. - 15.) + 10.);\n}\nvec2 ease(vec2 t)\n{\n  return vec2(ease(t.x), ease(t.y));\n}\nvec3 ease(vec3 t)\n{\n  return vec3(ease(t.x), ease(t.y), ease(t.z));\n}\nvec4 ease(vec4 t)\n{\n  return vec4(ease(t.x), ease(t.y), ease(t.z), ease(t.w));\n}\n\nfloat noise(vec2 point){\n    vec2 fr = ease(fract(point));\n    vec2 hi = ceil(point);\n    vec2 lo = floor(point);\n    \n    return mix(\n        mix(\n            hash21(lo), \n            hash21(vec2(hi.x , lo.y)), \n            fr.x\n        ), \n        mix(\n            hash21(vec2(lo.x , hi.y)),\n            hash21(hi),\n            fr.x\n        ), \n        fr.y\n    );\n}\n\nfloat noise(vec3 point){\n    vec3 fr = ease(fract(point));\n    vec3 hi = ceil(point);\n    vec3 lo = floor(point);\n    \n    return mix(\n        mix(\n            mix(\n                hash31(lo), \n                hash31(vec3(hi.x , lo.yz)), \n                fr.x\n            ), \n            mix(\n                hash31(vec3(lo.x , hi.y, lo.z)),\n                hash31(vec3(hi.xy, lo.z)),\n                fr.x\n            ), \n            fr.y\n        ),\n        mix(\n            mix(\n                hash31(vec3(lo.xy, hi.z)), \n                hash31(vec3(hi.x , lo.y, hi.z)), \n                fr.x\n            ), \n            mix(\n                hash31(vec3(lo.x , hi.yz)),\n                hash31(hi),\n                fr.x\n            ), \n            fr.y\n        ),\n        fr.z\n    );\n}\n\nfloat octal(vec3 uv, int octaves, float persistence)\n{\n    float total = 0.;\n    float frequency = 1.;\n    float amplitude = 1.;\n    float maxValue = 0.;\n    for(int i=0;i<octaves;i++) {\n        total += noise(uv * frequency) * amplitude;\n        \n        maxValue += amplitude;\n        \n        amplitude *= persistence;\n        frequency *= 2.;\n    }\n    return total/maxValue;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = ((fragCoord - .5 * iResolution.xy) / (iResolution.x/res));\n   \n    float radius = 1.;\n    vec2 R = iResolution.xy;\n    \n\t\n    float mag = dot(uv,uv);\n    if( mag > 1.0 ){\n    \tfragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n        return;\n    }\n    \n    \n    vec3 norm = vec3( uv, sqrt( 1.0 - mag ));\n    \n    float time = iTime;\n    float s = atan( norm.z, norm.x ) / (PI * 2.);\n    float t = asin( norm.y ) / PI;\n    float h = octal(\n        vec3(s * 5. +time, t * 5. + time * .075, 0. ),\n        8,\n        .5\n    );\n    vec3                   col = water;\n    if(h >     sandLevel ) col = sand;\n    if(h >    grassLevel ) col = grass;\n    if(h > mountainLevel ) col = mountain;\n    if(h >     snowLevel ) col = snow;\n    fragColor = vec4( vec3(col * h), 1. );\n    \n    \n    \n    vec3 lightDir = normalize( vec3( -1, -0.3, 1.0 ));\n    float mflight = max(dot( norm, lightDir), 0.0);\n    fragColor.rgb *= mflight;\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}