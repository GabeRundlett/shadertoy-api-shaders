{
    "Shader": {
        "info": {
            "date": "1655617063",
            "description": "Layered/fractal voronoi is cool :)\n\n[url=https://shadertube.web.app/shaders/view/?v=-N4uOrdTIu-ytsbWbvuU]Shader Source (by me)[/url]",
            "flags": 0,
            "hasliked": 0,
            "id": "7sGcDK",
            "likes": 7,
            "name": "Texture Oil Painting",
            "published": 3,
            "tags": [
                "voronoi",
                "noise",
                "oil",
                "paint",
                "polygon",
                "art",
                "oilpaint",
                "poly"
            ],
            "usePreview": 1,
            "username": "shyshokayu",
            "viewed": 699
        },
        "renderpass": [
            {
                "code": "#define imageResolution iResolution.xy\n#define imageAspectRatio (imageResolution.x / imageResolution.y)\n#define imageTime iTime\n\n// Hash functions from https://www.shadertoy.com/view/4djSRW\nvec2 random22(vec2 p) {\n    vec3 p3 = fract(vec3(p.xyx) * vec3(0.1031, 0.1030, 0.0973));\n    p3 += dot(p3, p3.yzx + 33.33);\n    return fract((p3.xx + p3.yz) * p3.zy);\n}\n\nvec2 random21(float p) {\n\tvec3 p3 = fract(vec3(p) * vec3(0.1031, 0.1030, 0.0973));\n\tp3 += dot(p3, p3.yzx + 33.33);\n    return fract((p3.xx + p3.yz) * p3.zy);\n}\n\nvec4 textureCustom(vec2 uv) {\n    return texture(iChannel0, uv) * step(abs(uv.x - 0.5), 0.5) * step(abs(uv.y - 0.5), 0.5);\n}\n\nvec3 voronoiPoint(vec2 uv, vec2 size) {\n    float d = 10.0;\n    vec2 p = vec2(0.0);\n    \n    uv *= size;\n\n    vec2 i = floor(uv);\n    vec2 f = uv - i;\n\n    for(int ix = -1; ix <= 1; ++ix) {\n        for(int iy = -1; iy <= 1; ++iy) {\n            vec2 np = vec2(float(ix), float(iy));\n            vec2 point = random22(i + np);\n            float sd = length(np + point - f);\n            \n            if(sd < d) {\n                d = sd;\n                p = i + np + point;\n            }\n        }\n    }\n    \n    return vec3(p / size, d);\n}\n\nvec4 mainImage(vec2 imageCoordinate) {\n    vec2 uv = (imageCoordinate / imageResolution) - 0.5;\n    uv *= vec2(max(1.0, imageAspectRatio), max(1.0, 1.0 / imageAspectRatio));\n    uv += 0.5;\n    \n    vec3 color = vec3(0.0);\n    \n    int iterations = int(floor(imageTime * 8.0)) % 64;\n    for(int i = 1; i <= iterations; ++i) {\n        float z = float(i);\n        vec2 offset = random21(z);\n        color += textureCustom(voronoiPoint(uv + offset, vec2(z)).xy - offset).xyz;\n    }\n    color /= max(1.0, float(iterations));\n\n    color = mix(vec3(0.15, 0.15, 0.15), color, step(abs(uv.x - 0.5), 0.5) * step(abs(uv.y - 0.5), 0.5));\n    \n    return vec4(color, 1.0);\n}\n\nvoid mainImage(out vec4 o, vec2 i) {\n    o = mainImage(i);\n}\n",
                "description": "",
                "inputs": [
                    {
                        "channel": 0,
                        "ctype": "texture",
                        "id": 7,
                        "published": 1,
                        "sampler": {
                            "filter": "linear",
                            "internal": "byte",
                            "srgb": "false",
                            "vflip": "true",
                            "wrap": "repeat"
                        },
                        "src": "/media/a/fb918796edc3d2221218db0811e240e72e340350008338b0c07a52bd353666a6.jpg"
                    }
                ],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}