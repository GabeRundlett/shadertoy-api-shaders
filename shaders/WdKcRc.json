{
    "Shader": {
        "info": {
            "date": "1603385356",
            "description": "I've recently been interested in codegolfing and decided to try it. Since I'm new to this, please tell me if I'm doing something incorrectly.",
            "flags": 0,
            "hasliked": 0,
            "id": "WdKcRc",
            "likes": 2,
            "name": "Spherical View Challenge",
            "published": 3,
            "tags": [
                "spherical",
                "challenge",
                "360",
                "codegolf"
            ],
            "usePreview": 0,
            "username": "oneshade",
            "viewed": 164
        },
        "renderpass": [
            {
                "code": "/*And another 5 chars (now 245 chars)*/\nvoid mainImage(out vec4 o, vec2 u)                                                   \\\n{\n    vec4 A = vec4(0,11,33,0), d, i=A-A,\n         r = cos( A + (u / iResolution.xy * vec2(2,1)*3.14 ).xyxy );\n    mat2 t = mat2( cos( A -iTime ) );\n    r.xz *= t *r.w; r.yz *= t;\n    for ( o = r ; o.w++ < 9.; i -= d.x )\n        d = max( d = max( d = abs(r*i), .39 - max( d , d.zxyw ) ),\n                 max( d.y, d.z ) ) -.2,\n        d.x < .002 ? o++ : o;\n}\n\n/**/\n\n/*And another 8 chars (now 250 chars)*\n#define mainImage(o,u)                                                    \\\n    vec4 A = vec4(0,11,33,0), d, i=A-A,                                   \\\n         r = cos( A.xyyx + (u / iResolution.xy * vec2(2,1)*3.14 ).xyxy ); \\\n    mat2 t = mat2( cos(iTime + A) );                                      \\\n    r.xz *= t *r.w; r.yz *= t;                                            \\\n    for ( o = r ; o.w++ < 9.; i -= d.x )                                  \\\n        d = max( d = max( d = abs(r*i), .39 - max( d , d.zxyw ) ),        \\\n                 max( d.y, d.z ) ) -.2,                                   \\\n        d.x < .002 ? o++ : o\n**/\n\n/*And another 18 chars (now 258 chars)*\n#define mainImage(o,u)                                                     \\\n    vec4 A = vec4(0,11,33,0), p,v,d, m, i=A-A,                             \\\n         r = cos( A.xyyx + (u / iResolution.xy * vec2(2,1)*3.14 ).xyxy );  \\\n    mat2 t = mat2( cos(iTime + A) );                                       \\\n    r.xz *= t *r.w; r.yz *= t;                                             \\\n    for (o = r ; o.w++ < 9.; i -= d.x )                                    \\\n        d = max( m = max( p = abs( r * i ), v = .39 - max( p , p.zxyw ) ), \\\n                 max(m.y,m.z ) ) -.2,                                      \\\n        d.x < .002 ? o++ : o\n**/\n\n/*And another 4 chars (now 272 chars)*\n#define mainImage(o,u)                                          \\\n    vec4 A = vec4(0,11,33,0), p,v,d, i=A-A,                     \\\n         r = cos( A.xyyx + (u / iResolution.xy * vec2(2,1)*3.14 ).xyxy);  \\\n    mat2 t = mat2( cos(iTime + A) );                            \\\n    r.xz *= t *r.w; r.yz *= t;                                  \\\n    for (o = r ; o.w++ < 9.; i -= d.x )                         \\\n        d = max(  max( v = .39 - max( p = abs(r*i) , p.zxyw ),  \\\n                          max( v.y, v.z ) ),                    \\\n                  max( p, max( p.y, p.z ) ) ) -.2,              \\\n        d.x < .002 ? o++ : o\n**/        \n\n/*Fabrice drops 3 more chars (now 276 chars)*\n#define mainImage(o,u)                                          \\\n    vec4 A = vec4(0,11,33,0), p,v,d, i=A-A,                     \\\n         r = cos( A.xyyx + (u / iResolution.xy).xyxy * vec4(2,1,2,1)*3.14 );  \\\n    mat2 t = mat2( cos(iTime + A) );                            \\\n    r.xz *= t *r.w; r.yz *= t;                                  \\\n    for (o = r ; o.w++ < 9.; i -= d.x )                         \\\n        d = max(  max( v = .39 - max( p = abs(r*i) , p.zxyw ),  \\\n                          max( v.y, v.z ) ),                    \\\n                  max( p, max( p.y, p.z ) ) ) -.2,              \\\n        d.x < .002 ? o++ : o\n**/\n\n/*Fabrice reaches the 2tweet milestone (279 chars)*\n#define mainImage(o,u)                                      \\\n    vec2 U = u / iResolution.xy * vec2(2,1)*3.14;           \\\n    vec4 A = vec4(0, 11, 33, 0), p,v,d, i=A-A,              \\\n         r = cos(U.xyxy+A.xyyx );                           \\\n    mat2 t = mat2( cos(iTime + A) );                        \\\n    r.xz *= t *r.w; r.yz *= t;                              \\\n    for (o = r ; o.w++ < 9.; i -= d.x )                     \\\n        d = max(  max( v = .39 - max( p = abs(r*i) , p.zxyw ),  \\\n                          max( v.y, v.z ) ),                \\\n                  max( p, max( p.y, p.z ) ) ) -.2,          \\\n        d.x < .002 ? o++ : o\n**/\n\n/*I tweaked the parameters and dropped 1 char (now 298 chars)*\n#define mainImage(o,u)                                      \\\n    vec2 U = u / iResolution.xy * vec2(2,1)*3.14,           \\\n         c = cos(U), s = sin(U);                            \\\n    vec4 r = vec4(c.x * c.y, s.y, s.x * c.y, 0), p, v, d;   \\\n    mat2 t = mat2( cos(iTime + vec4(0, 11, 33, 0)) );       \\\n    r.xz *= t; r.yz *= t;                                   \\\n    for (o = r ; o.w++ < 9.; r.w -= d.x )                   \\\n        v = .39 - max( p = abs( r * r.w ) , p.zxyw ),       \\\n        d = max(  max( p, max( p.y, p.z ) ),                \\\n                  max( v, max( v.y, v.z ) ) ) -.2,          \\\n        d.x < .002 ? o++ : o\n**/\n\n/*And yet another 1 char (now 299 chars)*\n#define mainImage(o,u)                                      \\\n    vec2 U = u / iResolution.xy * vec2(2,1)*3.14,           \\\n         c = cos(U), s = sin(U);                            \\\n    vec4 r = vec4(c.x * c.y, s.y, s.x * c.y, 0), p, v, d;   \\\n    mat2 t = mat2( cos(iTime + vec4(0, 11, 33, 0)) );       \\\n    r.xz *= t; r.yz *= t;                                   \\\n    for (o = r ; o.w++ < 99.; r.w -= d.x )                  \\\n        v = .39 - max( p = abs( r * r.w ) , p.zxyw ),       \\\n        d = max(  max( p, max( p.y, p.z ) ),                \\\n                  max( v, max( v.y, v.z ) ) ) -.2,          \\\n        d.x < .001 ? o++ : o\n**/\n\n/*And another 13 chars (now 300 chars)*\n#define mainImage(o,u)                                      \\\n    vec2 U = u / iResolution.xy * vec2(2,1)*3.14,           \\\n         c = cos(U), s = sin(U);                            \\\n    vec4 r = vec4(c.x * c.y, s.y, s.x * c.y, 0), p, v, d;   \\\n    mat2 t = mat2( cos(iTime + vec4(0, 11, 33, 0)) );       \\\n    r.xz *= t; r.yz *= t;                                   \\\n    for (o = r ; o.w++ < 99.; r.w -= d.x )                  \\\n        v = -max( p = abs( r * r.w ) , p.zxyw ),            \\\n        d = max(  max( p, max( p.y, p.z ) ) -.2,            \\\n                  max( v, max( v.y, v.z ) ) +.19 ),         \\\n        d.x < .001 ? o++ : o\n**/\n\n/*And another 19 chars (now 313 chars)*\nvoid mainImage(out vec4 o, vec2 u) {\n    vec2 U = u / iResolution.xy * vec2(2,1)*3.14,\n         c = cos(U), s = sin(U); \n    vec4 r = vec4(c.x * c.y, s.y, s.x * c.y, 0), p, V, d;\n//  vec4 A = cos( vec4(U,U+11.)),\n//       r = vec4(A.x * A.y, A.w, A.z * A.y, 0); \n    mat2 t = mat2( cos(iTime + vec4(0, 11, 33, 0)) ); \n    r.xz *= t; r.yz *= t; \n \n    for (o = r ; o.w++ < 99.; r.w -= d.x )\n        V = max( p = abs( r * r.w ) , p.zxyw ),\n        d = max(  max( p, max( p.y, p.z ) ) -.2,\n                 -min( V, min( V.y, V.z ) ) +.19 ), \n        d.x < .001 ? o++ : o;  \n}\n**/\n\n/*And another 24 chars (now 332 chars)*\nvoid mainImage(out vec4 o, vec2 u) {\n    vec2 U = u / iResolution.xy * vec2(2,1)*3.14,\n         c = cos(U), s = sin(U); \n    vec4 r = vec4(c.x * c.y, s.y, s.x * c.y, 0);\n//  vec4 A = cos( vec4(U,U+11.)),\n//       r = vec4(A.x * A.y, A.w, A.z * A.y, 0); \n    mat2 t = mat2( cos(iTime + vec4(0, 11, 33, 0)) ); \n    r.xz *= t; r.yz *= t; \n    o = r;\n\n    for (int i=0; i++ < 99; ) {\n        vec3  p = abs( r.xyz * r.w ),\n              V = max( p.zxy ,p );\n        float d = max( max( p.x, max( p.y, p.z ) ) -.2,\n                      -min( V.y, min( V.z, V.x ) ) +.19\n                     ); \n        if (d < .001)  o++;   \n        r.w -= d;  \n    }\n}\n**/\n\n/*Fabrice drops 35 chars (now 356 chars)*\nvoid mainImage(out vec4 o, vec2 u) {\n    vec2 U = u / iResolution.xy * vec2(2,1)*3.14, \n         c = cos(U), s = sin(U); \n    vec4 r = vec4(c.x * c.y, s.y, s.x * c.y, 0); \n    mat2 t = mat2( cos(iTime + vec4(0, 11, 33, 0)) ); \n    r.xz *= t; r.yz *= t; \n    o = r;\n\n    for (int i=0; i++ < 99; i) {\n        vec3  p = abs( r.xyz * r.w ), \n              a = p - .2,\n              b = p - .19;\n        float d = max( max( a.x, max(a.y, a.z) ),\n                      -min( max(b.x, b.y), min(max(b.y, b.z), max(b.z, b.x)))\n                   ); \n        if (d < .001)  o++;   \n        r.w -= d;  \n    }\n}\n**/\n\n/*initial version (391 chars)*\n#define g(a, b) max(a, b)\n\nvoid mainImage(out vec4 o, vec2 u) {\n    vec2 U = (u / iResolution.xy) * vec2(6.28, 3.14), c = cos(U), s = sin(U); // calculate stuff for 360 view\n    vec4 r = vec4(c.x * c.y, s.y, s.x * c.y, 0); // initialize ray\n    mat2 t = mat2(u = sin(iTime + vec2(1.6, 0.0)), -u.y, u.x); // rotation trick from Fabrice's one cube challenge\n    r.xz *= t; r.yz *= t; // double rotation\n    vec3 a, b, p;\n    o = r;\n\n    for (int i=0; i < 99; i++) {\n        p = r.xyz * r.w; // current raymarch position\n        a = abs(p) - .2; b = abs(p) - .19;\n        float d = g(g(a.x, g(a.y, a.z)), -min(g(b.x, b.y), min(g(b.y, b.z), g(b.z, b.x)))); // rather ugly usage of booleans\n        if (d < .001) { o++; } { r.w -= d; } // check for hit. if none then step along the ray\n    }\n}\n**/",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}