{
    "Shader": {
        "info": {
            "date": "1715466547",
            "description": "arms are movin'",
            "flags": 0,
            "hasliked": 0,
            "id": "4fVSRV",
            "likes": 3,
            "name": "just walkin'",
            "published": 3,
            "tags": [
                "sdf",
                "person"
            ],
            "usePreview": 0,
            "username": "rubix",
            "viewed": 107
        },
        "renderpass": [
            {
                "code": "#define t iTime\n#define TAU 6.2831853071795\nmat2 r2d(float a){ float c=cos(a),s=sin(a); return mat2(c,s,-s,c);}\nvec3 gay(float a) { return 0.5 + 0.5*cos(a+vec3(0,2,4)); }\n\nfloat sphere(vec3 p, float r) { return length(p) - r; }\nfloat capsule(vec3 p, float s, float r) { p=abs(p); p.x-=clamp(p.x, 0., s/2.); return length(p)-r;}\n\nint which;\nfloat dmin(float a, float b, int aa, int bb) { which = a < b ? aa : bb; return min(a,b); }\n\nfloat map(vec3 p) {\n    p.xz *= r2d(t);\n    p.xy *= r2d(t);\n    p.yz *= r2d(t);\n\n    which=0;\n    float dd=1000.,d;\n    vec3 pp=p;\n    { // torso\n        p -= vec3(.0,.35-.05,.0);\n        p.xy *= r2d(TAU/4.);\n        d=capsule(p, .5, .1);\n    }\n    dd=dmin(dd, d, which, 2); p=pp;\n    { // arm\n        p -= vec3(0.,.35,0.);\n        p.xz *= r2d(15.*sin(t)*sin(t)*sin(t));\n        d=capsule(p, .7, .1);\n    }\n    dd=dmin(dd, d, which, 2); p=pp;\n    { // head\n        p -= vec3(0.,2.*.35,.0);\n        d=sphere(p,.2);\n    }\n    dd=dmin(dd, d, which, 1); p=pp;\n    { // leg\n        p.yz *= r2d(sin(t*10.)*.5);\n        p -= vec3(-.1,-.35+.05,.0);\n        p.xy *= r2d(TAU/4.);\n        d=capsule(p, .5, .1);\n    }\n    dd=dmin(dd, d, which, 3); p=pp;\n    { // leg\n        p.yz *= r2d(sin(t*10. + TAU/2.)*.5);\n        p -= vec3(.1,-.35+.05,.0);\n        p.xy *= r2d(TAU/4.);\n        d=capsule(p, .5, .1);\n    }\n    dd=dmin(dd, d, which, 3); p=pp;\n    { // hair\n        p -= vec3(0.,2.*.35+.1,.0);\n        d=sphere(p, .2);\n    }\n    dd=dmin(dd, d, which, 4); p=pp;\n    { // eyes\n        p -= vec3(.06, 2.*.35, -.19);\n        d=sphere(p, .01);\n        p=pp;\n        p -= vec3(-.06, 2.*.35, -.19);\n        d=min(d,sphere(p, .01));\n    }\n    dd=dmin(dd, d, which, 4); p=pp;\n    { // nose\n        p -= vec3(.0, 2.*.35-0.05, -.18);\n        d=sphere(p, .02);\n    }\n    dd=dmin(dd, d, which, 5); p=pp;\n    { // mouth\n        p -= vec3(.0, 2.*.35-0.1, -.18);\n        p.xy *= r2d(p.x*5.);\n        d=capsule(p,.07, .01);\n    }\n    dd=dmin(dd, d, which, 4); p=pp;\n    \n    return dd;\n}\n\nvec3 norm(vec3 p) {\n    vec2 e=vec2(0.0001, 0.);\n    return normalize(vec3(\n        map(p+e.xyy)-map(p-e.xyy),\n        map(p+e.yxy)-map(p-e.yxy),\n        map(p+e.yyx)-map(p-e.yyx)\n    ));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord-.5*iResolution.xy)/iResolution.x;\n    vec3 col = vec3(.0,.1,.4);\n    vec3 ro = vec3(0.,0.1,-3.6), rd = normalize(vec3(uv,1.)), p = ro;\n    p*=(1.+0.3*sin(t*4.));\n    for(int i = 0; i<50; i++) {\n        float d = map(p);\n        if (d > 50.)break;\n        if (d < .001) {\n            int w = which;\n            vec3 n = norm(p);\n            vec3 ldir=normalize(vec3(cos(t), sin(t)-1.9, 4.));\n            \n            float diff = clamp(dot(-ldir,n), 0., 1.);\n            float spec = pow(clamp(dot(-normalize(ldir + rd), n), 0., 1.), 200.);\n            col =\n                w == 1 ? vec3(1.,.5,.3) :\n                w == 2 ? vec3(.5,.3, 1.) :\n                w == 3 ? vec3(.3, 1., .5) :\n                w == 4 ? vec3(.1, .01, .0) :\n                w == 5 ? vec3(1.,0.,0.) :\n                w == 6 ? vec3(.2,.9,.0) :\n                vec3(1.);\n            col = diff*col + vec3(spec);\n            break;\n        }\n        p+=rd*d;\n    }\n    fragColor = vec4(sqrt(col),1.0);\n}\n",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}