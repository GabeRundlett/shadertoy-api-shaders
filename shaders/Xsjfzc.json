{
    "Shader": {
        "info": {
            "date": "1501503399",
            "description": "A word of context: it is not meant as a misplaced \"F you\", which I couldn't even express. This relates instead to Manson's article https://markmanson.net/not-giving-a-fuck and further discussions I had with one of my best friends.",
            "flags": 0,
            "hasliked": 0,
            "id": "Xsjfzc",
            "likes": 2,
            "name": "Daily 2017-07-31",
            "published": 3,
            "tags": [
                "daily"
            ],
            "usePreview": 0,
            "username": "Koltes",
            "viewed": 530
        },
        "renderpass": [
            {
                "code": "// Inspired by https://youtu.be/uMVk2aO_Stw\n\nstruct M{float d;vec3 c;float fg;};\n    M mmin(M a,M b){\n        float k=.1,\n            h=clamp(.5+.5*(b.d-a.d)/k,0.,1.);\n        float d=mix(b.d,a.d,h)-k*h*(1.-h);\n        vec3 c=mix(b.c,a.c,h);\n        float fg=mix(b.fg,a.fg,h);\n        return M(d,c,fg);\n    }\n\n// Char lookup adapted from FabriceNeyret2's https://www.shadertoy.com/view/ltcXzs + iq's sdBox\nM char(vec2 p, int C) {\n    vec2 d = abs(p - .5) - .4;\n    float dl = max(\n        textureGrad( iChannel0, p/16. + fract( vec2(C, 15-C/16) / 16. ) , \n                       dFdx(p/16.),dFdy(p/16.) ).w - .58,\n        min(max(d.x,d.y),0.0) + length(max(d,0.0))\n        );\n    vec3 c=mix(vec3(0.), vec3(1.), smoothstep(-.02, 0., dl+.03));\n    return M(dl,c,1.);\n}\n\nfloat C,S;\n#define rot(a) mat2(C=cos(a),S=sin(a),-S,C)\n\nvec3 cam(vec3 p) {\n    p.xy*=rot(sin(iTime*.3)*.5);\n    p.xz*=rot(iTime*.5);\n    return p;\n}\n\nM map(vec3 p) {\n    p.y+=sin(iTime*.2)*.5;\n    float a=atan(p.z,p.x),l=length(p.xz);\n    \n    vec2 q=p.xy;\n    q.x*=-sign(p.z);\n    q.y+=.5;\n    M mletters=mmin(\n        mmin(\n            char(q+vec2(1.3,0.), 70),\n            char(q+vec2(.75,0.), 85)\n        ),\n        mmin(\n            char(q+vec2(0.25,0.), 67),\n            char(q+vec2(-.25,0.), 75)\n        )\n    );\n    mletters.d=max(mletters.d,abs(abs(p.z)-.3)-.1);\n    \n    float d=max(l-.02,abs(p.y-1.)-.8);\n    M mtige=M(d,vec3(.2),1.);\n    vec3 dst=abs(p)-vec3(.7,.2,.3);\n    d=min(max(dst.x,max(dst.y,dst.z)),0.0) + length(max(dst,0.0));\n    M mbox=M(d,vec3(.8),1.);\n    d=max(l-1.5,abs(p.y-1.)-.01);\n    M mcir1=M(d,vec3(mix(.2,.8,.5+.5*sin(a*10.+iTime*50.+.5*sin(l*50.)))),.5);\n    d=max(l-1.5,abs(p.y-1.7)-.01);\n    M mcir2=M(d,vec3(mix(.2,.8,.5+.5*sin(5.+a*10.-iTime*50.+.5*sin(l*50.)))),.5);\n    M m=mmin(mletters,mbox);\n    m=mmin(m,mtige);\n    m=mmin(m,mcir1);\n    m=mmin(m,mcir2);\n    return m;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = ( fragCoord - .5* iResolution.xy ) / iResolution.y;\n    vec3 ro = cam(vec3(uv, -5.)),\n        rd = cam(normalize(vec3(uv, 1.))),\n        mp = ro;\n    M m;\n    float f; for(f = 0.; f < 30.; ++f) {\n        m = map(mp);\n        if (abs(m.d)<.001) break;\n        mp += rd * m.d;\n    }\n    float isfg = smoothstep(20., 15., distance(mp, ro))*m.fg;\n    vec3 fgc = m.c;\n    fgc *= max(1. - f/30., 0.);\n    fgc = sqrt(fgc);\n    vec3 bgc = texture(iChannel1, rd).rgb;\n\tfragColor = vec4(mix(bgc, fgc, isfg), 1.);\n}",
                "description": "",
                "inputs": [
                    {
                        "channel": 1,
                        "ctype": "cubemap",
                        "id": 22,
                        "published": 1,
                        "sampler": {
                            "filter": "mipmap",
                            "internal": "byte",
                            "srgb": "false",
                            "vflip": "false",
                            "wrap": "repeat"
                        },
                        "src": "/media/a/585f9546c092f53ded45332b343144396c0b2d70d9965f585ebc172080d8aa58.jpg"
                    },
                    {
                        "channel": 0,
                        "ctype": "texture",
                        "id": 49,
                        "published": 1,
                        "sampler": {
                            "filter": "mipmap",
                            "internal": "byte",
                            "srgb": "false",
                            "vflip": "true",
                            "wrap": "repeat"
                        },
                        "src": "/media/a/08b42b43ae9d3c0605da11d0eac86618ea888e62cdd9518ee8b9097488b31560.png"
                    }
                ],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}