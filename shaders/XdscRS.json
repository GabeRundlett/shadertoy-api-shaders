{
    "Shader": {
        "info": {
            "date": "1488723782",
            "description": "a simple example for 1d perlin noise.",
            "flags": 0,
            "hasliked": 0,
            "id": "XdscRS",
            "likes": 10,
            "name": "1d perlin noise",
            "published": 3,
            "tags": [
                "noise",
                "perlinnoise",
                "1d",
                "1dperlinnoise"
            ],
            "usePreview": 0,
            "username": "qu1795",
            "viewed": 980
        },
        "renderpass": [
            {
                "code": "float hash(float i)\n{\n    //%in 1d, return a slope\n\tfloat h = i * 127.1;\n\tfloat p = -1. + 2. * fract(sin(h) * 43758.1453123);\n    return p;//sin(p*6.283 + iTime);\n}\nfloat perlin_noise_1d(float d)\n{\n    float i = floor(d);\n    float f = d - i;\n\n    //%interpolation\n    //float y = 6.0 * pow(f, 5.0) - 15.0 * pow(f, 4.0) + 10.0 * pow(f, 3.0);\n    float y = f*f*f* (6. * f*f - 15. * f + 10.);\n\n    float slope1 = hash(i);\n    float slope2 = hash(i + 1.0);\n    float v1 = f;\n    float v2 = f - 1.0;\n\n    float r = mix(slope1 * v1, slope2 * v2, y);\n    r = r * 0.5 + 0.5; //%map to range 0 ~ 1\n    return r;\n}\nfloat perlin_noise_1d_sum(float x)\n{\n    const float persistence = 0.4;\n    const float frequence = 1.0;\n    float amp = persistence,\n        \tfreq = frequence;\n    float total = 0.0;\n\tfor(int i = 0; i < 5; ++i)\n    {\n    \ttotal += perlin_noise_1d(x * freq) * amp;\n        \n        amp *= persistence;\n        freq *= 2.0;\n    }\n    \n    return total;\n}\nvoid mainImage(out vec4 fragColor,  in vec2 fragCoord)\n{\n    float noiseY = perlin_noise_1d(iTime + fragCoord.x * 0.01);\n    float cy = noiseY - fragCoord.y / iResolution.y;\n    cy = smoothstep(0.0, 1.0 / iResolution.y, cy); //for AA purpose\n    fragColor = mix(vec4(1.0), vec4(0.0), 1.0 - cy);\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}