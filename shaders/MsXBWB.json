{
    "Shader": {
        "info": {
            "date": "1497820958",
            "description": "Daily",
            "flags": 0,
            "hasliked": 0,
            "id": "MsXBWB",
            "likes": 15,
            "name": "Daily 2017-06-18",
            "published": 3,
            "tags": [
                "daily"
            ],
            "usePreview": 0,
            "username": "Koltes",
            "viewed": 521
        },
        "renderpass": [
            {
                "code": "float C,S;\n#define rot(a) mat2(C=cos(a),S=sin(a),-S,C)\n#define hash(x) fract(sin(x)*1e4)\n\nfloat rd(vec2 p){\n    return hash(dot(p,vec2(13.,78.)));\n                }\n\nfloat noise(vec2 p){\n    vec2 f=smoothstep(0.,1.,fract(p)),i=floor(p),oi=vec2(0.,1.);\n    return mix(\n        mix(rd(i+oi.xx),rd(i+oi.yx),f.x),\n                mix(rd(i+oi),rd(i+oi.yy),f.x),\nf.y);\n}\n\nstruct M{float d,l;};\n\n    \nvec3 ht(vec2 st, vec3 a, vec3 b, float t) {\n    vec2 ist=floor(st),fst=fract(st),wp=ist+step(.5,fst),bp=ist+vec2(.5);\n    float wl=length(st-wp),bl=length(st-bp);\n    return mix(b,a,smoothstep(t-.1,t+.1,bl/(wl+bl)));\n}\n\nM map(vec3 p) {\n    M m;\n    vec2 n=floor((p.xy+2.)/4.);\n    float rdn=rd(n)*10.;\n \tp.xy=mod(p.xy+2.,4.)-2.;\n    m.d= length(p)-1.;\n    vec3 q=p;\n    q.xy*=rot(iTime*.3+rdn);\n    q.yz*=rot(iTime*.5+rdn);\n    q.xy*=rot(iTime*.7+rdn);\n    q.yz*=rot(iTime*.2+rdn);\n    m.l=fract(q.z*1.5+iTime*rdn*.02);\n    return m;\n}\n\nvec3 norm(vec3 p) {\n    vec2 e=vec2(.001,0.);\n    return normalize(vec3(\n        map(p+e.xyy).d-map(p-e.xyy).d,\n        map(p+e.yxy).d-map(p-e.yxy).d,\n        map(p+e.yyx).d-map(p-e.yxx).d));\n                     }\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy,v=uv*(1.-uv);\n    uv-=.5;\n    uv.x*=iResolution.x/iResolution.y;\n    vec3 ro=vec3(vec2(iTime+cos(iTime*2.+sin(iTime)),sin(iTime*.6)),-4.+sin(iTime)),rd=normalize(vec3(uv,1.)),mp=ro;\n    rd.xy*=rot(iTime*.4);\n    M m;\n    float f;for(f=0.;f<30.;++f){\n        m=map(mp);\n        if(abs(m.d)<.001)break;\n        mp+=rd*m.d;\n    }\n    float fr=f/30.;\n    vec3 n=norm(mp);\n    float htr=step(length(mp-ro),30.);\n    float hr=-dot(rd,n);\n    hr=mix(hr,1.,step(.6,m.l));\n    hr=mix(hr,0.,step(.8,m.l));\n    vec3 h=ht(uv*40.*rot(iTime),vec3(.9,.5,.3)*1.,vec3(.3,.5,.7)*.4,hr);\n    uv*=rot(sin(iTime*.6+sin(iTime*2.)*.2)*.2);\n    uv.x+=sin(iTime*.02)*20.;\n    uv.y+=sin(iTime*.03)*30.;\n    float ns=fract(noise(uv*.8)*5.);\n    vec3 bg=mix(vec3(.3,.5,.7)*.4,vec3(.9,.5,.3)*1.,smoothstep(0.,.01,ns)-smoothstep(.2,.21,ns));\n    vec3 c=mix(bg,h,htr);\n    c=sqrt(c)*pow(v.x*v.y*25.,.25);\n\tfragColor = vec4(c,1.0);\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}