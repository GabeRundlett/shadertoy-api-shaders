{
    "Shader": {
        "info": {
            "date": "1601064703",
            "description": "transform of a circle trough Joukowsky transform gives an airfoil.\nMouse: move center. grey = radius.\ncf [url]https://www.desmos.com/calculator/nrq1ecest1?lang=fr[/url]\n",
            "flags": 0,
            "hasliked": 0,
            "id": "wdtyDM",
            "likes": 14,
            "name": "Joukowsky inv transform: airfoil",
            "published": 3,
            "tags": [
                "complex",
                "transform",
                "airfoil",
                "joukowsky"
            ],
            "usePreview": 0,
            "username": "FabriceNeyret2",
            "viewed": 421
        },
        "renderpass": [
            {
                "code": "// inverse of https://shadertoy.com/view/tsdyWM\n\n// complex ops: https://shadertoyunofficial.wordpress.com/2019/01/02/programming-tricks-in-shadertoy-glsl/\n#define CS(a)        vec2( cos(a), sin(a) )\n#define cart2pol(U)  vec2( length(U), atan((U).y,(U).x) )\n#define pol2cart(U) ( (U).x * CS( (U).y ) )\n#define cmod(Z)     length(Z)\n#define carg(Z)     atan( (Z).y, (Z).x )\n#define cmul(A,B) ( mat2( A, -(A).y, (A).x ) * (B) )  // by deMoivre formula\n#define cinv(Z)   ( vec2( (Z).x, -(Z).y ) / dot(Z,Z) ) \n#define cpow(Z,v)   pol2cart( vec2( pow(cmod(Z),v) , (v) * carg(Z) ) )\n//#define cpow(A,B)   cexp( cmul( B, clog(A) ) )\n#define cexp(Z)     pol2cart( vec2( exp((Z).x), (Z).y ) )\n#define clog(Z)     vec2( log(cmod(Z)), carg(Z) )\n\n#define sat(x) clamp(x,0.,1.)\n\nvoid mainImage( out vec4 O, vec2 u )\n{\n    vec2 R = iResolution.xy,\n         U = 3.*( 2.*u - R ) / R.y,\n         M = iMouse.xy==vec2(0) ? vec2(-.1,.7)\n           : ( 2.*iMouse.xy - R ) / R.y,\n         V1 = .5*( U + cpow( cmul(U,U) - 4., .5) ),    // zÂ² - Z.z + 1 = 0 (  Z = z + 1/z )\n         V2 = U-V1;           \n    O = texture(iChannel0,.5+.5*V1);                     // texture\n  //M = mod(floor(V1)+4.,8.)-4.;\n    for( float r = 3.; r > 0.; r-=.5)\n    O = mix(O, vec4(r/3.),   sat(1.-R.y/4.*(length(M-V1)-r)) \n                           * sat(1.-R.y/4.*(length(M-V2)-r)) );\n    V1 += .1*iTime; V2 += .1*iTime;\n    V1 = abs(fract(V1)-.5) / fwidth(V1);                   // grid\n    V2 = abs(fract(V2)-.5) / fwidth(V2);                   // second grid\n    O = mix(O, vec4(1, 0,0,1), max(0.,1.-min(V1.x,V1.y)) );\n    O = mix(O, vec4(0,.8,0,1), max(0.,1.-min(V2.x,V2.y)) );\n}\n",
                "description": "",
                "inputs": [
                    {
                        "channel": 0,
                        "ctype": "texture",
                        "id": 5,
                        "published": 1,
                        "sampler": {
                            "filter": "mipmap",
                            "internal": "byte",
                            "srgb": "false",
                            "vflip": "true",
                            "wrap": "repeat"
                        },
                        "src": "/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg"
                    }
                ],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}