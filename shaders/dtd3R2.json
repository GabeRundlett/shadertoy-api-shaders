{
    "Shader": {
        "info": {
            "date": "1682778337",
            "description": "The horizontal brownish bars remains the same across different backgrounds, we can clearly see how the background influence our perception of the 2 bar colors.",
            "flags": 0,
            "hasliked": 0,
            "id": "dtd3R2",
            "likes": 4,
            "name": "Color Study - Plate VII-5b",
            "published": 3,
            "tags": [
                "interactionofcolor"
            ],
            "usePreview": 0,
            "username": "Slals",
            "viewed": 145
        },
        "renderpass": [
            {
                "code": "float rectSDF(vec2 st, vec2 s) {\n    st = st * 2.0 - 1.0;\n    return max(abs(st.x / s.x), abs(st.y / s.y));\n}\n\nfloat fill(float x, float s) {\n    return step(x, s);\n}\n\nvec2 rot(vec2 uv, float a) {\n    uv = mat2(cos(a), -sin(a), sin(a), cos(a)) * (uv - 0.5);\n    return uv + 0.5;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n    \n    vec3 colorA = vec3(0.757, 0.106, 0.263);\n    vec3 colorB = vec3(0.988, 0.929, 0.808);\n    vec3 colorStudA = vec3(0.741, 0.498, 0.259);\n    vec3 colorStudB = vec3(0.91, 0.831, 0.553);\n    \n    vec3 color = vec3(0.0);\n    \n    bool isRightSide = step(0.5, uv.x) == 1.0;\n    \n    vec2 s = vec2(0.08, 1.0);\n    \n    float sideOffset = 0.25;\n    \n    float MX = iMouse.x / iResolution.x, MY = iMouse.y / iResolution.y;\n    \n    if (step(0.2, uv.y) == 0.0) {\n        // Comp B\n        color = isRightSide ? colorStudA : colorStudB;\n    } else if (step(0.4, uv.y) == 0.0) {\n        // Comp A\n        color = isRightSide ? colorA : colorB;\n    } else {\n        // Main study\n        float vertOffset = 0.2;\n        \n        float studBarLeft = rectSDF(rot(uv + vec2(sideOffset, -vertOffset), radians(-45.0 - min(MY * 55.0, 45.0))), s);\n        float studBarRight = rectSDF(rot(uv - vec2(sideOffset, vertOffset), radians(-45.0 - min(MY * 55.0, 45.0))), s);\n        \n        color = isRightSide ? colorB : colorA;\n        \n        float bL = smoothstep(studBarLeft - 0.01, studBarLeft + 0.01, 0.5);\n        float bR = smoothstep(studBarRight - 0.01, studBarRight + 0.01, 0.5);\n        color = mix(color, colorStudA, bL);\n        color = mix(color, colorStudB, bR);\n    }\n    \n    float movVertOffset = 0.5 - MY * 0.85;\n        \n    float movStudBarLeft = fill(rectSDF(rot(uv + vec2(sideOffset, movVertOffset), radians(90.0)), s), 0.5);\n    float movStudBarRight = fill(rectSDF(rot(uv - vec2(sideOffset, -movVertOffset), radians(90.0)), s), 0.5);\n    \n    color = movStudBarLeft == 1.0 ? colorStudA : color;\n    color = movStudBarRight == 1.0 ? colorStudB : color;\n\n    // Output to screen\n    fragColor = vec4(color,1.0);\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}