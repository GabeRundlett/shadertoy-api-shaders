{
    "Shader": {
        "info": {
            "date": "1578287065",
            "description": "pulsing stars in outer space",
            "flags": 0,
            "hasliked": 0,
            "id": "3lKGR1",
            "likes": 2,
            "name": "Pulsing Stars",
            "published": 3,
            "tags": [
                "space",
                "stars"
            ],
            "usePreview": 0,
            "username": "atsn",
            "viewed": 390
        },
        "renderpass": [
            {
                "code": "float rand21(vec2 uv){\n    vec2 t = fract(vec2(uv.x*236.73,uv.y*678.47));\n    float u = dot(uv*(t+143.66),t);\n    return fract(t.x*u*345.87 + 365.22+t.y*u*475.57);\n}\nfloat rand21p(vec2 uv){\n    vec2 p = floor(uv);\n    vec2 fr = fract(uv);\n    \n    float grad = (\n        rand21(p+vec2(0.,0.)) * (1.-fr.x) * (1.-fr.y) + \n        rand21(p+vec2(1.,0.)) * (fr.x) * (1.-fr.y) +\n        rand21(p+vec2(0.,1.)) * (1.-fr.x) * (fr.y) +\n        rand21(p+vec2(1.,1.)) * (fr.x) * (fr.y)\n    );\n    return grad;\n}\nfloat perlin(vec2 uv, float layers){\n    float ret = 0.;\n    for(float i=0.;i<layers;i++){\n        ret += rand21p(uv*pow(2.,i)) / layers;\n    }\n    return ret;\n}\nfloat splatter(float time, vec2 uv){\n    float n0 = perlin(uv+rand21(uv*dot(uv,vec2(time))),9.);\n    return smoothstep(0.5,0.55,n0);\n}\nfloat ease(float time, vec2 uv){\n    float cur = splatter(floor(time),uv);\n    float next = splatter(floor(time)+1.,uv);\n    float f = fract(time);\n    return (1.-f)*cur + f*next;\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord-.5/iResolution.xy)/iResolution.y;\n    \n   \tfloat stars = pow(rand21(uv),200.) * (ease(iTime*2.,uv)*.7+.3);\n    \n    float atmo = pow(smoothstep(4.,3.5,length(uv-vec2(.9,-3.6))),2.);\n    vec3 atmo_col = vec3(.5,.5,1.);\n    \n    vec3 col = vec3(stars);\n    col = max(atmo_col*atmo,stars);\n\n    \n    fragColor = vec4(col,1.0);\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}