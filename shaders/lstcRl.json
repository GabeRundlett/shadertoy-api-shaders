{
    "Shader": {
        "info": {
            "date": "1519867375",
            "description": "beer + snow",
            "flags": 0,
            "hasliked": 0,
            "id": "lstcRl",
            "likes": 8,
            "name": "Beer + Snow",
            "published": 3,
            "tags": [
                "beer"
            ],
            "usePreview": 0,
            "username": "Del",
            "viewed": 973
        },
        "renderpass": [
            {
                "code": "// as if by magic... snow + beer\n// Del 01/03/2018\n\nfloat Bub(vec2 uv,float scale)\n{\n    float time = iTime*0.75;\n    uv.y-=time*2./scale;\n    uv.x+=sin(uv.y+time*.95)*0.025;\t///scale;\n\tuv*=scale;\n    vec2 s=floor(uv);\n    vec2 f=fract(uv);\n    float k=3.0;\n\tvec2 p =.5+.35*sin(11.*fract(sin((s+scale)*mat2(7.0,3.0,6.0,5.0))*5.))-f;\n    float d=length(p);\n    d-= sin(f.y+time)*0.005;\n    k=min(d,k);\n\tk=smoothstep(0.0,k,sin(f.x+f.y)*0.01);\n   \treturn k;\n}\n\nvec3 Bubbles(vec2 uv,float head)\n{\n\tfloat c = Bub(uv,30.)*.3;\n\tc+=Bub(uv,20.)*.5;\n\tc+=Bub(uv,15.)*.8;\n\tc+=Bub(uv,10.);\n\tc+=Bub(uv,8.);\n\tc+=Bub(uv,6.);\n\tc+=Bub(uv,5.);\n    c = clamp(c,0.0,1.0);\n    \n    vec3 background = vec3(0.75,0.65,0.2);\n    \n    head*=2.0;\n    head = clamp(head,-0.2,1.0);\n    background = mix(background,vec3(1.0),head);\n    \n    float bub_brightness = 1.6;\n    \n    vec3 scol = background * bub_brightness; //vec3(1.0,1.0,1.0);\n    scol = mix(background,scol,c);\n    scol = clamp(scol,0.0,1.0);\n    return scol;\n}\n\n\n//snow original -> http://glslsandbox.com/e#36547.1\nfloat snow(vec2 uv,float scale)\n{\n    float time = iTime*0.75;\n\tuv+=time/scale;\n    uv.y+=time*2./scale;\n    uv.x+=sin(uv.y+time*.5)/scale;\n\tuv*=scale;\n    vec2 s=floor(uv);\n    vec2 f=fract(uv);\n    float k=3.0;\n\tvec2 p =.5+.35*sin(11.*fract(sin((s+scale)*mat2(7.0,3.0,6.0,5.0))*5.))-f;\n    float d=length(p);\n    k=min(d,k);\n\tk=smoothstep(0.,k,sin(f.x+f.y)*0.01);\n   \treturn k;\n}\n\n\nvec3 _Snow(vec2 uv,vec3 background)\n{\n\tfloat c = snow(uv,30.)*.3;\n\tc+=snow(uv,20.)*.5;\n\tc+=snow(uv,15.)*.8;\n\tc+=snow(uv,10.);\n\tc+=snow(uv,8.);\n\tc+=snow(uv,6.);\n\tc+=snow(uv,5.);\n    c = clamp(c,0.0,1.0);\n    vec3 scol = vec3(1.0,1.0,1.0);\n    scol = mix(background,scol,c);\n\treturn scol;\n}\n\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = (2.*fragCoord.xy - iResolution.xy)/ iResolution.y;\n\n    vec2 uv1 = uv+vec2(0.0,1.0);\n    float d = 0.25+length(uv1)*0.4;\n    vec3 col = vec3(0.3,0.2,0.25)*d*d;\n    col = _Snow(uv1*0.5,col); \n    \n    uv.y -= 1.0;\n    float scale = 2.9-uv.y;\n    if (scale<3.5)\n        scale=3.5;\n    \n    uv.x *= scale*0.55;\n    float c = abs(uv.x);\t\t// dirty shading bodge...\n    if (c-0.5 < 0.5 && uv.y <-0.5)\n    {\n\t\tuv.x = acos(uv.x)/3.14159;\n        c = acos(c);\n        float head = 0.9+(uv.y);\n        float headmod = 0.5+sin(uv.x*11.0 + iTime)*0.5;\n        head+=headmod*0.1;\n        float c2 = smoothstep(0.0,1.0,c);\n        col = Bubbles(uv*2.0, head)*(c2+0.4);\n    }\n    fragColor =vec4(col,1.0);\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}