{
    "Shader": {
        "info": {
            "date": "1703756127",
            "description": "based on: https://www.shadertoy.com/view/XsjyRy",
            "flags": 0,
            "hasliked": 0,
            "id": "4c2GRz",
            "likes": 1,
            "name": "fake line light ",
            "published": 3,
            "tags": [
                "linelight"
            ],
            "usePreview": 0,
            "username": "kristemmerman",
            "viewed": 188
        },
        "renderpass": [
            {
                "code": "//based on\n//https://www.shadertoy.com/view/XsjyRy\n\n\nconst float bidpScale = 0.2;\n\n\n\nvec3 acestonemap( vec3 color){\n    mat3 m1 = mat3(\n    0.59719, 0.07600, 0.02840,\n    0.35458, 0.90834, 0.13383,\n    0.04823, 0.01566, 0.83777\n    );\n    mat3 m2 = mat3(\n    1.60475, -0.10208, -0.00327,\n    -0.53108,  1.10813, -0.07276,\n    -0.07367, -0.00605,  1.07602\n    );\n    vec3 v = m1 * color;\n    vec3 a = v * (v + 0.0245786) - 0.000090537;\n    vec3 b = v * (0.983729 * v + 0.4329510) + 0.238081;\n    return clamp(m2 * (a / b), 0.0, 1.0);\n}\n\nvec3 getLight( vec2 pos, vec2 line0, vec2 line1,vec3 lightColor,float lightStrength )\n{\n\tvec2 dir = normalize( line1 - line0 );\n\tvec2 rt = vec2(-dir.y,dir.x);\n\tfloat tp0 = dot( rt, line0 );\n\tfloat tpx = dot( rt, pos );\n\tfloat bidp = mix( 1.0, dot( normalize( line0 - pos ), normalize( line1 - pos ) ), bidpScale );\n\tfloat distf = clamp( (tp0 - tpx)  , 0.0, 1.0 );\n\treturn pow((1.0-bidp)*distf*5.0,4.0)*lightStrength*lightColor;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec3 bg = vec3(0.4,0.4,0.9);\n\tvec3 color = getLight( fragCoord, vec2(480,300), vec2(480,20) ,vec3(1.0,0.1,0.1),1.0)* bg;\n\tcolor +=  getLight( fragCoord, vec2(30,200), vec2(300,200) ,vec3(0.1,1.0,0.1),1.0)* bg;\n    color +=  getLight( fragCoord, vec2(400,400),vec2(40,40)  ,vec3(0.0,0.0,1.0),1.0)* bg;\n     color+= bg*0.3; //global light\n\tfragColor = vec4(acestonemap(color),1);\n    \n}\n",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}