{
    "Shader": {
        "info": {
            "date": "1634117317",
            "description": "[url]https://inktober.com/[/url]\n#inktober2021 themes: [img]https://i.imgur.com/QjhAdpd.png[/img]\nLate, so 3 in 1 : Fab11,12,13   :-p\n( apparently \"sour\" also means \"spinning\" ).\nMouse controls camera",
            "flags": 0,
            "hasliked": 0,
            "id": "sddSWf",
            "likes": 15,
            "name": "#inktober2021 \"sour,stuck,roof\"",
            "published": 3,
            "tags": [
                "raymarching",
                "swirl",
                "water",
                "flood",
                "house",
                "short",
                "stuck",
                "roof",
                "inktober2021",
                "sour"
            ],
            "usePreview": 0,
            "username": "FabriceNeyret2",
            "viewed": 343
        },
        "renderpass": [
            {
                "code": "\n#define rot(a)  mat2(cos(a+vec4(0,11,33,0)))                          // rotation                  \n\nvoid mainImage(out vec4 O, vec2 U)\n{\n    float t=9.,l, r, h;                                               // hit object id \n    vec3  R = iResolution,\n          D = normalize(vec3(U+U, -3.5*R.y) - R),                     // ray direction\n          p = 9./R, q, c, a,                                          // marching point along ray \n          M = iMouse.z > 0. ? iMouse.xyz/R -.5: vec3(20,8,0)/1e2*cos(.3*iTime+vec3(0,11,0)); // auto thumbnail\n     \n    for (O=vec4(1); O.x > 0. && t > .01; O-=.01)\n        q = p,\n        q.yz *= rot(.5-6.*M.y),                                       // rotations\n        q.xz *= rot(2.-6.*M.x), a = abs(q),\n        t = max(a.y, max(a.x,a.z)) - 1.,                              // house body\n        t = max( t, -( max(a.y+.5, max(a.x,a.z)) - .95) ),            // hollow\n        t = max( t, - ( max(a.z-2., max(a.x,a.y)-.3) ) ),             // door\n        t = max( t, - ( max(a.x-2., max(abs(a.z-.4)-.25,abs(q.y-.15)-.2)) ) ), // windows\n        t = max(t, r = -(-.7*abs(q.x)-1.4*q.y+2.3 - 1.) ),            // roof\n        t = min(t, max( max(abs(q.y-.8)-.3, max(a.x,abs(q.z+.8))-.1 ),// chimney\n                      - max(    a.y-2.,     max(a.x,abs(q.z+.8))-.08) )),\n        t = min(t, l = q.y),                                          // water\n        q -= vec3(.8,.55,.8),\n        h = length((q-vec3(-.08,.14,0))/vec3(1,2,1))-.05,             // character\n        h = min(h, length(q-vec3(-.08,.29,0))-.03 ),                  //    body, head\n        h = min(h,  length(vec3(-.7*q.x-1.4*q.y,.15*(1.4*q.x-.7*q.y),abs(abs(q.z)-.04)))-.02 ), // legs\n        c = q - vec3(-.08,.22,0),  c.z = abs(c.z), c.yz *= rot(.6),   //    arms\n        q += vec3(.8,.55,.8),\n        h = min(h, length(vec3(c.xy, .15*c.z)) -.02 ),\n        t = min(t, h),\n        \n        p += .5*t*D;                                                  // step forward = dist to obj\n        \n    // color scheme & textures\n      t==l ? O *= vec4(0,.5,1,1) * (.3+.7*(1.-texture(iChannel0,q.xz*rot(length(q.xz)-iTime)).r)) // water\n    : t==r ? O *= vec4(1,.4,0,1) * (.5+.5*abs(sin(35.*q.z)))          // root\n    : t==h ? O-=O\n    :        O *= .3+.7*texture(iChannel1, 1.5*(a.x<a.z?q.xy:q.zy));  // walls\n}",
                "description": "",
                "inputs": [
                    {
                        "channel": 1,
                        "ctype": "texture",
                        "id": 1,
                        "published": 1,
                        "sampler": {
                            "filter": "mipmap",
                            "internal": "byte",
                            "srgb": "false",
                            "vflip": "true",
                            "wrap": "repeat"
                        },
                        "src": "/media/a/10eb4fe0ac8a7dc348a2cc282ca5df1759ab8bf680117e4047728100969e7b43.jpg"
                    },
                    {
                        "channel": 0,
                        "ctype": "texture",
                        "id": 47,
                        "published": 1,
                        "sampler": {
                            "filter": "mipmap",
                            "internal": "byte",
                            "srgb": "false",
                            "vflip": "true",
                            "wrap": "repeat"
                        },
                        "src": "/media/a/ad56fba948dfba9ae698198c109e71f118a54d209c0ea50d77ea546abad89c57.png"
                    }
                ],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}