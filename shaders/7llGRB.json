{
    "Shader": {
        "info": {
            "date": "1622363495",
            "description": "scary face from one of the One Piece animation scenes.",
            "flags": 0,
            "hasliked": 0,
            "id": "7llGRB",
            "likes": 5,
            "name": "scary face",
            "published": 3,
            "tags": [
                "scary"
            ],
            "usePreview": 0,
            "username": "yasuo",
            "viewed": 384
        },
        "renderpass": [
            {
                "code": "#define Rot(a) mat2(cos(a),-sin(a),sin(a),cos(a))\n#define antialiasing(n) n/min(iResolution.y,iResolution.x)\n#define S(d,b) smoothstep(antialiasing(1.0),b,d)\n\nfloat noise(float x) {\n    return fract(sin(dot(vec2(x), vec2(12.9898, 78.233)))* 43758.5453);\n}\n\n// https://iquilezles.org/articles/distfunctions2d\nfloat sdSegment( in vec2 p, in vec2 a, in vec2 b )\n{\n    vec2 pa = p-a, ba = b-a;\n    float h = clamp( dot(pa,ba)/dot(ba,ba), 0.0, 1.0 );\n    return length( pa - ba*h );\n}\n\nfloat faceParts(vec2 p) {\n    p.x = abs(p.x);\n    \n    float R = 0.015;\n    vec2 prevP = p;\n    \n    p*=Rot(radians(sin(iTime*60.0)*0.3));\n    p.y+=sin(sin(-iTime*50.0)*0.01);\n    p.x+=sin(p.y*0.1*iTime)*0.01*sin(iTime*53.0)*0.3;\n    float d = sdSegment(p,vec2(0.0,-0.1),vec2(0.0,0.1))-R;\n    p = prevP;\n    \n    p-=vec2(0.03,0.00);\n    p*=Rot(radians(sin(iTime*40.0)*5.15));\n    p.y+=sin(sin(iTime*69.0)*0.009);\n    p.x+=sin(p.y*0.1*iTime)*0.01*-sin(iTime*50.0)*0.3;\n    float d2 = sdSegment(p,vec2(0.0,-0.1),vec2(0.0,0.1))-R;\n    d = min(d,d2);\n    p = prevP;\n    \n    p-=vec2(0.06,0.01);\n    p*=Rot(radians(sin(iTime*50.0)*3.2));\n    p.y+=sin(sin(iTime*68.0)*0.005);\n    p.x+=sin(p.y*0.1*iTime)*0.01*sin(iTime*51.0)*0.3;\n    d2 = sdSegment(p,vec2(0.0,-0.095),vec2(0.0,0.095))-R;\n    d = min(d,d2);\n    p = prevP;\n    \n    p-=vec2(0.09,0.02);\n    p*=Rot(radians(sin(iTime*60.0)*2.22));\n    p.y+=sin(sin(iTime*60.0)*0.008);\n    p.x+=sin(p.y*0.1*iTime)*0.01*-sin(iTime*50.0)*0.3;\n    d2 = sdSegment(p,vec2(0.0,-0.095),vec2(0.0,0.095))-R;\n    d = min(d,d2);\n    p = prevP;\n    \n    p-=vec2(0.12,0.03);\n    p*=Rot(radians(sin(iTime*70.0)*6.23));\n    p.y+=sin(sin(iTime*66.0)*0.006);\n    p.x+=sin(p.y*0.1*iTime)*0.01*sin(iTime*56.0)*0.3;\n    d2 = sdSegment(p,vec2(0.0,-0.0925),vec2(0.0,0.0925))-R;\n    d = min(d,d2);\n    p = prevP;\n    \n    p-=vec2(0.15,0.04);\n    p*=Rot(radians(sin(iTime*80.0)*4.24));\n    p.y+=sin(sin(iTime*65.0)*0.005);\n    p.x+=sin(p.y*0.1*iTime)*0.01*sin(iTime*60.0)*0.3;\n    d2 = sdSegment(p,vec2(0.0,-0.09),vec2(0.0,0.09))-R;\n    \n    d = min(d,d2);\n    p = prevP;\n    \n    p-=vec2(0.18,0.06);\n    p*=Rot(radians(sin(iTime*70.0)*3.25));\n    p.y+=sin(sin(iTime*85.0)*0.008);\n    p.x+=sin(p.y*0.1*iTime)*0.01*-sin(iTime*45.0)*0.3;\n    d2 = sdSegment(p,vec2(0.0,-0.085),vec2(0.0,0.085))-R;\n    d = min(d,d2);\n    p = prevP;\n    \n    p-=vec2(0.21,0.08);\n    p*=Rot(radians(sin(iTime*30.0)*2.3));\n    p.y+=sin(sin(iTime*86.0)*0.006);\n    p.x+=sin(p.y*0.1*iTime)*0.01*sin(iTime*52.0)*0.3;\n    d2 = sdSegment(p,vec2(0.0,-0.08),vec2(0.0,0.08))-R;\n    d = min(d,d2);\n    p = prevP;\n    \n    p-=vec2(0.24,0.11);\n    p*=Rot(radians(sin(iTime*50.0)*5.35));\n    p.y+=sin(sin(iTime*60.0)*0.009);\n    p.x+=sin(p.y*0.1*iTime)*0.01*-sin(iTime*50.0)*0.3;\n    d2 = sdSegment(p,vec2(0.0,-0.075),vec2(0.0,0.075))-R;\n    d = min(d,d2);\n    p = prevP;\n    \n    p-=vec2(0.27,0.15);\n    p*=Rot(radians(sin(iTime*70.0)*7.4));\n    p.y+=sin(sin(iTime*80.0)*0.007);\n    p.x+=sin(p.y*0.1*iTime)*0.01*sin(iTime*53.0)*0.3;\n    d2 = sdSegment(p,vec2(0.0,-0.065),vec2(0.0,0.065))-R;\n    d = min(d,d2);\n    p = prevP;\n    \n    p-=vec2(0.3,0.19);\n    p*=Rot(radians(sin(iTime*70.0)*6.45));\n    p.y+=sin(sin(iTime*65.0)*0.01);\n    p.x+=sin(p.y*0.1*iTime)*0.01*-sin(iTime*54.0)*0.3;\n    d2 = sdSegment(p,vec2(0.0,-0.05),vec2(0.0,0.05))-R;\n    d = min(d,d2);\n    p = prevP;\n    \n    p-=vec2(0.33,0.23);\n    p*=Rot(radians(sin(iTime*70.0)*10.55));\n    p.y+=sin(sin(iTime*60.0)*0.006);\n    p.x+=sin(p.y*0.1*iTime)*0.01*sin(iTime*55.0)*0.3;\n    d2 = sdSegment(p,vec2(0.0,-0.035),vec2(0.0,0.035))-R;\n    d = min(d,d2);\n\n    return d;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord-0.5*iResolution.xy)/iResolution.y;\n    vec2 prevUV = uv;\n    vec3 col = vec3(0.0);\n    \n    /*\n    uv.x+=sin(uv.y*0.1*iTime)*0.01*sin(iTime*50.0)*0.3;\n    float d = sdSegment(uv,vec2(0.0,-0.1),vec2(0.0,0.1))-0.015;\n    col = mix(col,vec3(1.0),S(d,0.0));\n    */\n    \n    uv.x*=0.8;\n    uv.y*=1.1;\n    uv.y+=0.3;\n    float d = faceParts(uv);\n    col = mix(col,vec3(1.0),S(d,0.0));\n    \n    uv = prevUV;\n    uv*=2.0;\n    uv.x = abs(uv.x);\n    uv.x-=0.6;\n    uv.y-=0.65;\n    uv*=Rot(radians(180.0));\n    d = faceParts(uv);\n    col = mix(col,vec3(1.0),S(d,0.0));\n    \n    uv = prevUV;\n  \n    fragColor = vec4(col,1.0)*(noise(uv.x*uv.y*iTime*0.1))*5.0;\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}