{
    "Shader": {
        "info": {
            "date": "1530150988",
            "description": "Mouse left click will stop rotation\n\ncolored version of [url]https://www.shadertoy.com/view/XdGBWy[/url]\nyoutube layers - [url]https://youtu.be/q00V55R6oGM[/url]",
            "flags": 0,
            "hasliked": 0,
            "id": "4dGBWy",
            "likes": 11,
            "name": "2d obj (space ship form)",
            "published": 3,
            "tags": [
                "sdfart"
            ],
            "usePreview": 0,
            "username": "morimea",
            "viewed": 896
        },
        "renderpass": [
            {
                "code": "// License - CC0 or use as you wish\n\n//using\n//https://www.shadertoy.com/view/Xllcz7\n//https://www.shadertoy.com/view/ldfGWH\n\n#define SS(x, y, z) smoothstep(x, y, z)\n#define S(U, v)       SS(-(2.0*fwidth(U.x))/1.0, (2.0*fwidth(U.x))/1.0, v)\n#define C(U,P,r)   S ( U, r - length(U-(P)) )\n#define CC(U,P,r,t) (1.-S(U,abs(r - length(U-(P))) - t))\n#define MD(a) mat2(cos(a), -sin(a), sin(a), cos(a))\n\n\n//colors\n\n//black\n#define m0 vec3(.23921) \n//red\n#define m1 vec3(.82352,.35294,.34901) \n//blue\n#define m2 vec3(.41176,.53333,.78431)\n//pink\n#define m3 vec3(.78431,.49411,.70196)\n//green\n#define m4 vec3(.19607,.79215,.56078)\n\nfloat model_hline1(vec2 uv){\n    float n;\n    n=S(uv,uv.y- .22);\n    return n;\n}\n\nfloat model_hline2(vec2 uv){\n    float n;\n    n=S(uv,uv.y+ .4);\n    return n;\n}\n\nfloat model_hline3(vec2 uv){\n    float n;\n    n=S(uv,uv.y- .23);\n    return n;\n}\n\nfloat model_top(float hline,vec2 uv){\n    float n;\n    n=C(uv, vec2(.0, .08), .38);\n    return n*hline;\n}\n\nfloat model_bot(float hline,vec2 uv){\n    float n;\n    uv.x=abs(uv.x);\n    n=S(uv,-uv.x * 1.2 + uv.y* .2 + .105) ;\n    n=max(n*(1.-hline),n*C(uv, vec2(-.35, -.038), .55));\n    n=min(n,model_hline2(uv));\n    return n;\n}\n\nfloat model_decor_c1(float ll1,vec2 uv){\n\tfloat n;\n    uv.x=abs(uv.x);\n    n=CC(uv, vec2(.0, .49), .06,0.001);\n    n=n*ll1;\n    return n;\n}\n\nfloat model_decor_c2(vec2 uv){\n\tfloat n;\n    n=CC(uv, vec2(.0, .49), .073,0.008);\n    return n;\n}\n\nfloat model_decor_c3(float hline,float h3,float ll1,vec2 uv){\n\tfloat n;\n    uv.x=abs(uv.x);\n    n=CC(uv, vec2(-.06, .209), .20,0.001);\n    n=n*ll1*hline*h3;\n    return n;\n}\n\nfloat model_decor_c31(vec2 uv){\n\tfloat n;\n    uv.x=abs(uv.x);\n    n=1.-C(uv, vec2(.0, .49), .06);\n    return n;\n}\n\nfloat model_decor_c32(vec2 uv){\n\tfloat n;\n    uv.x=abs(uv.x);\n    n=1.-C(uv, vec2(-.06, .209), .20);\n    return n;\n}\n\n\nfloat model_decor_ll1(float hline,vec2 uv){\n\tfloat n;\n    uv.x=abs(uv.x);\n    n=S(uv,uv.x- .005);\n    return n;\n}\n\nfloat model_decor_l1(float hline,float ll1,float c1,float c2,vec2 uv){\n\tfloat n;\n    uv.x=abs(uv.x);\n    n=(1.-S(uv,abs(uv.x-0.005)- .001))*c1*c2*hline;\n    return n;\n}\n\nfloat model_decor_l2(float h3,vec2 uv){\n\tfloat n;\n    n=(1.-S(uv,abs(uv.x+0.21)- .006));\n    n+=(1.-S(uv,abs(uv.x+0.18)- .002));\n    n*=h3;\n    return n;\n}\n\nfloat model_decor_l3(vec2 uv){\n\tfloat n;\n    n=(1.-S(uv,abs(uv.x)- .001))*(1.-step(.121,uv.y))*1.2;\n    uv.x=abs(uv.x);\n    n=max(n,1.-S(uv,abs(-uv.x * 1.2 + uv.y* 1.52 - .183)- .002));\n    return n;\n}\n\nfloat model_decor_l4(float c2,vec2 uv){\n\tfloat n;\n    uv.x=abs(uv.x);\n    n=1.-S(uv,abs(uv.y- .23)- .001);\n    n*=c2;\n    return n;\n}\n\nfloat c4(vec2 uv){\n    uv*=1./0.02;\n    float r = length( uv );\n    return mix( 0., 0.9-0.84*pow(r,4.0), 1.0-smoothstep(0.74,0.95,r) );\n}\n\nfloat c5(vec2 uv){\n    uv*=1./0.02;\n    float r = length( uv );\n    return mix( 0., 0.9-0.84*pow(r,4.0), 1.0-smoothstep(0.74,0.95,r) );\n}\n\nvec3 model_decor_l5(float ccd,vec2 uv){\n\tfloat n=0.;\n    float lxn=S(uv,(-uv.x * 1.2 - uv.y* 1.52 + .02));\n    float c1=C(uv, vec2(-.055, .059), .020);\n    float c4=c4(uv-vec2(-.055, .059));\n    float c5=c5(uv-vec2(.050, -.031));\n    float c2=C(uv, vec2(.050, -.031), .020);\n    uv.x=abs(uv.x);\n    float lxn1=S(uv,-uv.x * 1.2 + uv.y* 1.52 + .283) ;\n    float lxn2=S(uv,-uv.x * 1.2 + uv.y* 1.52 + .233) ;\n    float lxn10=S(uv,-uv.x * 1.2 + uv.y* .1 + .075) ;\n    float lxn20=S(uv,-uv.x * 1.2 + uv.y* .1 + .05) ;\n    n=(1.-S(uv,abs(-uv.x * 1.2 + uv.y* 1.52 + .283)- .0015))*(lxn1*lxn10);\n    n=max(n,(1.-S(uv,abs(-uv.x * 1.2 + uv.y* 1.52 + .233)- .0015))*(lxn2*lxn20));\n    n=max(n,(1.-S(uv,abs(-uv.x * 1.2 + uv.y* .1 + .05)- .001))*(lxn2*lxn20));\n    n=max(n,(1.-S(uv,abs(-uv.x * 1.2 + uv.y* .1 + .075)- .001))*(lxn1*lxn10));\n    n*=lxn;\n    vec3 res=n*m4*2.;\n    return res*(1.-c1)*(1.-c2)+max(c1*(m2)*(1.-c4*ccd)*2.,c1*m4)+max(c2*(m2)*(1.-c5*ccd)*2.,c2*m2);\n}\n\n//animation dots\n//https://www.shadertoy.com/view/Xllcz7\n#define rand(p)  fract(sin(dot(p,vec2(12.9898,78.233))) * 43758.5453+(iTime/2.8))\nfloat model_ani_dots(vec2 uv )\n{\n    float num = 100.;\n    uv *= num;\n    return smoothstep(.5,.8, 1. -length(fract(uv.xy) - .5)) * rand(floor(uv)/num);\n}\n//-----\n\nvec3 model_decor(float hline,vec2 uv){\n    float n=0.;\n    float ll1=model_decor_ll1(hline,uv);\n    float h3=model_hline3(uv);\n    float c1=model_decor_c31(uv);\n    float c2=model_decor_c32(uv);\n    float cv1=model_decor_c2(uv);\n    vec3 cc1=cv1*m2;\n   \tn=max(n,model_decor_c1(ll1,uv));\n    n=max(n,model_decor_c3(hline,h3,ll1,uv));\n    n=max(n,model_decor_l1(hline,ll1,c1,c2,uv));\n    vec3 cc3=model_decor_l2(h3,uv)*m2*2.;\n    n=max(n,model_decor_l4(c2,uv));\n    float ccd=model_ani_dots(uv);\n    vec3 cc2=model_decor_l5(ccd,uv);\n    float mx1=1.-step(0.014,(max(abs(uv.x - 0.185), abs(uv.y*.315 - 0.096))));\n    float mx2=1.-step(0.025,(max(abs(uv.x + 0.0355), abs(uv.y*.458 - 0.117))));\n    return cc1*(1.-n)*3.+n*m3*2.+cc2+cc3+ccd*mx1*m2*3.+ccd*mx2*m1*3.;\n}\n\nfloat c1(vec2 uv){\n    uv.y+=-0.09;\n    uv*=2.5;\n    float r = length( uv );\n    return mix( 0., 0.9-0.84*pow(r,4.0), 1.0-smoothstep(0.94,0.95,r) );\n}\n\nfloat c2(vec2 uv){\n    \n    uv.x=abs(uv.x);\n    float di=(1.-S(uv,-uv.x * 1.2 + uv.y* 1.52 - .183));\n    float ssx=(smoothstep(-0.02,0.125,-uv.x * 1.2 + uv.y* .2 + .1505));\n    uv.y+=-0.168;\n    uv*=3.8;\n    uv.x+=0.309;\n    float r = length( uv );\n    r = (1.-ssx)*di+r*(1.-di);\n    float ret=mix( 0., 0.9-0.84*pow(r,4.0), (1.0-smoothstep(0.94,0.95,r))*(1.-di)+ssx*di);\n    return ret;\n}\n\nfloat c3(float hline,vec2 uv){\n    uv.x=abs(uv.x);\n    uv.y+=-0.25;\n    uv.x+=0.01;\n    uv*=7.05;\n    float r = length( uv );\n    return mix( 0., 0.9-0.84*pow(r,4.0), 1.0-smoothstep(0.64,0.95,r) )*hline;\n}\n\nvec3 eng_ani(vec2 uv)\n{\n\tfloat t = abs(1.0 / (uv.y * 50.0));\n\tt *= abs(1.0 / (uv.x * 50.0));\n\treturn  min(vec3(1.),t * smoothstep(0.03,0.,abs(uv.x))*m3*cos(cos(iTime)))*smoothstep(-0.2,0.,uv.y);\n}\n\n//stars background\n//https://www.shadertoy.com/view/ldfGWH\n\n// replaced random because sin-hash is broken\n// use https://www.shadertoy.com/view/4djSRW\nfloat random(vec2 p)\n{\n\tvec3 p3  = fract(vec3(p.xyx) * .1031);\n    p3 += dot(p3, p3.yzx + 33.33);\n    return fract((p3.x + p3.y) * p3.z);\n}\n\nfloat noise(in vec2 xy) \n{\n\tvec2 ij = floor(xy);\n\tvec2 uv = xy-ij;\n\tuv = uv*uv*(3.0-2.0*uv);\n\t\n\n\tfloat a = random(vec2(ij.x, ij.y ));\n\tfloat b = random(vec2(ij.x+1., ij.y));\n\tfloat c = random(vec2(ij.x, ij.y+1.));\n\tfloat d = random(vec2(ij.x+1., ij.y+1.));\n\tfloat k0 = a;\n\tfloat k1 = b-a;\n\tfloat k2 = c-a;\n\tfloat k3 = a-b-c+d;\n\treturn (k0 + k1*uv.x + k2*uv.y + k3*uv.x*uv.y);\n}\n\nvec3 background_stars(vec2 fragCoord )\n{\n    float time = 24.0;\n\t\n\tvec2 position = (fragCoord.xy);\n\n\tfloat color = pow(noise(fragCoord.xy), 40.0) * 20.0;\n\n\tfloat r1 = noise(fragCoord.xy*noise(vec2(sin(time*0.01))));\n\tfloat r2 = noise(fragCoord.xy*noise(vec2(cos(time*0.01), sin(time*0.01))));\n\tfloat r3 = noise(fragCoord.xy*noise(vec2(sin(time*0.05), cos(time*0.05))));\n\t\t\n\treturn vec3(color*r1, color*r2, color*r3);\n}\n//-----\n\nvec3 model(vec2 uv){\n    float n;\n    vec2 ouv=uv;\n    if(!(iMouse.z>0.5))uv*= MD(iTime/10.); //mouse\n    float h1=model_hline1(uv);\n    float mb=model_bot(h1,uv);\n    float mt=model_top(h1,uv)*c1(uv);\n    float c2x=c2(uv);\n    n=(mt*(1.-mb)+mb*c2x);\n    vec3 colxm=n*m0;\n    vec3 colxd1=(model_decor(h1,uv))*n;\n    vec3 colxd2=model_decor_l3(uv)*mb*c2x*m2*2.;\n    vec3 colbx=c3(h1,uv)*m4*(1.-mb)*(.5+7.*((sin(2.-cos(iTime/1.)))));\n    vec3 eng=eng_ani(vec2(abs(uv.x)-0.2,uv.y-0.23))*(1.-h1);\n    eng+=eng_ani(vec2(abs(uv.x)-0.25,uv.y-0.23))*(1.-h1);\n    vec3 resx=colxm+max(colxd1,colxd2)+colbx;\n    if(!(resx.r>0.))resx = (background_stars(vec2((ouv.x*(1./(iResolution.x / iResolution.y))+0.5)*iResolution.x,(ouv.y+0.5)*iResolution.y)));\n    resx+=eng;\n    return resx;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 res = iResolution.xy / iResolution.y;\n    vec2 uv = (fragCoord.xy) / iResolution.y - res/2.0;\n    fragColor = vec4(0.);\n    fragColor = vec4(model(uv),1.);\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}