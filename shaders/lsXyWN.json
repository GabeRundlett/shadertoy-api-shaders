{
    "Shader": {
        "info": {
            "date": "1488226536",
            "description": " golfing of abje's https://www.shadertoy.com/view/MsfyW4\n+ coyotes's https://www.shadertoy.com/view/ltfGzS",
            "flags": 0,
            "hasliked": 0,
            "id": "lsXyWN",
            "likes": 15,
            "name": "shortest Menger sponge (236 ch)",
            "published": 3,
            "tags": [
                "2tweets",
                "mengersponge",
                "short",
                "golf",
                "cuberaymarching"
            ],
            "usePreview": 0,
            "username": "FabriceNeyret2",
            "viewed": 1345
        },
        "renderpass": [
            {
                "code": "// 238: coyote\nvoid mainImage(out vec4 O,vec2 U)\n{\n    vec4 r, q=O-=O;\n    q.z = iTime;\n \n    float d=1.,s;\n    for (++O; d>1e-4 ; q += vec4(U/iResolution.x-.5,1,1)*d, O -= .01 )   // windows bug if s init in loop while reused in next loop\n        for ( s=1.,d=0. ; s<99. ; s*=3. )\n            d = max(d, (.33-min(min(r = max( r = abs(mod(q*s+1.,2.)-1.) , r.yzxw ),r.z).y, r.x)) / s );\n         // r = max( r = abs(mod(q*s+1.,2.)-1.) , r.yzxw ),\n         // d = max(d, (.33-min(r.x,min(r.y,r.z))) / s );    // try .66 :-)\n}\n\n\n/** // 243: Fabrice   +1 to fix windows bug\nvoid mainImage(out vec4 O,vec2 U)\n{\n    vec4 p = vec4(U/iResolution.x-.5,1,1), r, q=p-p;\n    q.z = iTime;\n    O = p/p;\n \n    float d=1.,s;\n    for (; d>1e-4 ; q += p*d, O -= .01 )   // windows bug if s init in loop while reused in next loop\n        for ( s=1.,d=0. ; s<99. ; s*=3. )\n            r = max( r = abs(mod(q*s+1.,2.)-1.) , r.yzxw ),\n            d = max(d, (.33-min(r.x,min(r.y,r.z))) / s );    // try .66 :-)\n    \n}\n/**/\n\n/** // 247: iapafoto \nvoid mainImage(out vec4 O,vec2 U)\n{\n    vec4 p = vec4(U/iResolution.x-.5,1,1), r, q=p-p;\n    q.z = iTime;\n    O = p/p;\n \n    float d=.1, s;\n    while(d>1e-4) {\n        q += p*d; O -= .01;\n        for(s=1.,d=0.; s<99.; s*=3. )\n            r = max( r = abs(mod(q*s+1.,2.)-1.) , r.yzxw ),\n            d = max(d, (.33-min(r.x,min(r.y,r.z))) / s );    // try .66 :-)\n    }\n}\n/**/\n\n/** // 258: iapafoto \nvoid mainImage(out vec4 O,vec2 U)\n{\n    vec4 p = vec4(U/iResolution.x-.5,1,1), r, q=p-p;\n    q.z = iTime;\n    O = p/p;\n    \n    float d=.1, s=1.;\n    while( O.x>.1  && d>1e-4) {\n        q += p*d; O -= .01;\n        for(s=1.,d=0.; s<99.; s*=3. )\n            r = max( r = abs(mod(q*s+1.,2.)-1.) , r.yzxw ),\n            d = max(d, (.33-min(r.x,min(r.y,r.z))) / s );    // try .66 :-)\n    }\n}\n**/\n\n\n/** // 264: Fab                    -2: vec3, O -= O++;  \n\nvoid mainImage(out vec4 O,vec2 U)\n{\n    vec4 p = vec4(U/iResolution.x-.5,1,1), r, q=p-p;\n    q.z = iTime;\n    O = p/p;\n    \n    float d=1., s, j;\n    for( int i=0 ;  i++ < 90 && d > 1e-4 ; q += p*d, O -= .01 ) \n        for( j=d=0.,s=1. ; j++ < 5. ; s *= 3. )\n            r = max( r = abs(mod(q*s+1.,2.)-1.) , r.yzxw ),\n            d = max(d, (.33-min(r.x,min(r.y,r.z))) / s );    // try .66 :-)\n}\n/**/\n\n\n\n/** // 266: coyote  \"while\" approach.\n\nvoid mainImage(out vec4 O,vec2 U)\n{\n    vec4 p = vec4(U/iResolution.x-.5,1,1), r, q=p-p;\n    q.z = iTime;\n    O = p/p;\n    \n    float d=1., s, i=d, j;\n    while( i++ < 91. && d > 1e-4 ) {\n        for( j=d=0.,s=1.; j++ < 5.; )\n            r = max( r = abs(mod(q*s+1.,2.)-1.) , r.yzxw ),\n            d = max(d, (.33-min(r.x,min(r.y,r.z))) / s ), \n            s *= 3.;\n        q += p*d, O -= .01;\n    }\n}\n/**/\n\n\n\n/** // 267: Greg mixing with https://www.shadertoy.com/view/ltfGzS\n\nvoid mainImage(out vec4 O,vec2 U)\n{\n    vec4 p = vec4(U/iResolution.x-.5,1,1), r, q=p-p;\n    q.z = iTime;\n    O = p/p;\n    \n    for (int i=0; i < 90; i++) {\n        float d=0.,s=1.;\n        for (int i=0; i < 5; i++)\n            r = max( r = abs(mod(q*s+1.,2.)-1.) , r.yzxw ),\n            d = max(d, (.33-min(r.x,min(r.y,r.z))) / s ),\n            s *= 3.;\n        d > 1e-4 ? q += p*d, O -= .01 : O;\n    }\n}\n**/\n\n \n    \n/** // golfing of https://www.shadertoy.com/view/MsfyW4    375\n\nvoid mainImage( out vec4 O,  vec2 U )\n{    \n    vec3 p = vec3(0,.37,iTime*.1),\n         D = normalize(vec3(U+U - (O.xy=iResolution.xy) , O.y)), m,q,r;\n    \n    float d = 0., n;\n    \n    for (int i = 0; i < 99; i++) {\n        m -= m;\n        n = 1.;\n        for (int j = 0; j < 5; j++) {        \n            q = n/3. - abs(mod(p+D*d +n,n*2.)-n),\n            r = q.z<q.y ? q.xzy : q;\n            r.y<r.x ? r.xy=r.yx : U;\n            r.z<r.y ? r.yz=r.zy : U;\n            m = max(m, step(q,r.yyy)*q);\n            n /= 3.;    \n        }\n        d += n = max(max(m.x,m.y),m.z);\n        \n        if (n < 1e-3 || d > 4.) break;\n    }\n    \n    O += exp(-d) -O;               // grey version\n  //O.rgb = n < 1e-3 ? m/n : m-m;  // color version\n}\n**/",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}