{
    "Shader": {
        "info": {
            "date": "1428626632",
            "description": "This shader is a modification of Trisomie21's  2TC shader:\n[url]https://www.shadertoy.com/view/4lf3zS[/url]",
            "flags": 0,
            "hasliked": 0,
            "id": "Xt23D1",
            "likes": 6,
            "name": "Rollers (2TC) - 234 chars",
            "published": 3,
            "tags": [
                "3d",
                "raymarching",
                "displacement",
                "cubemap",
                "2tc"
            ],
            "usePreview": 0,
            "username": "GregRostami",
            "viewed": 948
        },
        "renderpass": [
            {
                "code": "void mainImage(out vec4 f, vec2 w) {\nvec3 p = vec3(w,0)/iResolution.x-.5, d=p, t;\nfloat T=iTime, v, i=2.;\np.yz -= T+T;\n    while((i-=.01)>0.){\n    t = mod(p, 8.)-4.;\n    t.zy *= mat2( cos( vec4(0,33,55,0) - T));\n    vec4 c = texture(iChannel0, t);\n        v = c.x + length(t)-2.;v>.01 ? p -= d*v*.3, f = c*i : f;} }/*\n\n// 254 chars - Thank you Fabrice for reducing this shader. \n\nvoid mainImage(out vec4 f,vec2 w) \n{\n    vec3 p = vec3(w,0)/iResolution.x-.5, d=p, t;\n    float T=iTime, v, i=2.;\n    \n    p.yz -= T+T;\n    while((i-=.01)>0.)\n    {\n        t = mod(p, 8.)-4.;\n        t.zy *= mat2(cos(T - .8*vec4(6,0,0,2)));\n\t\tvec4 c = texture(iChannel0, t);\n        v = c.x + length(t)-2.;\n        v>.01 ? p -= d*v*.3, f = c*i : f ;\n    }\n}\n\n\n// 259 chars - Thank you Fabrice for reducing this shader. \n\nvoid mainImage(out vec4 f,vec2 w) \n{\n    vec3 p = vec3(w,0)/iResolution.x-.5, d=p, t;\n    float T=iTime, v;\n    \n    p.yz -= T+T;\n    for(float i = 2.; i >0.; i-=.01)\n    {\n        t = mod(p, 8.)-4.;\n        t.zy *= mat2(cos(T - 1.6*vec4(3,0,0,1)));\n\t\tvec4 c = texture(iChannel0, t);\n        v = c.x + length(t)-2.;\n        v>.01 ? p -= d*v*.3, f = c*i : f ;\n    }\n}\n\n\n// 276 chars - I know there's a lot more that can be done to reduce this shader. Please help.\n\nvoid mainImage(out vec4 f,vec2 w) \n{\n    vec3 p = vec3(w,0)/iResolution.x-.55, d=p, t, c;\n    p.z -= 2.*(f.a = iTime);\n    for(float i = 2.; i >0.; i-=.01)\n    {\n        t = mod(p, 8.)-4.;\n        t.zy *= mat2(cos(f.a - 1.57*vec4(3,0,0,1)));\n\t\tc = texture(iChannel0, t).xyz;\n        t = c + length(t)-2.7;\n        if(t.x<.01) break;\n        p -= d*t.x*.2;\n        f.rgb = c*i;\n    }\n}\n\n\n// Thanks to the help of coyote, I got my shader down to two tweets (280 chars)\n\nvoid mainImage( out vec4 f, vec2 w ) \n{\n    vec4 p = vec4(w,0,0)/iResolution.x-.55, d=p, t, c;\n    float T = iTime, C = cos(T), S = sin(T);\n    p.z -= T+T;\n    for(float i = 2.; i >0.; i-=.01)\n    {\n        t = mod(p, 8.)-4.;\n        t.zy *= mat2(C,S,-S,C);\n\t\tc = texture(iChannel0, t.xyz);\n        t = c + length(t.xyz)-2.7;\n        if(t.x<.01) break;\n        p -= d*t.x*.2;\n        f = c*i;\n    }\n}\n\n\n// Here's my original shader for reference.\n\nvoid mainImage( out vec4 f, vec2 w ) \n{\n    vec4 p = vec4(w,0,0)/iResolution.x-.55, d=p, t, c;\n    float T = iTime, C = cos(T), S = sin(T);\n    p.z -= T+T;\n    for(float i = 2.; i >0.; i-=.01)\n    {\n        t = mod(p, 8.)-4.;\n        c = texture(iChannel0, mat3(0,1,0, C,0,S, -S,0,C) * t.xyz);\n        t = c + length(t.xyz)-2.7;\n        if(t.x<.01) break;\n        p -= d*t.x*.2;\n        f = c*i;\n    }\n}\n*/",
                "description": "",
                "inputs": [
                    {
                        "channel": 0,
                        "ctype": "cubemap",
                        "id": 24,
                        "published": 1,
                        "sampler": {
                            "filter": "linear",
                            "internal": "byte",
                            "srgb": "false",
                            "vflip": "false",
                            "wrap": "clamp"
                        },
                        "src": "/media/a/488bd40303a2e2b9a71987e48c66ef41f5e937174bf316d3ed0e86410784b919.jpg"
                    }
                ],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}