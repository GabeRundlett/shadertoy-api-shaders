{
    "Shader": {
        "info": {
            "date": "1393625491",
            "description": "Based on an old Mac screensaver I liked back in the day. Click and drag to change the gradient used.",
            "flags": 0,
            "hasliked": 0,
            "id": "XsS3DV",
            "likes": 37,
            "name": "Satori",
            "published": 3,
            "tags": [
                "blobs",
                "distancefield",
                "metaballs",
                "gradient"
            ],
            "usePreview": 0,
            "username": "phagor",
            "viewed": 2215
        },
        "renderpass": [
            {
                "code": "\nfloat k = 20.0;\nfloat field = 0.0;\nvec2 coord;\n\nvec2 center ( vec2 border , vec2 offset , vec2 vel ) {\n\tvec2 c;\n\tif ( vel.x == 0.0 && vel.y == 0.0 ) {\n\t\tc = vec2(iMouse.x, iMouse.y);\t\n\t} \n\telse {\n\t\tc = offset + vel * iTime * 0.5;\n\t\tc = mod ( c , 2. - 4. * border );\n\t\tif ( c.x > 1. - border.x ) c.x = 2. - c.x - 2. * border.x;\n\t\tif ( c.x < border.x ) c.x = 2. * border.x - c.x;\n\t\tif ( c.y > 1. - border.y ) c.y = 2. - c.y - 2. * border.y;\n\t\tif ( c.y < border.y ) c.y = 2. * border.y - c.y;\n\t}\n\treturn c;\n}\n\nvoid circle ( float r , vec3 col , vec2 offset , vec2 vel ) {\n\tvec2 pos = coord.xy / iResolution.y;\n\tfloat aspect = iResolution.x / iResolution.y;\n\tvec2 c = center ( vec2 ( r / aspect , r ) , offset , vel );\n\tc.x *= aspect;\n\tfloat d = distance ( pos , c );\n\tfield += ( k * r ) / ( d*d );\n}\n\t\nvec3 band ( float shade, float low, float high, vec3 col1, vec3 col2 ) {\n\n\tif ( (shade >= low) && (shade <= high) ) {\n\t\tfloat delta = (shade - low) / (high - low);\n\t\tvec3 colDiff = col2 - col1;\n\t\treturn col1 + (delta * colDiff);\n\t}\n\telse\n\t\treturn vec3(0.0,0.0,0.0);\n}\n\nvec3 gradient ( float shade ) {\n\tvec3 colour = vec3( (sin(iTime/2.0)*0.25)+0.25,0.0,(cos(iTime/2.0)*0.25)+0.25);\n\t\n\tvec2 mouseScaled = iMouse.xy/iResolution.xy;\n\tvec3 col1 = vec3(mouseScaled.x, 0.0, 1.0-mouseScaled.x);\n\tvec3 col2 = vec3(1.0-mouseScaled.x, 0.0, mouseScaled.x);\n\tvec3 col3 = vec3(mouseScaled.y, 1.0-mouseScaled.y, mouseScaled.y);\n\tvec3 col4 = vec3((mouseScaled.x+mouseScaled.y)/2.0, (mouseScaled.x+mouseScaled.y)/2.0, 1.0 - (mouseScaled.x+mouseScaled.y)/2.0);\n\tvec3 col5 = vec3(mouseScaled.y, mouseScaled.y, mouseScaled.y);\n\t\n\tcolour += band ( shade, 0.0, 0.3, colour, col1 );\n\tcolour += band ( shade, 0.3, 0.6, col1, col2 );\n\tcolour += band ( shade, 0.6, 0.8, col2, col3 );\n\tcolour += band ( shade, 0.8, 0.9, col3, col4 );\n\tcolour += band ( shade, 0.9, 1.0, col4, col5 );\n\t\n\treturn colour;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n\n    coord = fragCoord;\n    \n\tcircle ( .03 , vec3 ( 0.7 , 0.2 , 0.8 ) , vec2 ( .6 ) , vec2 ( .30 , .70 ) );\n\tcircle ( .05 , vec3 ( 0.7 , 0.9 , 0.6 ) , vec2 ( .1 ) , vec2 ( .02 , .20 ) );\n\tcircle ( .07 , vec3 ( 0.3 , 0.4 , 0.1 ) , vec2 ( .1 ) , vec2 ( .10 , .04 ) );\n\tcircle ( .10 , vec3 ( 0.2 , 0.5 , 0.1 ) , vec2 ( .3 ) , vec2 ( .10 , .20 ) );\n\tcircle ( .20 , vec3 ( 0.1 , 0.3 , 0.7 ) , vec2 ( .2 ) , vec2 ( .40 , .25 ) );\n\tcircle ( .30 , vec3 ( 0.9 , 0.4 , 0.2 ) , vec2 ( .0 ) , vec2 ( .15 , .20 ) );\n\tcircle ( .30 , vec3 ( 0.0 , 0.0 , 0.0 ) , vec2 ( .0 ),  vec2 ( 0.0, 0.0 ) );\n\t\n\tfloat shade = min ( 1.0, max ( field/256.0, 0.0 ) );\n\t\n\tfragColor = vec4( gradient(shade), 1.0 );\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}