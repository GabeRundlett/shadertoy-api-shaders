{
    "Shader": {
        "info": {
            "date": "1621886179",
            "description": "Just a little regression I made from the lookup table for Blender's wavelength node :)",
            "flags": 0,
            "hasliked": 0,
            "id": "7djGzh",
            "likes": 4,
            "name": "Custom wavelength function",
            "published": 3,
            "tags": [
                "wavelength"
            ],
            "usePreview": 0,
            "username": "milesWaugh",
            "viewed": 351
        },
        "renderpass": [
            {
                "code": "float a1 =  246.611;\nfloat c1 =  101.012;\nfloat a2 =  84.9146;\nfloat d2 =  51.6093;\nfloat c2 =  41.4358;\nfloat a3 = -74.9107;\nfloat d1 =  248.567;\nfloat c3 = -26.0807;\nfloat a4 = -18.3549;\nfloat c4 =  153.137;\n\nfloat a5 =  93.6835;\nfloat d5 =  301.903;\nfloat c5 =  43.6979;\nfloat a6 =  220.991;\nfloat d6 =  220.999;\nfloat c6 = -84.7918;\nfloat a7 = -35.6888;\nfloat d7 =  105.534;\nfloat c7 = -16.4446;\nfloat a8 =  4004.65;\nfloat d8 =  .313595;\nfloat c8 =  .313595;\nfloat f1 = -2.9286;\n\nfloat a9  =  5145600.;\nfloat d9  =  101.985;\nfloat c9  =  67.7637;\nfloat a10 =  23566.2;\nfloat d10 =  82.649;\nfloat c10 =  65.8543;\nfloat a11 = -5167000.;\nfloat d11 =  101.899;\nfloat c11 =  67.78;\nfloat k   =  .714803;\n\nfloat r(float x){\n    if(x>591.){\n        return 0.;\n    }\n\n    if(125.5<x && x<250.2){\n        return 0.;\n    }\n        float e1 = (x-350.)/c1;\n        float s1 = a1*exp(-e1*e1);\n        float e2 = (x-d2)/c2;\n        float s2 = a2*exp(-e2*e2);\n        float e3 = (x-d1)/c3;\n        float s3 = a3*exp(-e3*e3);\n        float e4 = (x-d1)/c4;\n        float s4 = a4*exp(-e4*e4);\n        return (s1+s2+s3+s4)/255.;\n}\n\nfloat g(float x){\n    if(100.>x || x>402.){\n        return 0.;\n    }\n        float e1 = (x-d5)/c5;\n        float s1 = a5*exp(-e1*e1);\n        float e2 = (x-d6)/c6;\n        float s2 = a6*exp(-e2*e2);\n        float e3 = (x-d7)/c7;\n        float s3 = a7*exp(-e3*e3);\n        float e4 = (x-d8)/c8;\n        e4 = e4*e4*e4;\n        float s4 = a8*exp(-e4*e4);\n        return max(s1+s2+s3+s4+f1,0.)/255.;\n}\n\nfloat b(float x){\n    if(x>220.){\n        return 0.;\n    }\n        float e1 = (x-d9 )/c9 ;\n        float s1 = a9 *exp(-e1*e1);\n        float e2 = (x-d10)/c10;\n        float s2 = a10*exp(-e2*e2);\n        float e3 = (x-d11)/c11;\n        float s3 = a11*exp(-e3*e3);\n        return min(max(s1+s2+s3+k,0.)/255.,1.);\n}\n\nvec3 wave(float wavelength){\n    float x = (wavelength-400.)*(512./300.);\n    return(vec3(r(x), g(x), b(x)));\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord){\n    float x = 300.+500.*(fragCoord.x/iResolution.x);\n    vec3 col = wave(x);\n    col = sqrt(col);\n    fragColor = vec4(col,1.0);\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}