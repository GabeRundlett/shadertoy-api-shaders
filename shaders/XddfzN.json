{
    "Shader": {
        "info": {
            "date": "1524300819",
            "description": "variation of \"self-reconfiguring circuit\" by laserdog\nhttps://www.shadertoy.com/view/ltXfz7\n\nPorted to twgl.js in the background on https://foulab.org",
            "flags": 0,
            "hasliked": 0,
            "id": "XddfzN",
            "likes": 23,
            "name": "electric clouds",
            "published": 3,
            "tags": [
                "voronoi",
                "circuit"
            ],
            "usePreview": 0,
            "username": "danukeru",
            "viewed": 819
        },
        "renderpass": [
            {
                "code": "#define pi  3.14159\n#define tau 6.28318\n#define rot(a) mat2(cos(a), -sin(a), sin(a), cos(a)) // col1a col1b col2a col2b\n\nvec2 random2( vec2 p ) {\n    return fract(sin(vec2(dot(p,vec2(127.1,311.7)),dot(p,vec2(269.5,183.3))))*43758.5453);\n}\n\nconst float timeDiv = 5.5;\n\nfloat voronoi(vec2 uv) \n{\n    vec2 cell = floor(uv);\n    vec2 frac = fract(uv);\n\tfloat ret = 1.0;\n    float change = iTime / timeDiv;\n\n    for (int i = -1; i <= 1; i++) {\n        for (int j = -1; j <=1; j++) {\n        \tvec2 neighbor = vec2(float(i), float(j));\n            vec2 rand = random2(cell + neighbor);\n            float t = iTime *floor(sin(iTime));\n            rand = 0.5 + 0.5 * sin(change * 4. + 2. * pi * rand);\n            vec2 toCenter = neighbor + rand - frac;\n            ret = min(ret, max(abs(toCenter.x), abs(toCenter.y)));\n        }\n    }\n    \n    return ret;\n}\n\nvec2 gradient(in vec2 x, float thickness)\n{\n\tvec2 h = vec2(thickness, 0.);\n    return vec2(voronoi(x + h.xy) - voronoi(x - h.xy),\n               voronoi(x + h.yx) - voronoi(x - h.yx)) / (.9 * h.x);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{    \n\tvec2 uv = fragCoord / iResolution.xy;\n    uv.x *= iResolution.x / iResolution.y;\n\n    uv *= 3.85;\n    \n    float val = voronoi(uv) / length(gradient(uv, .0235));\n    float colVal = pow(val, 3.) *3.9;\n    \n    fragColor.rgb = mix( vec3(0.86+colVal, 0.86+colVal, 0.86+colVal), \n                        vec3(0.6, 0.6, 0.6),\n                        clamp(0.5, 0.5, 0.5));\n\n}",
                "description": "",
                "inputs": [],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}