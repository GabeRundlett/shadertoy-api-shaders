{
    "Shader": {
        "info": {
            "date": "1604141922",
            "description": "[url]https://inktober.com/[/url]\n#inktober2020 themes: [img]https://i.imgur.com/b3gMiu0.png[/img]\nRef image: [url] https://www.youtube.com/watch?v=UVNpc9tM2LQ [/url]",
            "flags": 0,
            "hasliked": 0,
            "id": "3d3fRr",
            "likes": 14,
            "name": "Fab31 #inktober2020 \"crawl\"",
            "published": 3,
            "tags": [
                "2d",
                "short",
                "reproduction",
                "inktober2020"
            ],
            "usePreview": 0,
            "username": "FabriceNeyret2",
            "viewed": 377
        },
        "renderpass": [
            {
                "code": "// maths: tried hard, ...  https://www.desmos.com/calculator/pixe2ayhtt\n//    ... finally opted for simple: https://www.desmos.com/calculator/nyhvir7uj2\n\nfloat line(vec2 p, vec2 a,vec2 b) {                              // https://www.shadertoy.com/view/llySRh\n    p -= a, b -= a;  \n    return length(p - b * clamp(dot(p, b) / dot(b, b), 0., 1.) );\n}\n\n#define M(v)   d = min(d, line(U,p,p+v)), p+=v;                  // move pencil by v\n#define S(v)   smoothstep( 3./R.y, 0., v )\n\nvoid mainImage( out vec4 O, vec2 u )\n{\n    vec2  R = iResolution.xy,\n          U = ( u+u - R ) / R.y, c, p;\n    float t = 4.*iTime, L = 1.,                                  // L: worm arc-length\n          a = .5+.5*(.5+.5*cos(t)), l = a*L,                     // l: worm projected length\n          g = l/2.-L/4., A = L/2.*sqrt(a-a*a),                   // (g,Â±A) = sloppy worm segment\n          r = 1.2*R.x/R.y,\n          d = L;\n    c = vec2( L/8. ,0 );\n    p = vec2( mod(   L/2.* ceil(t/6.2832),2.15*r ) -r            // by-cycle advance\n                  + ( sin(t)>0.?-l:-L/2. ) , -.5 );              // in-cycle advance\n    \n    M(c) M(vec2(g,A)) M(c) M(vec2(g,-A)) M(c)                    // draw body: 5 segments\n        \n    O = U.y < p.y ? texture(iChannel0, U) : vec4(.8,1,.8,1);     // background\n    O = mix( O*(U*U).y,  vec4( 0,.5,0,1), S(abs(d)-.05) );       // compose body on background\n    \n    t = sin(t);                                                  // draw eyes\n#define E \\\n        g = S(length( ( U -p-vec2(0,.04) ) * vec2(1.5,1) ) - .04 );        \\\n        a = S(length( U -p -.03* vec2(max(.0,t), 2.-.5*abs(t) ) ) - .01 ); \\\n        O = mix(O, vec4(1.-a) ,g);\n    E \n    p -= .01*vec2(3,1); E\n}",
                "description": "",
                "inputs": [
                    {
                        "channel": 0,
                        "ctype": "texture",
                        "id": 7,
                        "published": 1,
                        "sampler": {
                            "filter": "mipmap",
                            "internal": "byte",
                            "srgb": "false",
                            "vflip": "true",
                            "wrap": "repeat"
                        },
                        "src": "/media/a/fb918796edc3d2221218db0811e240e72e340350008338b0c07a52bd353666a6.jpg"
                    }
                ],
                "name": "Image",
                "outputs": [
                    {
                        "channel": 0,
                        "id": 37
                    }
                ],
                "type": "image"
            }
        ],
        "ver": "0.1"
    }
}